webpackJsonp([20],{19:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(){var e={code:["\n      <template>\n        <y-editgrid params=\"rows: $root.editgridrows, columns: $root.editgridcolumns\"></y-editgrid>\n      </template>\n      <script>\n        var viewmodel = {\n          editgridcolumns: ko.observableArray([{\n              width: '20%',\n              title: '品牌产地/材质',\n              field: 'product',\n              summaryType: 'render',\n              summaryFn: (row) => {\n                var template = \"<div><div>\" +\n                row.materialName + \"</div><div>\" + row.num + row.unit + \"需求组织：\" +\n                row.reqOrg + \"</div><div>规格：\" + row.spec + \"</div></div>\"\n                return template\n              },\n              type: 'component',\n              compFn: (row) => {\n                return {\n                  name: 'y-input',\n                  params: {\n                    value: row.product\n                  }\n                }\n              }\n            }, {\n              width: '10%',\n              title: '税率',\n              field: 'taxrate',\n              align: 'right',\n              type: 'component',\n              compFn: (row) => {\n                return {\n                  name: 'y-input',\n                  params: {\n                    value: row.taxrate,\n                    align: 'right'\n                  }\n                }\n              }\n            }, {\n              width: '10%',\n              title: '无税单价(元)',\n              align: 'right',\n              field: 'price',\n              type: 'component',\n              compFn: (row) => {\n                return {\n                  name: 'y-input',\n                  params: {\n                    value: row.price,\n                    align: 'right'\n                  }\n                }\n              }\n            }, {\n              width: '10%',\n              title: '金额',\n              align: 'right',\n              field: 'amount',\n              type: 'component',\n              compFn: (row) => {\n                return {\n                  name: 'y-input',\n                  params: {\n                    value: row.amount,\n                    align: 'right'\n                  }\n                }\n              }\n            }, {\n              width: '20%',\n              title: '交货期',\n              field: 'reqDate',\n              type: 'component',\n              compFn: (row) => {\n                return {\n                  name: 'y-datepicker',\n                  params: {\n                    data: row.reqDate\n                  }\n                }\n              }\n            }, {\n              width: '20%',\n              title: '备注',\n              field: 'remark',\n              type: 'component',\n              compFn: (row) => {\n                return {\n                  name: 'y-input',\n                  params: {\n                    value: row.remark\n                  }\n                }\n              }\n      \n            }\n          ]),\n          editgridrows: ko.observableArray([{\n            materialName: '硫酸钾',\n            num: 2000,\n            unit: '吨',\n            reqOrg: '广东那方是你优先公司',\n            spec: 'XLLL 1号 #UIO 型号，历史采购档次一致',\n            product: '',\n            taxrate: 17,\n            price: 200.00,\n            amount: 400000.00,\n            reqDate: ko.observable(''),\n            holdDate: ko.observable(''),\n            remark: ''\n          }, {\n            materialName: '硫酸钾',\n            num: 200,\n            unit: '吨',\n            reqOrg: '广东那方是你优先公司',\n            spec: 'XLLL 1号 #UIO 型号，历史采购档次一致',\n            product: '',\n            taxrate: 17,\n            price: 220.00,\n            amount: 400000.00,\n            reqDate: ko.observable(''),\n            holdDate: ko.observable(''),\n            remark: ''\n          }, {\n            materialName: '硫酸钾',\n            num: 1000,\n            unit: '吨',\n            reqOrg: '广东那方是你优先公司',\n            spec: 'XLLL 1号 #UIO 型号，历史采购档次一致',\n            product: '',\n            taxrate: 17,\n            price: '',\n            amount: '',\n            reqDate: ko.observable(''),\n            holdDate: ko.observable(''),\n            remark: ''\n          }\n        ])\n        }\n      <\/script>\n    ","\n    <template>\n      <y-childgrid params=\"rows: $root.childgridrows, columns:$root.childgridcolumns\"></y-childgrid>\n    </template>\n    <script>\n      var viewmodel = {\n        childgridcolumns: [{\n          title: '姓名',\n          field: 'name',\n          width: '20%',\n          summaryType: 'render',\n          summaryFn: (row) => {\n            return '<div>' + row.title + '</div><p>这是一个summaryRow</p>'\n          },\n          childGridFn (row) {\n            return {\n              name: 'y-grid',\n              params: {\n                nohead: true,\n                noborder: true,\n                maxheight: 'auto',\n                columns: [{\n                  field: 'name',\n                  width: '20%',\n                }, {\n                  field: 'age',\n                  width: '10%'\n                }, {\n                  field: 'sex',\n                  width: '30%'\n                }],\n                rows: ko.observableArray(row.list)\n              }\n            }\n          }\n        }, {\n          title: '年龄',\n          field: 'age',\n          width: '10%'\n        }, {\n          title: '性别',\n          field: 'sex',\n          width: '30%'\n        }],\n        childgridrows: ko.observableArray([{\n          title: '第一行',\n          list: [\n            {\n              name: 'songjl',\n              age: 30,\n              sex: '男'\n            }, {\n              name: 'wuyg',\n              age: 35,\n              sex: '男'\n            }, {\n              name: 'wu2yg',\n              age: 15,\n              sex: '女'\n            }\n          ]\n        }, {\n          title: 'name2',\n          list: [\n            {\n              name: 'lixih',\n              age: 14,\n              sex: '女'\n            }, {\n              name: 'guotg',\n              age: 25,\n              sex: '男'\n            }\n          ]\n        }])\n      } \n    <\/script>\n    "],editgridrows:a.default.observableArray([{materialName:"硫酸钾",num:2e3,unit:"吨",reqOrg:"广东那方是你优先公司",spec:"XLLL 1号 #UIO 型号，历史采购档次一致",product:"",taxrate:17,price:200,amount:4e5,reqDate:a.default.observable(""),holdDate:a.default.observable(""),remark:""},{materialName:"硫酸钾",num:200,unit:"吨",reqOrg:"广东那方是你优先公司",spec:"XLLL 1号 #UIO 型号，历史采购档次一致",product:"",taxrate:17,price:220,amount:4e5,reqDate:a.default.observable(""),holdDate:a.default.observable(""),remark:""},{materialName:"硫酸钾",num:1e3,unit:"吨",reqOrg:"广东那方是你优先公司",spec:"XLLL 1号 #UIO 型号，历史采购档次一致",product:"",taxrate:17,price:"",amount:"",reqDate:a.default.observable(""),holdDate:a.default.observable(""),remark:""}]),editgridcolumns:a.default.observableArray([{width:"20%",title:"品牌产地/材质",field:"product",summaryType:"render",summaryFn:function(e){return"<div><div>"+e.materialName+"</div>\n        <div>"+e.num+e.unit+"\n          需求组织："+e.reqOrg+"\n        </div>\n        <div>规格："+e.spec+"</div></div>"},type:"component",compFn:function(e){return{name:"y-input",params:{value:e.product}}}},{width:"10%",title:"税率",field:"taxrate",align:"right",type:"component",compFn:function(e){return{name:"y-input",params:{value:e.taxrate,align:"right"}}}},{width:"10%",title:"无税单价(元)",align:"right",field:"price",type:"component",compFn:function(e){return{name:"y-input",params:{value:e.price,align:"right"}}}},{width:"10%",title:"金额",align:"right",field:"amount",type:"component",compFn:function(e){return{name:"y-input",params:{value:e.amount,align:"right"}}}},{width:"20%",title:"交货期",field:"reqDate",type:"component",compFn:function(e){return{name:"y-datepicker",params:{data:e.reqDate}}}},{width:"20%",title:"备注",field:"remark",type:"component",compFn:function(e){return{name:"y-input",params:{value:e.remark}}}}]),childgridcolumns:[{title:"姓名",field:"name",width:"20%",summaryType:"render",summaryFn:function(e){return"<div>"+e.title+"</div><p>这是一个summaryRow</p>"},childGridFn:function(e){return{name:"y-grid",params:{nohead:!0,noborder:!0,maxheight:"auto",columns:[{field:"name",width:"20%"},{field:"age",width:"10%"},{field:"sex",width:"30%"}],rows:a.default.observableArray(e.list)}}}},{title:"年龄",field:"age",width:"10%"},{title:"性别",field:"sex",width:"30%"}],childgridrows:a.default.observableArray([{title:"第一行",list:[{name:"songjl",age:30,sex:"男"},{name:"wuyg",age:35,sex:"男"},{name:"wu2yg",age:15,sex:"女"}]},{title:"name2",list:[{name:"lixih",age:14,sex:"女"},{name:"guotg",age:25,sex:"男"}]}])};a.default.applyBindings(e,document.getElementById("app"))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(64),r=_interopRequireDefault(i),o=n(0),a=_interopRequireDefault(o);n(42),t.default={template:r.default,init:init}},42:function(e,t,n){"use strict";n(43),n(58)},43:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(e){this.code=e.code,this.isShowAll=a.default.observable(!1),this.toggle=function(){this.isShowAll(!this.isShowAll())}.bind(this)}var i=n(44),r=_interopRequireDefault(i);n(45),n(46);var o=n(0),a=_interopRequireDefault(o);a.default.components.register("demo",{viewModel:init,template:r.default})},44:function(e,t){e.exports='<div class="demo">\n  <div class="demo-show">\n  \x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e\n  </div>\n  <div class="demo-split"></div>\n  <div class="demo-code" data-bind="css:{\'demo-hideCode\':!isShowAll()}">\n    <y-code params="code:code"></y-code>\n  </div>\n  <div class="demo-toggle" data-bind="click:toggle"><span class="fa" data-bind="css:{\'fa-angle-double-down\':!isShowAll(),\'fa-angle-double-up\':isShowAll()}"></span></div>\n</div>\n'},45:function(e,t){},46:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Init(e,t){var n=this;this.$el=t.childNodes[0].childNodes[3],this.code=e.code,this.copy=function(){var t=new u.default(".copy",{text:function(){return e.code}});t.on("success",function(e){e.clearSelection(),t.destroy(),window.alert("代码已复制到剪贴板")})},setTimeout(function(){c.default.highlightBlock(n.$el)})}var i=n(47),r=_interopRequireDefault(i);n(48);var o=n(0),a=_interopRequireDefault(o),l=n(3),c=_interopRequireDefault(l),s=n(49),u=_interopRequireDefault(s);n(57),a.default.components.register("y-code",{viewModel:{createViewModel:function(e,t){return new Init(e,t.element)}},template:r.default})},47:function(e,t){e.exports='<div class="code">\n  <div class="tools">\n    <i class="fa fa-clipboard copy" data-bind="click: copy"></i>\n  </div>\n  <pre><code class="html" data-bind="text: code"></code></pre>\n</div>\n'},48:function(e,t){},49:function(e,t,n){var i,r,o;!function(a,l){r=[e,n(50),n(52),n(53)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(0,function(e,t,n,i){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getAttributeValue(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var r=_interopRequireDefault(t),o=_interopRequireDefault(n),a=_interopRequireDefault(i),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),s=function(e){function Clipboard(e,t){_classCallCheck(this,Clipboard);var n=_possibleConstructorReturn(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return _inherits(Clipboard,e),c(Clipboard,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return getAttributeValue("action",e)}},{key:"defaultTarget",value:function(e){var t=getAttributeValue("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return getAttributeValue("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),Clipboard}(o.default);e.exports=s})},50:function(e,t,n){var i,r,o;!function(a,l){r=[e,n(51)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(0,function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function(){function ClipboardAction(e){_classCallCheck(this,ClipboardAction),this.resolveOptions(e),this.initSelection()}return r(ClipboardAction,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),ClipboardAction}();e.exports=o})},51:function(e,t){function select(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}e.exports=select},52:function(e,t){function E(){}E.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function listener(){i.off(e,listener),t.apply(n,arguments)}var i=this;return listener._=t,this.on(e,listener,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=E},53:function(e,t,n){function listen(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return listenNode(e,t,n);if(i.nodeList(e))return listenNodeList(e,t,n);if(i.string(e))return listenSelector(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function listenNode(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function listenNodeList(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function listenSelector(e,t,n){return r(document.body,e,t,n)}var i=n(54),r=n(55);e.exports=listen},54:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},55:function(e,t,n){function _delegate(e,t,n,i,r){var o=listener.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}function delegate(e,t,n,i,r){return"function"==typeof e.addEventListener?_delegate.apply(null,arguments):"function"==typeof n?_delegate.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return _delegate(e,t,n,i,r)}))}function listener(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&r.call(e,n)}}var i=n(56);e.exports=delegate},56:function(e,t){function closest(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=closest},57:function(e,t){},58:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(e){this.name=e.name||"",this.link=e.link||""}var i=n(59),r=_interopRequireDefault(i);_interopRequireDefault(n(0)).default.components.register("y-title",{viewModel:init,template:r.default})},59:function(e,t){e.exports='<h1>\n  <span data-bind="text: name"></span>组件\n</h1>\n\x3c!-- ko if: link--\x3e\n<h2>\n  <a data-bind="attr: {href: link}" target="_blank" style="color: #2baee9">\n    <span data-bind="text: name"></span>组件API文档\n  </a>\n</h2>\n\x3c!-- /ko --\x3e\n<h2>代码示例</h2>\n'},64:function(e,t){e.exports='<div class="y-box">\n  <demo params="code:code[0]">\n    <div class="code-top row">\n      <div class="col-md-12">\n        <y-editgrid params="rows: $root.editgridrows, columns: $root.editgridcolumns"></y-editgrid>\n      </div>\n    </div>\n    <div class="code-split">\n      <span>editgrid</span>\n    </div>\n    <div class="code-bottom">\n      <h4>可编辑表格</h4>\n      <p>1.如果要显示表头，则需要将相应表头设置<code>_show:true</code></p>\n      <p>2.可编辑表格分为summary行和普通编辑行。summary行支持 <code>summaryType:\'render\'</code>\n        和<code>summaryType:\'component\'</code>两种模式，和grid列本身的<code>type:render</code>和<code>type:component</code>实现一致\n      </p>\n      <p>3.<code>summaryFn</code>对应渲染函数</p>\n      <p>4.summaryType和summaryFn需要写在columns的第一列</p>\n    </div>\n  </demo>\n\n  <demo params="code:code[1]">\n    <div class="code-top">\n      <y-childgrid params="rows: $root.childgridrows, columns:$root.childgridcolumns"></y-childgrid>\n    </div>\n    <div class="code-split">\n      <span>childgrid</span>\n    </div>\n    <div class="code-bottom">\n      <h4>summary行+一对多主子表表格</h4>\n      <p>1.如果要显示表头，则需要将相应表头设置<code>_show:true</code></p>\n      <p>2.和可编辑表格一样包含summary行。summary行支持 <code>summaryType:\'render\'</code>\n        和 <code>summaryType:\'component\'</code>两种模式，和grid列本身的<code>type:render</code>和<code>type:component</code>实现一致\n      </p>\n      <p>3. <code>summaryFn</code>对应渲染函数</p>\n      <p>4.包含 <code>childGridFn</code>方法，用于根据row动态渲染子表，注意需要返回一个component</p>\n      <p>5.childGridFn嵌入的y-grid需要设置 <code>nohead: true</code><code>noborder: true</code><code>maxheight: \'auto\'</code></p>\n      <p>6.childGridFn需要写在columns的第一列</p>\n    </div>\n  </demo>\n</div>\n'}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGlicy4yMC5lNmJhZGU3OWNkZjJiZTgzZTk2Yy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvY29tcGxleGdyaWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGVtby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kZW1vL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29kZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb2RlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NsaXBib2FyZC9saWIvY2xpcGJvYXJkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbGlwYm9hcmQvbGliL2NsaXBib2FyZC1hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NlbGVjdC9zcmMvc2VsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dvb2QtbGlzdGVuZXIvc3JjL2xpc3Rlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvaXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9kZWxlZ2F0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvY29tcGxleGdyaWQvaW5kZXguaHRtbCJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIxOSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaW5pdCIsInZpZXdtb2RlbCIsImNvZGUiLCJlZGl0Z3JpZHJvd3MiLCJfa25vY2tvdXQyIiwib2JzZXJ2YWJsZUFycmF5IiwibWF0ZXJpYWxOYW1lIiwibnVtIiwidW5pdCIsInJlcU9yZyIsInNwZWMiLCJwcm9kdWN0IiwidGF4cmF0ZSIsInByaWNlIiwiYW1vdW50IiwicmVxRGF0ZSIsIm9ic2VydmFibGUiLCJob2xkRGF0ZSIsInJlbWFyayIsImVkaXRncmlkY29sdW1ucyIsIndpZHRoIiwidGl0bGUiLCJmaWVsZCIsInN1bW1hcnlUeXBlIiwic3VtbWFyeUZuIiwicm93IiwidGVtcGxhdGUiLCJ0eXBlIiwiY29tcEZuIiwibmFtZSIsInBhcmFtcyIsInZhbHVlIiwiYWxpZ24iLCJkYXRhIiwiY2hpbGRncmlkY29sdW1ucyIsImNoaWxkR3JpZEZuIiwibm9oZWFkIiwibm9ib3JkZXIiLCJtYXhoZWlnaHQiLCJjb2x1bW5zIiwicm93cyIsImxpc3QiLCJjaGlsZGdyaWRyb3dzIiwiYWdlIiwic2V4IiwiYXBwbHlCaW5kaW5ncyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9pbmRleCIsIl9pbmRleDIiLCJfa25vY2tvdXQiLCI0MiIsIjQzIiwidGhpcyIsImlzU2hvd0FsbCIsInRvZ2dsZSIsImJpbmQiLCJjb21wb25lbnRzIiwicmVnaXN0ZXIiLCJ2aWV3TW9kZWwiLCI0NCIsIjQ1IiwiNDYiLCJJbml0IiwiZWwiLCJfdGhpcyIsIiRlbCIsImNoaWxkTm9kZXMiLCJjb3B5IiwiY2xpcGJvYXJkIiwiX2NsaXBib2FyZDIiLCJ0ZXh0Iiwib24iLCJlIiwiY2xlYXJTZWxlY3Rpb24iLCJkZXN0cm95Iiwid2luZG93IiwiYWxlcnQiLCJzZXRUaW1lb3V0IiwiX2hpZ2hsaWdodGpzMiIsImhpZ2hsaWdodEJsb2NrIiwiX2hpZ2hsaWdodGpzIiwiX2NsaXBib2FyZCIsImNyZWF0ZVZpZXdNb2RlbCIsImNvbXBvbmVudEluZm8iLCJlbGVtZW50IiwiNDciLCI0OCIsIjQ5IiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZ2xvYmFsIiwiZmFjdG9yeSIsInVuZGVmaW5lZCIsImFwcGx5IiwiX2NsaXBib2FyZEFjdGlvbiIsIl90aW55RW1pdHRlciIsIl9nb29kTGlzdGVuZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImdldEF0dHJpYnV0ZVZhbHVlIiwic3VmZml4IiwiYXR0cmlidXRlIiwiaGFzQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiX2NsaXBib2FyZEFjdGlvbjIiLCJfdGlueUVtaXR0ZXIyIiwiX2dvb2RMaXN0ZW5lcjIiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNsaXBib2FyZCIsIl9FbWl0dGVyIiwidHJpZ2dlciIsIm9wdGlvbnMiLCJnZXRQcm90b3R5cGVPZiIsInJlc29sdmVPcHRpb25zIiwibGlzdGVuQ2xpY2siLCJhcmd1bWVudHMiLCJhY3Rpb24iLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiY29udGFpbmVyIiwiYm9keSIsIl90aGlzMiIsImxpc3RlbmVyIiwib25DbGljayIsImRlbGVnYXRlVGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImNsaXBib2FyZEFjdGlvbiIsImVtaXR0ZXIiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJhY3Rpb25zIiwic3VwcG9ydCIsInF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCIsImZvckVhY2giLCI1MCIsIl9zZWxlY3QiLCJfc2VsZWN0MiIsIkNsaXBib2FyZEFjdGlvbiIsImluaXRTZWxlY3Rpb24iLCJzZWxlY3RlZFRleHQiLCJzZWxlY3RGYWtlIiwic2VsZWN0VGFyZ2V0IiwiaXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJyZW1vdmVGYWtlIiwiZmFrZUhhbmRsZXJDYWxsYmFjayIsImZha2VIYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZha2VFbGVtIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZm9udFNpemUiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwicG9zaXRpb24iLCJ5UG9zaXRpb24iLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInRvcCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY29weVRleHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlQ2hpbGQiLCJzdWNjZWVkZWQiLCJleGVjQ29tbWFuZCIsImVyciIsImhhbmRsZVJlc3VsdCIsImVtaXQiLCJmb2N1cyIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsInNldCIsIl9hY3Rpb24iLCJFcnJvciIsImdldCIsIm5vZGVUeXBlIiwiX3RhcmdldCIsIjUxIiwic2VsZWN0Iiwibm9kZU5hbWUiLCJpc1JlYWRPbmx5Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZWxlY3Rpb24iLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiYWRkUmFuZ2UiLCJ0b1N0cmluZyIsIjUyIiwiRSIsImNhbGxiYWNrIiwiY3R4IiwicHVzaCIsImZuIiwib25jZSIsIm9mZiIsIl8iLCJzbGljZSIsImV2dEFyciIsImxlbiIsImV2dHMiLCJsaXZlRXZlbnRzIiwiNTMiLCJsaXN0ZW4iLCJpcyIsInN0cmluZyIsIm5vZGUiLCJsaXN0ZW5Ob2RlIiwibm9kZUxpc3QiLCJsaXN0ZW5Ob2RlTGlzdCIsImxpc3RlblNlbGVjdG9yIiwiQXJyYXkiLCJkZWxlZ2F0ZSIsIjU0IiwiSFRNTEVsZW1lbnQiLCJTdHJpbmciLCI1NSIsIl9kZWxlZ2F0ZSIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiY2xvc2VzdCIsIjU2IiwiRE9DVU1FTlRfTk9ERV9UWVBFIiwibWF0Y2hlcyIsInBhcmVudE5vZGUiLCJFbGVtZW50IiwicHJvdG8iLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCI1NyIsIjU4IiwibGluayIsIjU5IiwiNjQiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLEtBRVJDLEdBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFakMsWUFpQkEsU0FBU0Msd0JBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdDbkJ2RixRQUFTRyxRQUNQLEdBQUlDLElBQ0ZDLE1BQU0sdWtNQThOTkMsYUFBY0MsRUFBQUwsUUFBR00sa0JBRWJDLGFBQWMsTUFDZEMsSUFBSyxJQUNMQyxLQUFNLElBQ05DLE9BQVEsYUFDUkMsS0FBTSwyQkFDTkMsUUFBUyxHQUNUQyxRQUFTLEdBQ1RDLE1BQU8sSUFDUEMsT0FB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b3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzIwXSx7XG5cbi8qKiovIDE5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG52YXIgX2tub2Nrb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9rbm9ja291dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rbm9ja291dCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICB2YXIgdmlld21vZGVsID0ge1xuICAgIGNvZGU6IFsnXFxuICAgICAgPHRlbXBsYXRlPlxcbiAgICAgICAgPHktZWRpdGdyaWQgcGFyYW1zPVwicm93czogJHJvb3QuZWRpdGdyaWRyb3dzLCBjb2x1bW5zOiAkcm9vdC5lZGl0Z3JpZGNvbHVtbnNcIj48L3ktZWRpdGdyaWQ+XFxuICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICA8c2NyaXB0PlxcbiAgICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcXG4gICAgICAgICAgZWRpdGdyaWRjb2x1bW5zOiBrby5vYnNlcnZhYmxlQXJyYXkoW3tcXG4gICAgICAgICAgICAgIHdpZHRoOiBcXCcyMCVcXCcsXFxuICAgICAgICAgICAgICB0aXRsZTogXFwnXFx1NTRDMVxcdTcyNENcXHU0RUE3XFx1NTczMC9cXHU2NzUwXFx1OEQyOFxcJyxcXG4gICAgICAgICAgICAgIGZpZWxkOiBcXCdwcm9kdWN0XFwnLFxcbiAgICAgICAgICAgICAgc3VtbWFyeVR5cGU6IFxcJ3JlbmRlclxcJyxcXG4gICAgICAgICAgICAgIHN1bW1hcnlGbjogKHJvdykgPT4ge1xcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBcIjxkaXY+PGRpdj5cIiArXFxuICAgICAgICAgICAgICAgIHJvdy5tYXRlcmlhbE5hbWUgKyBcIjwvZGl2PjxkaXY+XCIgKyByb3cubnVtICsgcm93LnVuaXQgKyBcIlxcdTk3MDBcXHU2QzQyXFx1N0VDNFxcdTdFQzdcXHVGRjFBXCIgK1xcbiAgICAgICAgICAgICAgICByb3cucmVxT3JnICsgXCI8L2Rpdj48ZGl2PlxcdTg5QzRcXHU2ODNDXFx1RkYxQVwiICsgcm93LnNwZWMgKyBcIjwvZGl2PjwvZGl2PlwiXFxuICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZVxcbiAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgIHR5cGU6IFxcJ2NvbXBvbmVudFxcJyxcXG4gICAgICAgICAgICAgIGNvbXBGbjogKHJvdykgPT4ge1xcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFxcJ3ktaW5wdXRcXCcsXFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm93LnByb2R1Y3RcXG4gICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9LCB7XFxuICAgICAgICAgICAgICB3aWR0aDogXFwnMTAlXFwnLFxcbiAgICAgICAgICAgICAgdGl0bGU6IFxcJ1xcdTdBMEVcXHU3Mzg3XFwnLFxcbiAgICAgICAgICAgICAgZmllbGQ6IFxcJ3RheHJhdGVcXCcsXFxuICAgICAgICAgICAgICBhbGlnbjogXFwncmlnaHRcXCcsXFxuICAgICAgICAgICAgICB0eXBlOiBcXCdjb21wb25lbnRcXCcsXFxuICAgICAgICAgICAgICBjb21wRm46IChyb3cpID0+IHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICAgICAgICBuYW1lOiBcXCd5LWlucHV0XFwnLFxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdy50YXhyYXRlLFxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ246IFxcJ3JpZ2h0XFwnXFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSwge1xcbiAgICAgICAgICAgICAgd2lkdGg6IFxcJzEwJVxcJyxcXG4gICAgICAgICAgICAgIHRpdGxlOiBcXCdcXHU2NUUwXFx1N0EwRVxcdTUzNTVcXHU0RUY3KFxcdTUxNDMpXFwnLFxcbiAgICAgICAgICAgICAgYWxpZ246IFxcJ3JpZ2h0XFwnLFxcbiAgICAgICAgICAgICAgZmllbGQ6IFxcJ3ByaWNlXFwnLFxcbiAgICAgICAgICAgICAgdHlwZTogXFwnY29tcG9uZW50XFwnLFxcbiAgICAgICAgICAgICAgY29tcEZuOiAocm93KSA9PiB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICAgICAgbmFtZTogXFwneS1pbnB1dFxcJyxcXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cucHJpY2UsXFxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogXFwncmlnaHRcXCdcXG4gICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9LCB7XFxuICAgICAgICAgICAgICB3aWR0aDogXFwnMTAlXFwnLFxcbiAgICAgICAgICAgICAgdGl0bGU6IFxcJ1xcdTkxRDFcXHU5ODlEXFwnLFxcbiAgICAgICAgICAgICAgYWxpZ246IFxcJ3JpZ2h0XFwnLFxcbiAgICAgICAgICAgICAgZmllbGQ6IFxcJ2Ftb3VudFxcJyxcXG4gICAgICAgICAgICAgIHR5cGU6IFxcJ2NvbXBvbmVudFxcJyxcXG4gICAgICAgICAgICAgIGNvbXBGbjogKHJvdykgPT4ge1xcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFxcJ3ktaW5wdXRcXCcsXFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm93LmFtb3VudCxcXG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiBcXCdyaWdodFxcJ1xcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0sIHtcXG4gICAgICAgICAgICAgIHdpZHRoOiBcXCcyMCVcXCcsXFxuICAgICAgICAgICAgICB0aXRsZTogXFwnXFx1NEVBNFxcdThEMjdcXHU2NzFGXFwnLFxcbiAgICAgICAgICAgICAgZmllbGQ6IFxcJ3JlcURhdGVcXCcsXFxuICAgICAgICAgICAgICB0eXBlOiBcXCdjb21wb25lbnRcXCcsXFxuICAgICAgICAgICAgICBjb21wRm46IChyb3cpID0+IHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICAgICAgICBuYW1lOiBcXCd5LWRhdGVwaWNrZXJcXCcsXFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiByb3cucmVxRGF0ZVxcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0sIHtcXG4gICAgICAgICAgICAgIHdpZHRoOiBcXCcyMCVcXCcsXFxuICAgICAgICAgICAgICB0aXRsZTogXFwnXFx1NTkwN1xcdTZDRThcXCcsXFxuICAgICAgICAgICAgICBmaWVsZDogXFwncmVtYXJrXFwnLFxcbiAgICAgICAgICAgICAgdHlwZTogXFwnY29tcG9uZW50XFwnLFxcbiAgICAgICAgICAgICAgY29tcEZuOiAocm93KSA9PiB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICAgICAgbmFtZTogXFwneS1pbnB1dFxcJyxcXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cucmVtYXJrXFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9XFxuICAgICAgXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICBdKSxcXG4gICAgICAgICAgZWRpdGdyaWRyb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW3tcXG4gICAgICAgICAgICBtYXRlcmlhbE5hbWU6IFxcJ1xcdTc4NkJcXHU5MTc4XFx1OTRCRVxcJyxcXG4gICAgICAgICAgICBudW06IDIwMDAsXFxuICAgICAgICAgICAgdW5pdDogXFwnXFx1NTQyOFxcJyxcXG4gICAgICAgICAgICByZXFPcmc6IFxcJ1xcdTVFN0ZcXHU0RTFDXFx1OTBBM1xcdTY1QjlcXHU2NjJGXFx1NEY2MFxcdTRGMThcXHU1MTQ4XFx1NTE2Q1xcdTUzRjhcXCcsXFxuICAgICAgICAgICAgc3BlYzogXFwnWExMTCAxXFx1NTNGNyAjVUlPIFxcdTU3OEJcXHU1M0Y3XFx1RkYwQ1xcdTUzODZcXHU1M0YyXFx1OTFDN1xcdThEMkRcXHU2ODYzXFx1NkIyMVxcdTRFMDBcXHU4MUY0XFwnLFxcbiAgICAgICAgICAgIHByb2R1Y3Q6IFxcJ1xcJyxcXG4gICAgICAgICAgICB0YXhyYXRlOiAxNyxcXG4gICAgICAgICAgICBwcmljZTogMjAwLjAwLFxcbiAgICAgICAgICAgIGFtb3VudDogNDAwMDAwLjAwLFxcbiAgICAgICAgICAgIHJlcURhdGU6IGtvLm9ic2VydmFibGUoXFwnXFwnKSxcXG4gICAgICAgICAgICBob2xkRGF0ZToga28ub2JzZXJ2YWJsZShcXCdcXCcpLFxcbiAgICAgICAgICAgIHJlbWFyazogXFwnXFwnXFxuICAgICAgICAgIH0sIHtcXG4gICAgICAgICAgICBtYXRlcmlhbE5hbWU6IFxcJ1xcdTc4NkJcXHU5MTc4XFx1OTRCRVxcJyxcXG4gICAgICAgICAgICBudW06IDIwMCxcXG4gICAgICAgICAgICB1bml0OiBcXCdcXHU1NDI4XFwnLFxcbiAgICAgICAgICAgIHJlcU9yZzogXFwnXFx1NUU3RlxcdTRFMUNcXHU5MEEzXFx1NjVCOVxcdTY2MkZcXHU0RjYwXFx1NEYxOFxcdTUxNDhcXHU1MTZDXFx1NTNGOFxcJyxcXG4gICAgICAgICAgICBzcGVjOiBcXCdYTExMIDFcXHU1M0Y3ICNVSU8gXFx1NTc4QlxcdTUzRjdcXHVGRjBDXFx1NTM4NlxcdTUzRjJcXHU5MUM3XFx1OEQyRFxcdTY4NjNcXHU2QjIxXFx1NEUwMFxcdTgxRjRcXCcsXFxuICAgICAgICAgICAgcHJvZHVjdDogXFwnXFwnLFxcbiAgICAgICAgICAgIHRheHJhdGU6IDE3LFxcbiAgICAgICAgICAgIHByaWNlOiAyMjAuMDAsXFxuICAgICAgICAgICAgYW1vdW50OiA0MDAwMDAuMDAsXFxuICAgICAgICAgICAgcmVxRGF0ZToga28ub2JzZXJ2YWJsZShcXCdcXCcpLFxcbiAgICAgICAgICAgIGhvbGREYXRlOiBrby5vYnNlcnZhYmxlKFxcJ1xcJyksXFxuICAgICAgICAgICAgcmVtYXJrOiBcXCdcXCdcXG4gICAgICAgICAgfSwge1xcbiAgICAgICAgICAgIG1hdGVyaWFsTmFtZTogXFwnXFx1Nzg2QlxcdTkxNzhcXHU5NEJFXFwnLFxcbiAgICAgICAgICAgIG51bTogMTAwMCxcXG4gICAgICAgICAgICB1bml0OiBcXCdcXHU1NDI4XFwnLFxcbiAgICAgICAgICAgIHJlcU9yZzogXFwnXFx1NUU3RlxcdTRFMUNcXHU5MEEzXFx1NjVCOVxcdTY2MkZcXHU0RjYwXFx1NEYxOFxcdTUxNDhcXHU1MTZDXFx1NTNGOFxcJyxcXG4gICAgICAgICAgICBzcGVjOiBcXCdYTExMIDFcXHU1M0Y3ICNVSU8gXFx1NTc4QlxcdTUzRjdcXHVGRjBDXFx1NTM4NlxcdTUzRjJcXHU5MUM3XFx1OEQyRFxcdTY4NjNcXHU2QjIxXFx1NEUwMFxcdTgxRjRcXCcsXFxuICAgICAgICAgICAgcHJvZHVjdDogXFwnXFwnLFxcbiAgICAgICAgICAgIHRheHJhdGU6IDE3LFxcbiAgICAgICAgICAgIHByaWNlOiBcXCdcXCcsXFxuICAgICAgICAgICAgYW1vdW50OiBcXCdcXCcsXFxuICAgICAgICAgICAgcmVxRGF0ZToga28ub2JzZXJ2YWJsZShcXCdcXCcpLFxcbiAgICAgICAgICAgIGhvbGREYXRlOiBrby5vYnNlcnZhYmxlKFxcJ1xcJyksXFxuICAgICAgICAgICAgcmVtYXJrOiBcXCdcXCdcXG4gICAgICAgICAgfVxcbiAgICAgICAgXSlcXG4gICAgICAgIH1cXG4gICAgICA8L3NjcmlwdD5cXG4gICAgJywgJ1xcbiAgICA8dGVtcGxhdGU+XFxuICAgICAgPHktY2hpbGRncmlkIHBhcmFtcz1cInJvd3M6ICRyb290LmNoaWxkZ3JpZHJvd3MsIGNvbHVtbnM6JHJvb3QuY2hpbGRncmlkY29sdW1uc1wiPjwveS1jaGlsZGdyaWQ+XFxuICAgIDwvdGVtcGxhdGU+XFxuICAgIDxzY3JpcHQ+XFxuICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcXG4gICAgICAgIGNoaWxkZ3JpZGNvbHVtbnM6IFt7XFxuICAgICAgICAgIHRpdGxlOiBcXCdcXHU1OUQzXFx1NTQwRFxcJyxcXG4gICAgICAgICAgZmllbGQ6IFxcJ25hbWVcXCcsXFxuICAgICAgICAgIHdpZHRoOiBcXCcyMCVcXCcsXFxuICAgICAgICAgIHN1bW1hcnlUeXBlOiBcXCdyZW5kZXJcXCcsXFxuICAgICAgICAgIHN1bW1hcnlGbjogKHJvdykgPT4ge1xcbiAgICAgICAgICAgIHJldHVybiBcXCc8ZGl2PlxcJyArIHJvdy50aXRsZSArIFxcJzwvZGl2PjxwPlxcdThGRDlcXHU2NjJGXFx1NEUwMFxcdTRFMkFzdW1tYXJ5Um93PC9wPlxcJ1xcbiAgICAgICAgICB9LFxcbiAgICAgICAgICBjaGlsZEdyaWRGbiAocm93KSB7XFxuICAgICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICAgIG5hbWU6IFxcJ3ktZ3JpZFxcJyxcXG4gICAgICAgICAgICAgIHBhcmFtczoge1xcbiAgICAgICAgICAgICAgICBub2hlYWQ6IHRydWUsXFxuICAgICAgICAgICAgICAgIG5vYm9yZGVyOiB0cnVlLFxcbiAgICAgICAgICAgICAgICBtYXhoZWlnaHQ6IFxcJ2F1dG9cXCcsXFxuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt7XFxuICAgICAgICAgICAgICAgICAgZmllbGQ6IFxcJ25hbWVcXCcsXFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IFxcJzIwJVxcJyxcXG4gICAgICAgICAgICAgICAgfSwge1xcbiAgICAgICAgICAgICAgICAgIGZpZWxkOiBcXCdhZ2VcXCcsXFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IFxcJzEwJVxcJ1xcbiAgICAgICAgICAgICAgICB9LCB7XFxuICAgICAgICAgICAgICAgICAgZmllbGQ6IFxcJ3NleFxcJyxcXG4gICAgICAgICAgICAgICAgICB3aWR0aDogXFwnMzAlXFwnXFxuICAgICAgICAgICAgICAgIH1dLFxcbiAgICAgICAgICAgICAgICByb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkocm93Lmxpc3QpXFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9LCB7XFxuICAgICAgICAgIHRpdGxlOiBcXCdcXHU1RTc0XFx1OUY4NFxcJyxcXG4gICAgICAgICAgZmllbGQ6IFxcJ2FnZVxcJyxcXG4gICAgICAgICAgd2lkdGg6IFxcJzEwJVxcJ1xcbiAgICAgICAgfSwge1xcbiAgICAgICAgICB0aXRsZTogXFwnXFx1NjAyN1xcdTUyMkJcXCcsXFxuICAgICAgICAgIGZpZWxkOiBcXCdzZXhcXCcsXFxuICAgICAgICAgIHdpZHRoOiBcXCczMCVcXCdcXG4gICAgICAgIH1dLFxcbiAgICAgICAgY2hpbGRncmlkcm93czoga28ub2JzZXJ2YWJsZUFycmF5KFt7XFxuICAgICAgICAgIHRpdGxlOiBcXCdcXHU3QjJDXFx1NEUwMFxcdTg4NENcXCcsXFxuICAgICAgICAgIGxpc3Q6IFtcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICBuYW1lOiBcXCdzb25namxcXCcsXFxuICAgICAgICAgICAgICBhZ2U6IDMwLFxcbiAgICAgICAgICAgICAgc2V4OiBcXCdcXHU3NTM3XFwnXFxuICAgICAgICAgICAgfSwge1xcbiAgICAgICAgICAgICAgbmFtZTogXFwnd3V5Z1xcJyxcXG4gICAgICAgICAgICAgIGFnZTogMzUsXFxuICAgICAgICAgICAgICBzZXg6IFxcJ1xcdTc1MzdcXCdcXG4gICAgICAgICAgICB9LCB7XFxuICAgICAgICAgICAgICBuYW1lOiBcXCd3dTJ5Z1xcJyxcXG4gICAgICAgICAgICAgIGFnZTogMTUsXFxuICAgICAgICAgICAgICBzZXg6IFxcJ1xcdTU5NzNcXCdcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIF1cXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgdGl0bGU6IFxcJ25hbWUyXFwnLFxcbiAgICAgICAgICBsaXN0OiBbXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgbmFtZTogXFwnbGl4aWhcXCcsXFxuICAgICAgICAgICAgICBhZ2U6IDE0LFxcbiAgICAgICAgICAgICAgc2V4OiBcXCdcXHU1OTczXFwnXFxuICAgICAgICAgICAgfSwge1xcbiAgICAgICAgICAgICAgbmFtZTogXFwnZ3VvdGdcXCcsXFxuICAgICAgICAgICAgICBhZ2U6IDI1LFxcbiAgICAgICAgICAgICAgc2V4OiBcXCdcXHU3NTM3XFwnXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICBdXFxuICAgICAgICB9XSlcXG4gICAgICB9IFxcbiAgICA8L3NjcmlwdD5cXG4gICAgJ10sXG4gICAgZWRpdGdyaWRyb3dzOiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZUFycmF5KFt7XG4gICAgICBtYXRlcmlhbE5hbWU6ICfnoavphbjpkr4nLFxuICAgICAgbnVtOiAyMDAwLFxuICAgICAgdW5pdDogJ+WQqCcsXG4gICAgICByZXFPcmc6ICflub/kuJzpgqPmlrnmmK/kvaDkvJjlhYjlhazlj7gnLFxuICAgICAgc3BlYzogJ1hMTEwgMeWPtyAjVUlPIOWei+WPt++8jOWOhuWPsumHh+i0reaho+asoeS4gOiHtCcsXG4gICAgICBwcm9kdWN0OiAnJyxcbiAgICAgIHRheHJhdGU6IDE3LFxuICAgICAgcHJpY2U6IDIwMC4wMCxcbiAgICAgIGFtb3VudDogNDAwMDAwLjAwLFxuICAgICAgcmVxRGF0ZTogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoJycpLFxuICAgICAgaG9sZERhdGU6IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKCcnKSxcbiAgICAgIHJlbWFyazogJydcbiAgICB9LCB7XG4gICAgICBtYXRlcmlhbE5hbWU6ICfnoavphbjpkr4nLFxuICAgICAgbnVtOiAyMDAsXG4gICAgICB1bml0OiAn5ZCoJyxcbiAgICAgIHJlcU9yZzogJ+W5v+S4nOmCo+aWueaYr+S9oOS8mOWFiOWFrOWPuCcsXG4gICAgICBzcGVjOiAnWExMTCAx5Y+3ICNVSU8g5Z6L5Y+377yM5Y6G5Y+y6YeH6LSt5qGj5qyh5LiA6Ie0JyxcbiAgICAgIHByb2R1Y3Q6ICcnLFxuICAgICAgdGF4cmF0ZTogMTcsXG4gICAgICBwcmljZTogMjIwLjAwLFxuICAgICAgYW1vdW50OiA0MDAwMDAuMDAsXG4gICAgICByZXFEYXRlOiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZSgnJyksXG4gICAgICBob2xkRGF0ZTogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoJycpLFxuICAgICAgcmVtYXJrOiAnJ1xuICAgIH0sIHtcbiAgICAgIG1hdGVyaWFsTmFtZTogJ+ehq+mFuOmSvicsXG4gICAgICBudW06IDEwMDAsXG4gICAgICB1bml0OiAn5ZCoJyxcbiAgICAgIHJlcU9yZzogJ+W5v+S4nOmCo+aWueaYr+S9oOS8mOWFiOWFrOWPuCcsXG4gICAgICBzcGVjOiAnWExMTCAx5Y+3ICNVSU8g5Z6L5Y+377yM5Y6G5Y+y6YeH6LSt5qGj5qyh5LiA6Ie0JyxcbiAgICAgIHByb2R1Y3Q6ICcnLFxuICAgICAgdGF4cmF0ZTogMTcsXG4gICAgICBwcmljZTogJycsXG4gICAgICBhbW91bnQ6ICcnLFxuICAgICAgcmVxRGF0ZTogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoJycpLFxuICAgICAgaG9sZERhdGU6IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKCcnKSxcbiAgICAgIHJlbWFyazogJydcbiAgICB9XSksXG4gICAgZWRpdGdyaWRjb2x1bW5zOiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZUFycmF5KFt7XG4gICAgICB3aWR0aDogJzIwJScsXG4gICAgICB0aXRsZTogJ+WTgeeJjOS6p+WcsC/mnZDotKgnLFxuICAgICAgZmllbGQ6ICdwcm9kdWN0JyxcbiAgICAgIHN1bW1hcnlUeXBlOiAncmVuZGVyJyxcbiAgICAgIHN1bW1hcnlGbjogZnVuY3Rpb24gc3VtbWFyeUZuKHJvdykge1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdj48ZGl2PicgKyByb3cubWF0ZXJpYWxOYW1lICsgJzwvZGl2PlxcbiAgICAgICAgPGRpdj4nICsgcm93Lm51bSArIHJvdy51bml0ICsgJ1xcbiAgICAgICAgICBcXHU5NzAwXFx1NkM0MlxcdTdFQzRcXHU3RUM3XFx1RkYxQScgKyByb3cucmVxT3JnICsgJ1xcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2PlxcdTg5QzRcXHU2ODNDXFx1RkYxQScgKyByb3cuc3BlYyArICc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICAgIC8vIHJldHVybiB7XG4gICAgICAgIC8vICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAvLyAgIHBhcmFtczoge1xuICAgICAgICAvLyAgICAgdmFsdWU6IHJvdy5yZXFEYXRlXG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9XG4gICAgICB9LFxuICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICBjb21wRm46IGZ1bmN0aW9uIGNvbXBGbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICB2YWx1ZTogcm93LnByb2R1Y3RcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgd2lkdGg6ICcxMCUnLFxuICAgICAgdGl0bGU6ICfnqI7njocnLFxuICAgICAgZmllbGQ6ICd0YXhyYXRlJyxcbiAgICAgIGFsaWduOiAncmlnaHQnLFxuICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICBjb21wRm46IGZ1bmN0aW9uIGNvbXBGbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICB2YWx1ZTogcm93LnRheHJhdGUsXG4gICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB3aWR0aDogJzEwJScsXG4gICAgICB0aXRsZTogJ+aXoOeojuWNleS7tyjlhYMpJyxcbiAgICAgIGFsaWduOiAncmlnaHQnLFxuICAgICAgZmllbGQ6ICdwcmljZScsXG4gICAgICB0eXBlOiAnY29tcG9uZW50JyxcbiAgICAgIGNvbXBGbjogZnVuY3Rpb24gY29tcEZuKHJvdykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6ICd5LWlucHV0JyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHZhbHVlOiByb3cucHJpY2UsXG4gICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB3aWR0aDogJzEwJScsXG4gICAgICB0aXRsZTogJ+mHkeminScsXG4gICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgIGZpZWxkOiAnYW1vdW50JyxcbiAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgY29tcEZuOiBmdW5jdGlvbiBjb21wRm4ocm93KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgdmFsdWU6IHJvdy5hbW91bnQsXG4gICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB3aWR0aDogJzIwJScsXG4gICAgICB0aXRsZTogJ+S6pOi0p+acnycsXG4gICAgICBmaWVsZDogJ3JlcURhdGUnLFxuICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICBjb21wRm46IGZ1bmN0aW9uIGNvbXBGbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiAneS1kYXRlcGlja2VyJyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGRhdGE6IHJvdy5yZXFEYXRlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHdpZHRoOiAnMjAlJyxcbiAgICAgIHRpdGxlOiAn5aSH5rOoJyxcbiAgICAgIGZpZWxkOiAncmVtYXJrJyxcbiAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgY29tcEZuOiBmdW5jdGlvbiBjb21wRm4ocm93KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgdmFsdWU6IHJvdy5yZW1hcmtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICB9XSksXG4gICAgY2hpbGRncmlkY29sdW1uczogW3tcbiAgICAgIHRpdGxlOiAn5aeT5ZCNJyxcbiAgICAgIGZpZWxkOiAnbmFtZScsXG4gICAgICB3aWR0aDogJzIwJScsXG4gICAgICBzdW1tYXJ5VHlwZTogJ3JlbmRlcicsXG4gICAgICBzdW1tYXJ5Rm46IGZ1bmN0aW9uIHN1bW1hcnlGbihyb3cpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2PicgKyByb3cudGl0bGUgKyAnPC9kaXY+PHA+6L+Z5piv5LiA5Liqc3VtbWFyeVJvdzwvcD4nO1xuICAgICAgfSxcbiAgICAgIGNoaWxkR3JpZEZuOiBmdW5jdGlvbiBjaGlsZEdyaWRGbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiAneS1ncmlkJyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIG5vaGVhZDogdHJ1ZSxcbiAgICAgICAgICAgIG5vYm9yZGVyOiB0cnVlLFxuICAgICAgICAgICAgbWF4aGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICBjb2x1bW5zOiBbe1xuICAgICAgICAgICAgICBmaWVsZDogJ25hbWUnLFxuICAgICAgICAgICAgICB3aWR0aDogJzIwJSdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmllbGQ6ICdhZ2UnLFxuICAgICAgICAgICAgICB3aWR0aDogJzEwJSdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmllbGQ6ICdzZXgnLFxuICAgICAgICAgICAgICB3aWR0aDogJzMwJSdcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgcm93czogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShyb3cubGlzdClcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgdGl0bGU6ICflubTpvoQnLFxuICAgICAgZmllbGQ6ICdhZ2UnLFxuICAgICAgd2lkdGg6ICcxMCUnXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICfmgKfliKsnLFxuICAgICAgZmllbGQ6ICdzZXgnLFxuICAgICAgd2lkdGg6ICczMCUnXG4gICAgfV0sXG4gICAgY2hpbGRncmlkcm93czogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShbe1xuICAgICAgdGl0bGU6ICfnrKzkuIDooYwnLFxuICAgICAgbGlzdDogW3tcbiAgICAgICAgbmFtZTogJ3NvbmdqbCcsXG4gICAgICAgIGFnZTogMzAsXG4gICAgICAgIHNleDogJ+eUtydcbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ3d1eWcnLFxuICAgICAgICBhZ2U6IDM1LFxuICAgICAgICBzZXg6ICfnlLcnXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICd3dTJ5ZycsXG4gICAgICAgIGFnZTogMTUsXG4gICAgICAgIHNleDogJ+WlsydcbiAgICAgIH1dXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICduYW1lMicsXG4gICAgICBsaXN0OiBbe1xuICAgICAgICBuYW1lOiAnbGl4aWgnLFxuICAgICAgICBhZ2U6IDE0LFxuICAgICAgICBzZXg6ICflpbMnXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdndW90ZycsXG4gICAgICAgIGFnZTogMjUsXG4gICAgICAgIHNleDogJ+eUtydcbiAgICAgIH1dXG4gICAgfV0pXG4gIH07XG5cbiAgX2tub2Nrb3V0Mi5kZWZhdWx0LmFwcGx5QmluZGluZ3Modmlld21vZGVsLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICB0ZW1wbGF0ZTogX2luZGV4Mi5kZWZhdWx0LFxuICBpbml0OiBpbml0XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbl9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cbnZhciBfa25vY2tvdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2tub2Nrb3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tub2Nrb3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcbiAgdGhpcy5jb2RlID0gcGFyYW1zLmNvZGU7XG4gIHRoaXMuaXNTaG93QWxsID0gX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoZmFsc2UpO1xuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzU2hvd0FsbCghdGhpcy5pc1Nob3dBbGwoKSk7XG4gIH0uYmluZCh0aGlzKTtcbn1cbl9rbm9ja291dDIuZGVmYXVsdC5jb21wb25lbnRzLnJlZ2lzdGVyKCdkZW1vJywge1xuICB2aWV3TW9kZWw6IGluaXQsXG4gIHRlbXBsYXRlOiBfaW5kZXgyLmRlZmF1bHRcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJkZW1vXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tc2hvd1xcXCI+XFxuICA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLXNwbGl0XFxcIj48L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tY29kZVxcXCIgZGF0YS1iaW5kPVxcXCJjc3M6eydkZW1vLWhpZGVDb2RlJzohaXNTaG93QWxsKCl9XFxcIj5cXG4gICAgPHktY29kZSBwYXJhbXM9XFxcImNvZGU6Y29kZVxcXCI+PC95LWNvZGU+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tdG9nZ2xlXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOnRvZ2dsZVxcXCI+PHNwYW4gY2xhc3M9XFxcImZhXFxcIiBkYXRhLWJpbmQ9XFxcImNzczp7J2ZhLWFuZ2xlLWRvdWJsZS1kb3duJzohaXNTaG93QWxsKCksJ2ZhLWFuZ2xlLWRvdWJsZS11cCc6aXNTaG93QWxsKCl9XFxcIj48L3NwYW4+PC9kaXY+XFxuPC9kaXY+XFxuXCI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIDQ2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblxudmFyIF9rbm9ja291dCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfa25vY2tvdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa25vY2tvdXQpO1xuXG52YXIgX2hpZ2hsaWdodGpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9oaWdobGlnaHRqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oaWdobGlnaHRqcyk7XG5cbnZhciBfY2xpcGJvYXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbnZhciBfY2xpcGJvYXJkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsaXBib2FyZCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBpbXBvcnQgeyBkZWJ1ZyB9IGZyb20gJ3V0aWwnXG5mdW5jdGlvbiBJbml0KHBhcmFtcywgZWwpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyDlj6rojrflj5bpq5jkuq7nmoRET03vvIzlkKbliJnkvJrlvbHlk41rb+aMh+S7pFxuICB0aGlzLiRlbCA9IGVsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1szXTtcbiAgdGhpcy5jb2RlID0gcGFyYW1zLmNvZGU7XG4gIHRoaXMuY29weSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2xpcGJvYXJkID0gbmV3IF9jbGlwYm9hcmQyLmRlZmF1bHQoJy5jb3B5Jywge1xuICAgICAgdGV4dDogZnVuY3Rpb24gdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICBjbGlwYm9hcmQuZGVzdHJveSgpO1xuICAgICAgd2luZG93LmFsZXJ0KCfku6PnoIHlt7LlpI3liLbliLDliarotLTmnb8nKTtcbiAgICB9KTtcbiAgfTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgX2hpZ2hsaWdodGpzMi5kZWZhdWx0LmhpZ2hsaWdodEJsb2NrKF90aGlzLiRlbCk7XG4gIH0pO1xufVxuX2tub2Nrb3V0Mi5kZWZhdWx0LmNvbXBvbmVudHMucmVnaXN0ZXIoJ3ktY29kZScsIHtcbiAgdmlld01vZGVsOiB7XG4gICAgY3JlYXRlVmlld01vZGVsOiBmdW5jdGlvbiBjcmVhdGVWaWV3TW9kZWwocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gICAgICByZXR1cm4gbmV3IEluaXQocGFyYW1zLCBjb21wb25lbnRJbmZvLmVsZW1lbnQpO1xuICAgIH1cbiAgfSxcbiAgdGVtcGxhdGU6IF9pbmRleDIuZGVmYXVsdFxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImNvZGVcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwidG9vbHNcXFwiPlxcbiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xpcGJvYXJkIGNvcHlcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IGNvcHlcXFwiPjwvaT5cXG4gIDwvZGl2PlxcbiAgPHByZT48Y29kZSBjbGFzcz1cXFwiaHRtbFxcXCIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb2RlXFxcIj48L2NvZGU+PC9wcmU+XFxuPC9kaXY+XFxuXCI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIDQ5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0cnVlKSB7XG4gICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFttb2R1bGUsIF9fd2VicGFja19yZXF1aXJlX18oNTApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1MyldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHQoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCcuL2NsaXBib2FyZC1hY3Rpb24nKSwgcmVxdWlyZSgndGlueS1lbWl0dGVyJyksIHJlcXVpcmUoJ2dvb2QtbGlzdGVuZXInKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uLCBnbG9iYWwudGlueUVtaXR0ZXIsIGdsb2JhbC5nb29kTGlzdGVuZXIpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX2NsaXBib2FyZEFjdGlvbiwgX3RpbnlFbWl0dGVyLCBfZ29vZExpc3RlbmVyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9jbGlwYm9hcmRBY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkQWN0aW9uKTtcblxuICAgIHZhciBfdGlueUVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlueUVtaXR0ZXIpO1xuXG4gICAgdmFyIF9nb29kTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZExpc3RlbmVyKTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xuICAgICAgICBfaW5oZXJpdHMoQ2xpcGJvYXJkLCBfRW1pdHRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0cmlnZ2VyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmQodHJpZ2dlciwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDbGlwYm9hcmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDbGlwYm9hcmQpKS5jYWxsKHRoaXMpKTtcblxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xuICAgICAgICAgKiBvciBjdXN0b20gZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmQsIFt7XG4gICAgICAgICAgICBrZXk6ICdyZXNvbHZlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5hY3Rpb24gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmFjdGlvbiA6IHRoaXMuZGVmYXVsdEFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gX3R5cGVvZihvcHRpb25zLmNvbnRhaW5lcikgPT09ICdvYmplY3QnID8gb3B0aW9ucy5jb250YWluZXIgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdsaXN0ZW5DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuQ2xpY2sodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9ICgwLCBfZ29vZExpc3RlbmVyMi5kZWZhdWx0KSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uKHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0KHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXI6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdEFjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCdhY3Rpb24nLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdFRhcmdldCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGV4dCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2lzU3VwcG9ydGVkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbJ2NvcHknLCAnY3V0J107XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9ucyA9IHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnID8gW2FjdGlvbl0gOiBhY3Rpb247XG4gICAgICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDtcblxuICAgICAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnQgPSBzdXBwb3J0ICYmICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XG4gICAgfShfdGlueUVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHJ1ZSkge1xuICAgICAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbbW9kdWxlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/XG5cdFx0XHRcdChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5zZWxlY3QpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX3NlbGVjdCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBDbGlwYm9hcmRBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkQWN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyBiYXNlIHByb3BlcnRpZXMgcGFzc2VkIGZyb20gY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyID0gb3B0aW9ucy5lbWl0dGVyO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlcjtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRTZWxlY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEZha2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RGYWtlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgaXNSVEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKSA9PSAncnRsJztcblxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSB8fCB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB6b29taW5nIG9uIGlPU1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuZm9udFNpemUgPSAnMTJwdCc7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAnMCc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wYWRkaW5nID0gJzAnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCBvdXQgb2Ygc2NyZWVuIGhvcml6b250YWxseVxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgdG8gdGhlIHNhbWUgcG9zaXRpb24gdmVydGljYWxseVxuICAgICAgICAgICAgICAgIHZhciB5UG9zaXRpb24gPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9IHlQb3NpdGlvbiArICdweCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdyZW1vdmVGYWtlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGYWtlKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZha2VIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0VGFyZ2V0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RUYXJnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY29weVRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHlUZXh0KCkge1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZWVkZWQgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hhbmRsZVJlc3VsdCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KHN1Y2NlZWRlZCA/ICdzdWNjZXNzJyA6ICdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zZWxlY3RlZFRleHQsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjbGVhclNlbGVjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FjdGlvbicsXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnY29weSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uICE9PSAnY29weScgJiYgdGhpcy5fYWN0aW9uICE9PSAnY3V0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RhcmdldCcsXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAmJiAodHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0KSkgPT09ICdvYmplY3QnICYmIHRhcmdldC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY29weScgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSBcInJlYWRvbmx5XCIgaW5zdGVhZCBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2N1dCcgJiYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5JykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIENsaXBib2FyZEFjdGlvbjtcbiAgICB9KCk7XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZEFjdGlvbjtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7XG4gICAgdmFyIHNlbGVjdGVkVGV4dDtcblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lOUFVUJyB8fCBlbGVtZW50Lm5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIHZhciBpc1JlYWRPbmx5ID0gZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG5cbiAgICAgICAgaWYgKCFpc1JlYWRPbmx5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnNlbGVjdCgpO1xuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoKTtcblxuICAgICAgICBpZiAoIWlzUmVhZE9ubHkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xuICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG5cbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdGVkVGV4dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZWxlY3Q7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDUyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5mdW5jdGlvbiBFICgpIHtcbiAgLy8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIGRlbGVnYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cbi8qKlxuICogVmFsaWRhdGVzIGFsbCBwYXJhbXMgYW5kIGNhbGxzIHRoZSByaWdodFxuICogbGlzdGVuZXIgZnVuY3Rpb24gYmFzZWQgb24gaXRzIHRhcmdldCB0eXBlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCB0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmICghdGFyZ2V0ICYmICF0eXBlICYmICFjYWxsYmFjaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnRzJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5zdHJpbmcodHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzLmZuKGNhbGxiYWNrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlyZCBhcmd1bWVudCBtdXN0IGJlIGEgRnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAoaXMubm9kZSh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5Ob2RlKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5ub2RlTGlzdCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5Ob2RlTGlzdCh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlblNlbGVjdG9yKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZywgSFRNTEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBvciBOb2RlTGlzdCcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgSFRNTCBlbGVtZW50XG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuTm9kZShub2RlLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge05vZGVMaXN0fEhUTUxDb2xsZWN0aW9ufSBub2RlTGlzdFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGVMaXN0KG5vZGVMaXN0LCB0eXBlLCBjYWxsYmFjaykge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBzZWxlY3RvclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuU2VsZWN0b3Ioc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGRlbGVnYXRlKGRvY3VtZW50LmJvZHksIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdGVuO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGVMaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxuICAgICAgICAmJiAoJ2xlbmd0aCcgaW4gdmFsdWUpXG4gICAgICAgICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgZXhwb3J0cy5ub2RlKHZhbHVlWzBdKSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXG4gICAgICAgIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5mbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsb3Nlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd8QXJyYXl9IFtlbGVtZW50c11cbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudHMsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIC8vIEhhbmRsZSB0aGUgcmVndWxhciBFbGVtZW50IHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cy5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgRWxlbWVudC1sZXNzIHVzYWdlLCBpdCBkZWZhdWx0cyB0byBnbG9iYWwgZGVsZWdhdGlvblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBVc2UgYGRvY3VtZW50YCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLCB0aGVuIGFwcGx5IGFyZ3VtZW50c1xuICAgICAgICAvLyBUaGlzIGlzIGEgc2hvcnQgd2F5IHRvIC51bnNoaWZ0IGBhcmd1bWVudHNgIHdpdGhvdXQgcnVubmluZyBpbnRvIGRlb3B0aW1pemF0aW9uc1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmJpbmQobnVsbCwgZG9jdW1lbnQpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNlbGVjdG9yLWJhc2VkIHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgQXJyYXktbGlrZSBiYXNlZCB1c2FnZVxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XG5cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcbiAqL1xuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIHZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ubWF0Y2hlcyA9IHByb3RvLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSBET0NVTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9zZXN0O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIDU4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG52YXIgX2tub2Nrb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9rbm9ja291dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rbm9ja291dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGluaXQocGFyYW1zKSB7XG4gIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lIHx8ICcnO1xuICB0aGlzLmxpbmsgPSBwYXJhbXMubGluayB8fCAnJztcbn1cbl9rbm9ja291dDIuZGVmYXVsdC5jb21wb25lbnRzLnJlZ2lzdGVyKCd5LXRpdGxlJywge1xuICB2aWV3TW9kZWw6IGluaXQsXG4gIHRlbXBsYXRlOiBfaW5kZXgyLmRlZmF1bHRcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCI8aDE+XFxuICA8c3BhbiBkYXRhLWJpbmQ9XFxcInRleHQ6IG5hbWVcXFwiPjwvc3Bhbj7nu4Tku7ZcXG48L2gxPlxcbjwhLS0ga28gaWY6IGxpbmstLT5cXG48aDI+XFxuICA8YSBkYXRhLWJpbmQ9XFxcImF0dHI6IHtocmVmOiBsaW5rfVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIHN0eWxlPVxcXCJjb2xvcjogIzJiYWVlOVxcXCI+XFxuICAgIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogbmFtZVxcXCI+PC9zcGFuPue7hOS7tkFQSeaWh+aho1xcbiAgPC9hPlxcbjwvaDI+XFxuPCEtLSAva28gLS0+XFxuPGgyPuS7o+eggeekuuS+izwvaDI+XFxuXCI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInktYm94XFxcIj5cXG4gIDxkZW1vIHBhcmFtcz1cXFwiY29kZTpjb2RlWzBdXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS10b3Agcm93XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcbiAgICAgICAgPHktZWRpdGdyaWQgcGFyYW1zPVxcXCJyb3dzOiAkcm9vdC5lZGl0Z3JpZHJvd3MsIGNvbHVtbnM6ICRyb290LmVkaXRncmlkY29sdW1uc1xcXCI+PC95LWVkaXRncmlkPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1zcGxpdFxcXCI+XFxuICAgICAgPHNwYW4+ZWRpdGdyaWQ8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAgPGg0PuWPr+e8lui+keihqOagvDwvaDQ+XFxuICAgICAgPHA+MS7lpoLmnpzopoHmmL7npLrooajlpLTvvIzliJnpnIDopoHlsIbnm7jlupTooajlpLTorr7nva48Y29kZT5fc2hvdzp0cnVlPC9jb2RlPjwvcD5cXG4gICAgICA8cD4yLuWPr+e8lui+keihqOagvOWIhuS4unN1bW1hcnnooYzlkozmma7pgJrnvJbovpHooYzjgIJzdW1tYXJ56KGM5pSv5oyBIDxjb2RlPnN1bW1hcnlUeXBlOidyZW5kZXInPC9jb2RlPlxcbiAgICAgICAg5ZKMPGNvZGU+c3VtbWFyeVR5cGU6J2NvbXBvbmVudCc8L2NvZGU+5Lik56eN5qih5byP77yM5ZKMZ3JpZOWIl+acrOi6q+eahDxjb2RlPnR5cGU6cmVuZGVyPC9jb2RlPuWSjDxjb2RlPnR5cGU6Y29tcG9uZW50PC9jb2RlPuWunueOsOS4gOiHtFxcbiAgICAgIDwvcD5cXG4gICAgICA8cD4zLjxjb2RlPnN1bW1hcnlGbjwvY29kZT7lr7nlupTmuLLmn5Plh73mlbA8L3A+XFxuICAgICAgPHA+NC5zdW1tYXJ5VHlwZeWSjHN1bW1hcnlGbumcgOimgeWGmeWcqGNvbHVtbnPnmoTnrKzkuIDliJc8L3A+XFxuICAgIDwvZGl2PlxcbiAgPC9kZW1vPlxcblxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbMV1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcFxcXCI+XFxuICAgICAgPHktY2hpbGRncmlkIHBhcmFtcz1cXFwicm93czogJHJvb3QuY2hpbGRncmlkcm93cywgY29sdW1uczokcm9vdC5jaGlsZGdyaWRjb2x1bW5zXFxcIj48L3ktY2hpbGRncmlkPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1zcGxpdFxcXCI+XFxuICAgICAgPHNwYW4+Y2hpbGRncmlkPC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1ib3R0b21cXFwiPlxcbiAgICAgIDxoND5zdW1tYXJ56KGMK+S4gOWvueWkmuS4u+WtkOihqOihqOagvDwvaDQ+XFxuICAgICAgPHA+MS7lpoLmnpzopoHmmL7npLrooajlpLTvvIzliJnpnIDopoHlsIbnm7jlupTooajlpLTorr7nva48Y29kZT5fc2hvdzp0cnVlPC9jb2RlPjwvcD5cXG4gICAgICA8cD4yLuWSjOWPr+e8lui+keihqOagvOS4gOagt+WMheWQq3N1bW1hcnnooYzjgIJzdW1tYXJ56KGM5pSv5oyBIDxjb2RlPnN1bW1hcnlUeXBlOidyZW5kZXInPC9jb2RlPlxcbiAgICAgICAg5ZKMIDxjb2RlPnN1bW1hcnlUeXBlOidjb21wb25lbnQnPC9jb2RlPuS4pOenjeaooeW8j++8jOWSjGdyaWTliJfmnKzouqvnmoQ8Y29kZT50eXBlOnJlbmRlcjwvY29kZT7lkow8Y29kZT50eXBlOmNvbXBvbmVudDwvY29kZT7lrp7njrDkuIDoh7RcXG4gICAgICA8L3A+XFxuICAgICAgPHA+My4gPGNvZGU+c3VtbWFyeUZuPC9jb2RlPuWvueW6lOa4suafk+WHveaVsDwvcD5cXG4gICAgICA8cD40LuWMheWQqyA8Y29kZT5jaGlsZEdyaWRGbjwvY29kZT7mlrnms5XvvIznlKjkuo7moLnmja5yb3fliqjmgIHmuLLmn5PlrZDooajvvIzms6jmhI/pnIDopoHov5Tlm57kuIDkuKpjb21wb25lbnQ8L3A+XFxuICAgICAgPHA+NS5jaGlsZEdyaWRGbuW1jOWFpeeahHktZ3JpZOmcgOimgeiuvue9riA8Y29kZT5ub2hlYWQ6IHRydWU8L2NvZGU+PGNvZGU+bm9ib3JkZXI6IHRydWU8L2NvZGU+PGNvZGU+bWF4aGVpZ2h0OiAnYXV0byc8L2NvZGU+PC9wPlxcbiAgICAgIDxwPjYuY2hpbGRHcmlkRm7pnIDopoHlhpnlnKhjb2x1bW5z55qE56ys5LiA5YiXPC9wPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGVtbz5cXG48L2Rpdj5cXG5cIjtcblxuLyoqKi8gfSlcblxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxpYnMuMjAuZTZiYWRlNzljZGYyYmU4M2U5NmMuanMiLCJpbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9pbmRleC5odG1sJ1xuaW1wb3J0IGtvIGZyb20gJ2tub2Nrb3V0J1xuaW1wb3J0ICdAL2NvbXBvbmVudHMnXG5mdW5jdGlvbiBpbml0ICgpIHtcbiAgdmFyIHZpZXdtb2RlbCA9IHtcbiAgICBjb2RlOiBbYFxuICAgICAgPHRlbXBsYXRlPlxuICAgICAgICA8eS1lZGl0Z3JpZCBwYXJhbXM9XCJyb3dzOiAkcm9vdC5lZGl0Z3JpZHJvd3MsIGNvbHVtbnM6ICRyb290LmVkaXRncmlkY29sdW1uc1wiPjwveS1lZGl0Z3JpZD5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICB2YXIgdmlld21vZGVsID0ge1xuICAgICAgICAgIGVkaXRncmlkY29sdW1uczoga28ub2JzZXJ2YWJsZUFycmF5KFt7XG4gICAgICAgICAgICAgIHdpZHRoOiAnMjAlJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICflk4HniYzkuqflnLAv5p2Q6LSoJyxcbiAgICAgICAgICAgICAgZmllbGQ6ICdwcm9kdWN0JyxcbiAgICAgICAgICAgICAgc3VtbWFyeVR5cGU6ICdyZW5kZXInLFxuICAgICAgICAgICAgICBzdW1tYXJ5Rm46IChyb3cpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBcIjxkaXY+PGRpdj5cIiArXG4gICAgICAgICAgICAgICAgcm93Lm1hdGVyaWFsTmFtZSArIFwiPC9kaXY+PGRpdj5cIiArIHJvdy5udW0gKyByb3cudW5pdCArIFwi6ZyA5rGC57uE57uH77yaXCIgK1xuICAgICAgICAgICAgICAgIHJvdy5yZXFPcmcgKyBcIjwvZGl2PjxkaXY+6KeE5qC877yaXCIgKyByb3cuc3BlYyArIFwiPC9kaXY+PC9kaXY+XCJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICAgICAgICAgIGNvbXBGbjogKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdy5wcm9kdWN0XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHdpZHRoOiAnMTAlJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICfnqI7njocnLFxuICAgICAgICAgICAgICBmaWVsZDogJ3RheHJhdGUnLFxuICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICAgICAgICAgIGNvbXBGbjogKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdy50YXhyYXRlLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB3aWR0aDogJzEwJScsXG4gICAgICAgICAgICAgIHRpdGxlOiAn5peg56iO5Y2V5Lu3KOWFgyknLFxuICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgZmllbGQ6ICdwcmljZScsXG4gICAgICAgICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgICAgICAgICBjb21wRm46IChyb3cpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cucHJpY2UsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiAncmlnaHQnXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHdpZHRoOiAnMTAlJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICfph5Hpop0nLFxuICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgZmllbGQ6ICdhbW91bnQnLFxuICAgICAgICAgICAgICB0eXBlOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgICAgY29tcEZuOiAocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICd5LWlucHV0JyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm93LmFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdyaWdodCdcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICcyMCUnLFxuICAgICAgICAgICAgICB0aXRsZTogJ+S6pOi0p+acnycsXG4gICAgICAgICAgICAgIGZpZWxkOiAncmVxRGF0ZScsXG4gICAgICAgICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgICAgICAgICBjb21wRm46IChyb3cpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgbmFtZTogJ3ktZGF0ZXBpY2tlcicsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcm93LnJlcURhdGVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICcyMCUnLFxuICAgICAgICAgICAgICB0aXRsZTogJ+Wkh+azqCcsXG4gICAgICAgICAgICAgIGZpZWxkOiAncmVtYXJrJyxcbiAgICAgICAgICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICAgICAgICAgIGNvbXBGbjogKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdy5yZW1hcmtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIGVkaXRncmlkcm93czoga28ub2JzZXJ2YWJsZUFycmF5KFt7XG4gICAgICAgICAgICBtYXRlcmlhbE5hbWU6ICfnoavphbjpkr4nLFxuICAgICAgICAgICAgbnVtOiAyMDAwLFxuICAgICAgICAgICAgdW5pdDogJ+WQqCcsXG4gICAgICAgICAgICByZXFPcmc6ICflub/kuJzpgqPmlrnmmK/kvaDkvJjlhYjlhazlj7gnLFxuICAgICAgICAgICAgc3BlYzogJ1hMTEwgMeWPtyAjVUlPIOWei+WPt++8jOWOhuWPsumHh+i0reaho+asoeS4gOiHtCcsXG4gICAgICAgICAgICBwcm9kdWN0OiAnJyxcbiAgICAgICAgICAgIHRheHJhdGU6IDE3LFxuICAgICAgICAgICAgcHJpY2U6IDIwMC4wMCxcbiAgICAgICAgICAgIGFtb3VudDogNDAwMDAwLjAwLFxuICAgICAgICAgICAgcmVxRGF0ZToga28ub2JzZXJ2YWJsZSgnJyksXG4gICAgICAgICAgICBob2xkRGF0ZToga28ub2JzZXJ2YWJsZSgnJyksXG4gICAgICAgICAgICByZW1hcms6ICcnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbWF0ZXJpYWxOYW1lOiAn56Gr6YW46ZK+JyxcbiAgICAgICAgICAgIG51bTogMjAwLFxuICAgICAgICAgICAgdW5pdDogJ+WQqCcsXG4gICAgICAgICAgICByZXFPcmc6ICflub/kuJzpgqPmlrnmmK/kvaDkvJjlhYjlhazlj7gnLFxuICAgICAgICAgICAgc3BlYzogJ1hMTEwgMeWPtyAjVUlPIOWei+WPt++8jOWOhuWPsumHh+i0reaho+asoeS4gOiHtCcsXG4gICAgICAgICAgICBwcm9kdWN0OiAnJyxcbiAgICAgICAgICAgIHRheHJhdGU6IDE3LFxuICAgICAgICAgICAgcHJpY2U6IDIyMC4wMCxcbiAgICAgICAgICAgIGFtb3VudDogNDAwMDAwLjAwLFxuICAgICAgICAgICAgcmVxRGF0ZToga28ub2JzZXJ2YWJsZSgnJyksXG4gICAgICAgICAgICBob2xkRGF0ZToga28ub2JzZXJ2YWJsZSgnJyksXG4gICAgICAgICAgICByZW1hcms6ICcnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbWF0ZXJpYWxOYW1lOiAn56Gr6YW46ZK+JyxcbiAgICAgICAgICAgIG51bTogMTAwMCxcbiAgICAgICAgICAgIHVuaXQ6ICflkKgnLFxuICAgICAgICAgICAgcmVxT3JnOiAn5bm/5Lic6YKj5pa55piv5L2g5LyY5YWI5YWs5Y+4JyxcbiAgICAgICAgICAgIHNwZWM6ICdYTExMIDHlj7cgI1VJTyDlnovlj7fvvIzljoblj7Lph4fotK3moaPmrKHkuIDoh7QnLFxuICAgICAgICAgICAgcHJvZHVjdDogJycsXG4gICAgICAgICAgICB0YXhyYXRlOiAxNyxcbiAgICAgICAgICAgIHByaWNlOiAnJyxcbiAgICAgICAgICAgIGFtb3VudDogJycsXG4gICAgICAgICAgICByZXFEYXRlOiBrby5vYnNlcnZhYmxlKCcnKSxcbiAgICAgICAgICAgIGhvbGREYXRlOiBrby5vYnNlcnZhYmxlKCcnKSxcbiAgICAgICAgICAgIHJlbWFyazogJydcbiAgICAgICAgICB9XG4gICAgICAgIF0pXG4gICAgICAgIH1cbiAgICAgIDwvc2NyaXB0PlxuICAgIGAsIGBcbiAgICA8dGVtcGxhdGU+XG4gICAgICA8eS1jaGlsZGdyaWQgcGFyYW1zPVwicm93czogJHJvb3QuY2hpbGRncmlkcm93cywgY29sdW1uczokcm9vdC5jaGlsZGdyaWRjb2x1bW5zXCI+PC95LWNoaWxkZ3JpZD5cbiAgICA8L3RlbXBsYXRlPlxuICAgIDxzY3JpcHQ+XG4gICAgICB2YXIgdmlld21vZGVsID0ge1xuICAgICAgICBjaGlsZGdyaWRjb2x1bW5zOiBbe1xuICAgICAgICAgIHRpdGxlOiAn5aeT5ZCNJyxcbiAgICAgICAgICBmaWVsZDogJ25hbWUnLFxuICAgICAgICAgIHdpZHRoOiAnMjAlJyxcbiAgICAgICAgICBzdW1tYXJ5VHlwZTogJ3JlbmRlcicsXG4gICAgICAgICAgc3VtbWFyeUZuOiAocm93KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJzxkaXY+JyArIHJvdy50aXRsZSArICc8L2Rpdj48cD7ov5nmmK/kuIDkuKpzdW1tYXJ5Um93PC9wPidcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkR3JpZEZuIChyb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIG5hbWU6ICd5LWdyaWQnLFxuICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBub2hlYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbm9ib3JkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4aGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgY29sdW1uczogW3tcbiAgICAgICAgICAgICAgICAgIGZpZWxkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICB3aWR0aDogJzIwJScsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgZmllbGQ6ICdhZ2UnLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMCUnXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgZmllbGQ6ICdzZXgnLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICczMCUnXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgcm93czoga28ub2JzZXJ2YWJsZUFycmF5KHJvdy5saXN0KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgdGl0bGU6ICflubTpvoQnLFxuICAgICAgICAgIGZpZWxkOiAnYWdlJyxcbiAgICAgICAgICB3aWR0aDogJzEwJSdcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAn5oCn5YirJyxcbiAgICAgICAgICBmaWVsZDogJ3NleCcsXG4gICAgICAgICAgd2lkdGg6ICczMCUnXG4gICAgICAgIH1dLFxuICAgICAgICBjaGlsZGdyaWRyb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW3tcbiAgICAgICAgICB0aXRsZTogJ+esrOS4gOihjCcsXG4gICAgICAgICAgbGlzdDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiAnc29uZ2psJyxcbiAgICAgICAgICAgICAgYWdlOiAzMCxcbiAgICAgICAgICAgICAgc2V4OiAn55S3J1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBuYW1lOiAnd3V5ZycsXG4gICAgICAgICAgICAgIGFnZTogMzUsXG4gICAgICAgICAgICAgIHNleDogJ+eUtydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgbmFtZTogJ3d1MnlnJyxcbiAgICAgICAgICAgICAgYWdlOiAxNSxcbiAgICAgICAgICAgICAgc2V4OiAn5aWzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAnbmFtZTInLFxuICAgICAgICAgIGxpc3Q6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogJ2xpeGloJyxcbiAgICAgICAgICAgICAgYWdlOiAxNCxcbiAgICAgICAgICAgICAgc2V4OiAn5aWzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBuYW1lOiAnZ3VvdGcnLFxuICAgICAgICAgICAgICBhZ2U6IDI1LFxuICAgICAgICAgICAgICBzZXg6ICfnlLcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XSlcbiAgICAgIH0gXG4gICAgPC9zY3JpcHQ+XG4gICAgYFxuICAgIF0sXG4gICAgZWRpdGdyaWRyb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW1xuICAgICAge1xuICAgICAgICBtYXRlcmlhbE5hbWU6ICfnoavphbjpkr4nLFxuICAgICAgICBudW06IDIwMDAsXG4gICAgICAgIHVuaXQ6ICflkKgnLFxuICAgICAgICByZXFPcmc6ICflub/kuJzpgqPmlrnmmK/kvaDkvJjlhYjlhazlj7gnLFxuICAgICAgICBzcGVjOiAnWExMTCAx5Y+3ICNVSU8g5Z6L5Y+377yM5Y6G5Y+y6YeH6LSt5qGj5qyh5LiA6Ie0JyxcbiAgICAgICAgcHJvZHVjdDogJycsXG4gICAgICAgIHRheHJhdGU6IDE3LFxuICAgICAgICBwcmljZTogMjAwLjAwLFxuICAgICAgICBhbW91bnQ6IDQwMDAwMC4wMCxcbiAgICAgICAgcmVxRGF0ZToga28ub2JzZXJ2YWJsZSgnJyksXG4gICAgICAgIGhvbGREYXRlOiBrby5vYnNlcnZhYmxlKCcnKSxcbiAgICAgICAgcmVtYXJrOiAnJ1xuICAgICAgfSwge1xuICAgICAgICBtYXRlcmlhbE5hbWU6ICfnoavphbjpkr4nLFxuICAgICAgICBudW06IDIwMCxcbiAgICAgICAgdW5pdDogJ+WQqCcsXG4gICAgICAgIHJlcU9yZzogJ+W5v+S4nOmCo+aWueaYr+S9oOS8mOWFiOWFrOWPuCcsXG4gICAgICAgIHNwZWM6ICdYTExMIDHlj7cgI1VJTyDlnovlj7fvvIzljoblj7Lph4fotK3moaPmrKHkuIDoh7QnLFxuICAgICAgICBwcm9kdWN0OiAnJyxcbiAgICAgICAgdGF4cmF0ZTogMTcsXG4gICAgICAgIHByaWNlOiAyMjAuMDAsXG4gICAgICAgIGFtb3VudDogNDAwMDAwLjAwLFxuICAgICAgICByZXFEYXRlOiBrby5vYnNlcnZhYmxlKCcnKSxcbiAgICAgICAgaG9sZERhdGU6IGtvLm9ic2VydmFibGUoJycpLFxuICAgICAgICByZW1hcms6ICcnXG4gICAgICB9LCB7XG4gICAgICAgIG1hdGVyaWFsTmFtZTogJ+ehq+mFuOmSvicsXG4gICAgICAgIG51bTogMTAwMCxcbiAgICAgICAgdW5pdDogJ+WQqCcsXG4gICAgICAgIHJlcU9yZzogJ+W5v+S4nOmCo+aWueaYr+S9oOS8mOWFiOWFrOWPuCcsXG4gICAgICAgIHNwZWM6ICdYTExMIDHlj7cgI1VJTyDlnovlj7fvvIzljoblj7Lph4fotK3moaPmrKHkuIDoh7QnLFxuICAgICAgICBwcm9kdWN0OiAnJyxcbiAgICAgICAgdGF4cmF0ZTogMTcsXG4gICAgICAgIHByaWNlOiAnJyxcbiAgICAgICAgYW1vdW50OiAnJyxcbiAgICAgICAgcmVxRGF0ZToga28ub2JzZXJ2YWJsZSgnJyksXG4gICAgICAgIGhvbGREYXRlOiBrby5vYnNlcnZhYmxlKCcnKSxcbiAgICAgICAgcmVtYXJrOiAnJ1xuICAgICAgfVxuICAgIF0pLFxuICAgIGVkaXRncmlkY29sdW1uczoga28ub2JzZXJ2YWJsZUFycmF5KFtcbiAgICAgIHtcbiAgICAgICAgd2lkdGg6ICcyMCUnLFxuICAgICAgICB0aXRsZTogJ+WTgeeJjOS6p+WcsC/mnZDotKgnLFxuICAgICAgICBmaWVsZDogJ3Byb2R1Y3QnLFxuICAgICAgICBzdW1tYXJ5VHlwZTogJ3JlbmRlcicsXG4gICAgICAgIHN1bW1hcnlGbjogKHJvdykgPT4ge1xuICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGA8ZGl2PjxkaXY+JHtyb3cubWF0ZXJpYWxOYW1lfTwvZGl2PlxuICAgICAgICA8ZGl2PiR7cm93Lm51bX0ke3Jvdy51bml0fVxuICAgICAgICAgIOmcgOaxgue7hOe7h++8miR7cm93LnJlcU9yZ31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+6KeE5qC877yaJHtyb3cuc3BlY308L2Rpdj48L2Rpdj5gXG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgICAgLy8gcmV0dXJuIHtcbiAgICAgICAgICAvLyAgIG5hbWU6ICd5LWlucHV0JyxcbiAgICAgICAgICAvLyAgIHBhcmFtczoge1xuICAgICAgICAgIC8vICAgICB2YWx1ZTogcm93LnJlcURhdGVcbiAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgICBjb21wRm46IChyb3cpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiByb3cucHJvZHVjdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICB3aWR0aDogJzEwJScsXG4gICAgICAgIHRpdGxlOiAn56iO546HJyxcbiAgICAgICAgZmllbGQ6ICd0YXhyYXRlJyxcbiAgICAgICAgYWxpZ246ICdyaWdodCcsXG4gICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgICBjb21wRm46IChyb3cpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiByb3cudGF4cmF0ZSxcbiAgICAgICAgICAgICAgYWxpZ246ICdyaWdodCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgd2lkdGg6ICcxMCUnLFxuICAgICAgICB0aXRsZTogJ+aXoOeojuWNleS7tyjlhYMpJyxcbiAgICAgICAgYWxpZ246ICdyaWdodCcsXG4gICAgICAgIGZpZWxkOiAncHJpY2UnLFxuICAgICAgICB0eXBlOiAnY29tcG9uZW50JyxcbiAgICAgICAgY29tcEZuOiAocm93KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICd5LWlucHV0JyxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICB2YWx1ZTogcm93LnByaWNlLFxuICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICB3aWR0aDogJzEwJScsXG4gICAgICAgIHRpdGxlOiAn6YeR6aKdJyxcbiAgICAgICAgYWxpZ246ICdyaWdodCcsXG4gICAgICAgIGZpZWxkOiAnYW1vdW50JyxcbiAgICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICAgIGNvbXBGbjogKHJvdykgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgdmFsdWU6IHJvdy5hbW91bnQsXG4gICAgICAgICAgICAgIGFsaWduOiAncmlnaHQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIHdpZHRoOiAnMjAlJyxcbiAgICAgICAgdGl0bGU6ICfkuqTotKfmnJ8nLFxuICAgICAgICBmaWVsZDogJ3JlcURhdGUnLFxuICAgICAgICB0eXBlOiAnY29tcG9uZW50JyxcbiAgICAgICAgY29tcEZuOiAocm93KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICd5LWRhdGVwaWNrZXInLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgIGRhdGE6IHJvdy5yZXFEYXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIHdpZHRoOiAnMjAlJyxcbiAgICAgICAgdGl0bGU6ICflpIfms6gnLFxuICAgICAgICBmaWVsZDogJ3JlbWFyaycsXG4gICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgICBjb21wRm46IChyb3cpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ3ktaW5wdXQnLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiByb3cucmVtYXJrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICBdKSxcbiAgICBjaGlsZGdyaWRjb2x1bW5zOiBbe1xuICAgICAgdGl0bGU6ICflp5PlkI0nLFxuICAgICAgZmllbGQ6ICduYW1lJyxcbiAgICAgIHdpZHRoOiAnMjAlJyxcbiAgICAgIHN1bW1hcnlUeXBlOiAncmVuZGVyJyxcbiAgICAgIHN1bW1hcnlGbjogKHJvdykgPT4ge1xuICAgICAgICByZXR1cm4gJzxkaXY+JyArIHJvdy50aXRsZSArICc8L2Rpdj48cD7ov5nmmK/kuIDkuKpzdW1tYXJ5Um93PC9wPidcbiAgICAgIH0sXG4gICAgICBjaGlsZEdyaWRGbiAocm93KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogJ3ktZ3JpZCcsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBub2hlYWQ6IHRydWUsXG4gICAgICAgICAgICBub2JvcmRlcjogdHJ1ZSxcbiAgICAgICAgICAgIG1heGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgY29sdW1uczogW3tcbiAgICAgICAgICAgICAgZmllbGQ6ICduYW1lJyxcbiAgICAgICAgICAgICAgd2lkdGg6ICcyMCUnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnYWdlJyxcbiAgICAgICAgICAgICAgd2lkdGg6ICcxMCUnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnc2V4JyxcbiAgICAgICAgICAgICAgd2lkdGg6ICczMCUnXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIHJvd3M6IGtvLm9ic2VydmFibGVBcnJheShyb3cubGlzdClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB0aXRsZTogJ+W5tOm+hCcsXG4gICAgICBmaWVsZDogJ2FnZScsXG4gICAgICB3aWR0aDogJzEwJSdcbiAgICB9LCB7XG4gICAgICB0aXRsZTogJ+aAp+WIqycsXG4gICAgICBmaWVsZDogJ3NleCcsXG4gICAgICB3aWR0aDogJzMwJSdcbiAgICB9XSxcbiAgICBjaGlsZGdyaWRyb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW3tcbiAgICAgIHRpdGxlOiAn56ys5LiA6KGMJyxcbiAgICAgIGxpc3Q6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdzb25namwnLFxuICAgICAgICAgIGFnZTogMzAsXG4gICAgICAgICAgc2V4OiAn55S3J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogJ3d1eWcnLFxuICAgICAgICAgIGFnZTogMzUsXG4gICAgICAgICAgc2V4OiAn55S3J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogJ3d1MnlnJyxcbiAgICAgICAgICBhZ2U6IDE1LFxuICAgICAgICAgIHNleDogJ+WlsydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sIHtcbiAgICAgIHRpdGxlOiAnbmFtZTInLFxuICAgICAgbGlzdDogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2xpeGloJyxcbiAgICAgICAgICBhZ2U6IDE0LFxuICAgICAgICAgIHNleDogJ+WlsydcbiAgICAgICAgfSwge1xuICAgICAgICAgIG5hbWU6ICdndW90ZycsXG4gICAgICAgICAgYWdlOiAyNSxcbiAgICAgICAgICBzZXg6ICfnlLcnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XSlcbiAgfVxuXG4gIGtvLmFwcGx5QmluZGluZ3Modmlld21vZGVsLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpXG59XG5leHBvcnQgZGVmYXVsdCB7XG4gIHRlbXBsYXRlLFxuICBpbml0XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmlld3MvY29tcGxleGdyaWQvaW5kZXguanMiLCJpbXBvcnQgJy4vZGVtbydcbmltcG9ydCAnLi90aXRsZSdcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2luZGV4LmpzIiwiaW1wb3J0IHRwbCBmcm9tICcuL2luZGV4Lmh0bWwnXG5pbXBvcnQgJy4vaW5kZXgubGVzcydcbmltcG9ydCAnLi4vY29kZSdcbmltcG9ydCBrbyBmcm9tICdrbm9ja291dCdcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICB0aGlzLmNvZGUgPSBwYXJhbXMuY29kZVxuICB0aGlzLmlzU2hvd0FsbCA9IGtvLm9ic2VydmFibGUoZmFsc2UpXG4gIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNTaG93QWxsKCF0aGlzLmlzU2hvd0FsbCgpKVxuICB9LmJpbmQodGhpcylcbn1cbmtvLmNvbXBvbmVudHMucmVnaXN0ZXIoJ2RlbW8nLCB7XG4gIHZpZXdNb2RlbDogaW5pdCxcbiAgdGVtcGxhdGU6IHRwbFxufSlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2RlbW8vaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiZGVtb1xcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLXNob3dcXFwiPlxcbiAgPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby1zcGxpdFxcXCI+PC9kaXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLWNvZGVcXFwiIGRhdGEtYmluZD1cXFwiY3NzOnsnZGVtby1oaWRlQ29kZSc6IWlzU2hvd0FsbCgpfVxcXCI+XFxuICAgIDx5LWNvZGUgcGFyYW1zPVxcXCJjb2RlOmNvZGVcXFwiPjwveS1jb2RlPlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLXRvZ2dsZVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazp0b2dnbGVcXFwiPjxzcGFuIGNsYXNzPVxcXCJmYVxcXCIgZGF0YS1iaW5kPVxcXCJjc3M6eydmYS1hbmdsZS1kb3VibGUtZG93bic6IWlzU2hvd0FsbCgpLCdmYS1hbmdsZS1kb3VibGUtdXAnOmlzU2hvd0FsbCgpfVxcXCI+PC9zcGFuPjwvZGl2PlxcbjwvZGl2PlxcblwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZGVtby9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJpbXBvcnQgdHBsIGZyb20gJy4vaW5kZXguaHRtbCdcbmltcG9ydCAnLi9pbmRleC5sZXNzJ1xuaW1wb3J0IGtvIGZyb20gJ2tub2Nrb3V0J1xuaW1wb3J0IGhsanMgZnJvbSAnaGlnaGxpZ2h0anMnXG5pbXBvcnQgQ2xpcGJvYXJkIGZyb20gJ2NsaXBib2FyZCdcbmltcG9ydCAnaGlnaGxpZ2h0anMvc3R5bGVzL2dpdGh1Yi5jc3MnXG4vLyBpbXBvcnQgeyBkZWJ1ZyB9IGZyb20gJ3V0aWwnXG5mdW5jdGlvbiBJbml0IChwYXJhbXMsIGVsKSB7XG4gIC8vIOWPquiOt+WPlumrmOS6rueahERPTe+8jOWQpuWImeS8muW9seWTjWtv5oyH5LukXG4gIHRoaXMuJGVsID0gZWwuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzNdXG4gIHRoaXMuY29kZSA9IHBhcmFtcy5jb2RlXG4gIHRoaXMuY29weSA9ICgpID0+IHtcbiAgICBjb25zdCBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuY29weScsIHtcbiAgICAgIHRleHQgKCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmNvZGVcbiAgICAgIH1cbiAgICB9KVxuICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIChlKSA9PiB7XG4gICAgICBlLmNsZWFyU2VsZWN0aW9uKClcbiAgICAgIGNsaXBib2FyZC5kZXN0cm95KClcbiAgICAgIHdpbmRvdy5hbGVydCgn5Luj56CB5bey5aSN5Yi25Yiw5Ymq6LS05p2/JylcbiAgICB9KVxuICB9XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGhsanMuaGlnaGxpZ2h0QmxvY2sodGhpcy4kZWwpXG4gIH0pXG59XG5rby5jb21wb25lbnRzLnJlZ2lzdGVyKCd5LWNvZGUnLCB7XG4gIHZpZXdNb2RlbDoge1xuICAgIGNyZWF0ZVZpZXdNb2RlbDogZnVuY3Rpb24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICAgICAgcmV0dXJuIG5ldyBJbml0KHBhcmFtcywgY29tcG9uZW50SW5mby5lbGVtZW50KVxuICAgIH1cbiAgfSxcbiAgdGVtcGxhdGU6IHRwbFxufSlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2NvZGUvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY29kZVxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJ0b29sc1xcXCI+XFxuICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbGlwYm9hcmQgY29weVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogY29weVxcXCI+PC9pPlxcbiAgPC9kaXY+XFxuICA8cHJlPjxjb2RlIGNsYXNzPVxcXCJodG1sXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvZGVcXFwiPjwvY29kZT48L3ByZT5cXG48L2Rpdj5cXG5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2NvZGUvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJy4vY2xpcGJvYXJkLWFjdGlvbicsICd0aW55LWVtaXR0ZXInLCAnZ29vZC1saXN0ZW5lciddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCcuL2NsaXBib2FyZC1hY3Rpb24nKSwgcmVxdWlyZSgndGlueS1lbWl0dGVyJyksIHJlcXVpcmUoJ2dvb2QtbGlzdGVuZXInKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uLCBnbG9iYWwudGlueUVtaXR0ZXIsIGdsb2JhbC5nb29kTGlzdGVuZXIpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX2NsaXBib2FyZEFjdGlvbiwgX3RpbnlFbWl0dGVyLCBfZ29vZExpc3RlbmVyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9jbGlwYm9hcmRBY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkQWN0aW9uKTtcblxuICAgIHZhciBfdGlueUVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlueUVtaXR0ZXIpO1xuXG4gICAgdmFyIF9nb29kTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZExpc3RlbmVyKTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xuICAgICAgICBfaW5oZXJpdHMoQ2xpcGJvYXJkLCBfRW1pdHRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0cmlnZ2VyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmQodHJpZ2dlciwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDbGlwYm9hcmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDbGlwYm9hcmQpKS5jYWxsKHRoaXMpKTtcblxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xuICAgICAgICAgKiBvciBjdXN0b20gZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmQsIFt7XG4gICAgICAgICAgICBrZXk6ICdyZXNvbHZlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5hY3Rpb24gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmFjdGlvbiA6IHRoaXMuZGVmYXVsdEFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gX3R5cGVvZihvcHRpb25zLmNvbnRhaW5lcikgPT09ICdvYmplY3QnID8gb3B0aW9ucy5jb250YWluZXIgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdsaXN0ZW5DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuQ2xpY2sodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9ICgwLCBfZ29vZExpc3RlbmVyMi5kZWZhdWx0KSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uKHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0KHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXI6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdEFjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCdhY3Rpb24nLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdFRhcmdldCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGV4dCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2lzU3VwcG9ydGVkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbJ2NvcHknLCAnY3V0J107XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9ucyA9IHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnID8gW2FjdGlvbl0gOiBhY3Rpb247XG4gICAgICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDtcblxuICAgICAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnQgPSBzdXBwb3J0ICYmICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XG4gICAgfShfdGlueUVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2xpYi9jbGlwYm9hcmQuanNcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICdzZWxlY3QnXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnc2VsZWN0JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLnNlbGVjdCk7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24gPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfc2VsZWN0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmRBY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkQWN0aW9uLCBbe1xuICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdFNlbGVjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNlbGVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RmFrZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdEZha2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdEZha2UoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBpc1JUTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpID09ICdydGwnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxMnB0JztcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBib3ggbW9kZWxcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZVtpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCddID0gJy05OTk5cHgnO1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XG4gICAgICAgICAgICAgICAgdmFyIHlQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wID0geVBvc2l0aW9uICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnZhbHVlID0gdGhpcy50ZXh0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3JlbW92ZUZha2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZha2UoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWtlRWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RUYXJnZXQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjb3B5VGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRleHQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2NlZWRlZCA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN1bHQoc3VjY2VlZGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGFuZGxlUmVzdWx0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoc3VjY2VlZGVkID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyU2VsZWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlci5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYWN0aW9uJyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdjb3B5JztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndGFyZ2V0JyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXQpKSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY3V0JyAmJiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKSB8fCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xuICAgIH0oKTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkQWN0aW9uO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2xpYi9jbGlwYm9hcmQtYWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJmdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xuICAgIHZhciBzZWxlY3RlZFRleHQ7XG5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICB2YXIgaXNSZWFkT25seSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCFpc1JlYWRPbmx5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2VsZWN0L3NyYy9zZWxlY3QuanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsImZ1bmN0aW9uIEUgKCkge1xuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcbn1cblxuRS5wcm90b3R5cGUgPSB7XG4gIG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG5cbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XG4gICAgICBmbjogY2FsbGJhY2ssXG4gICAgICBjdHg6IGN0eFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcbiAgfSxcblxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcblxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdGlueS1lbWl0dGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJ2YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XG52YXIgZGVsZWdhdGUgPSByZXF1aXJlKCdkZWxlZ2F0ZScpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2dvb2QtbGlzdGVuZXIvc3JjL2xpc3Rlbi5qc1xuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwiLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGVMaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxuICAgICAgICAmJiAoJ2xlbmd0aCcgaW4gdmFsdWUpXG4gICAgICAgICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgZXhwb3J0cy5ub2RlKHZhbHVlWzBdKSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXG4gICAgICAgIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5mbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvaXMuanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsInZhciBjbG9zZXN0ID0gcmVxdWlyZSgnLi9jbG9zZXN0Jyk7XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfEFycmF5fSBbZWxlbWVudHNdXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnRzLCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICAvLyBIYW5kbGUgdGhlIHJlZ3VsYXIgRWxlbWVudCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEVsZW1lbnQtbGVzcyB1c2FnZSwgaXQgZGVmYXVsdHMgdG8gZ2xvYmFsIGRlbGVnYXRpb25cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVXNlIGBkb2N1bWVudGAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgdGhlbiBhcHBseSBhcmd1bWVudHNcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNob3J0IHdheSB0byAudW5zaGlmdCBgYXJndW1lbnRzYCB3aXRob3V0IHJ1bm5pbmcgaW50byBkZW9wdGltaXphdGlvbnNcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5iaW5kKG51bGwsIGRvY3VtZW50KS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBTZWxlY3Rvci1iYXNlZCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEFycmF5LWxpa2UgYmFzZWQgdXNhZ2VcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yKTtcblxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9kZWxlZ2F0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwidmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XG5cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcbiAqL1xuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIHZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ubWF0Y2hlcyA9IHByb3RvLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSBET0NVTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9zZXN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsImltcG9ydCB0cGwgZnJvbSAnLi9pbmRleC5odG1sJ1xuaW1wb3J0IGtvIGZyb20gJ2tub2Nrb3V0J1xuZnVuY3Rpb24gaW5pdCAocGFyYW1zKSB7XG4gIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lIHx8ICcnXG4gIHRoaXMubGluayA9IHBhcmFtcy5saW5rIHx8ICcnXG59XG5rby5jb21wb25lbnRzLnJlZ2lzdGVyKCd5LXRpdGxlJywge1xuICB2aWV3TW9kZWw6IGluaXQsXG4gIHRlbXBsYXRlOiB0cGxcbn0pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy90aXRsZS9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCI8aDE+XFxuICA8c3BhbiBkYXRhLWJpbmQ9XFxcInRleHQ6IG5hbWVcXFwiPjwvc3Bhbj7nu4Tku7ZcXG48L2gxPlxcbjwhLS0ga28gaWY6IGxpbmstLT5cXG48aDI+XFxuICA8YSBkYXRhLWJpbmQ9XFxcImF0dHI6IHtocmVmOiBsaW5rfVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIHN0eWxlPVxcXCJjb2xvcjogIzJiYWVlOVxcXCI+XFxuICAgIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogbmFtZVxcXCI+PC9zcGFuPue7hOS7tkFQSeaWh+aho1xcbiAgPC9hPlxcbjwvaDI+XFxuPCEtLSAva28gLS0+XFxuPGgyPuS7o+eggeekuuS+izwvaDI+XFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy90aXRsZS9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwieS1ib3hcXFwiPlxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbMF1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuICAgICAgICA8eS1lZGl0Z3JpZCBwYXJhbXM9XFxcInJvd3M6ICRyb290LmVkaXRncmlkcm93cywgY29sdW1uczogJHJvb3QuZWRpdGdyaWRjb2x1bW5zXFxcIj48L3ktZWRpdGdyaWQ+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj5lZGl0Z3JpZDwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXG4gICAgICA8aDQ+5Y+v57yW6L6R6KGo5qC8PC9oND5cXG4gICAgICA8cD4xLuWmguaenOimgeaYvuekuuihqOWktO+8jOWImemcgOimgeWwhuebuOW6lOihqOWktOiuvue9rjxjb2RlPl9zaG93OnRydWU8L2NvZGU+PC9wPlxcbiAgICAgIDxwPjIu5Y+v57yW6L6R6KGo5qC85YiG5Li6c3VtbWFyeeihjOWSjOaZrumAmue8lui+keihjOOAgnN1bW1hcnnooYzmlK/mjIEgPGNvZGU+c3VtbWFyeVR5cGU6J3JlbmRlcic8L2NvZGU+XFxuICAgICAgICDlkow8Y29kZT5zdW1tYXJ5VHlwZTonY29tcG9uZW50JzwvY29kZT7kuKTnp43mqKHlvI/vvIzlkoxncmlk5YiX5pys6Lqr55qEPGNvZGU+dHlwZTpyZW5kZXI8L2NvZGU+5ZKMPGNvZGU+dHlwZTpjb21wb25lbnQ8L2NvZGU+5a6e546w5LiA6Ie0XFxuICAgICAgPC9wPlxcbiAgICAgIDxwPjMuPGNvZGU+c3VtbWFyeUZuPC9jb2RlPuWvueW6lOa4suafk+WHveaVsDwvcD5cXG4gICAgICA8cD40LnN1bW1hcnlUeXBl5ZKMc3VtbWFyeUZu6ZyA6KaB5YaZ5ZyoY29sdW1uc+eahOesrOS4gOWIlzwvcD5cXG4gICAgPC9kaXY+XFxuICA8L2RlbW8+XFxuXFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVsxXVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wXFxcIj5cXG4gICAgICA8eS1jaGlsZGdyaWQgcGFyYW1zPVxcXCJyb3dzOiAkcm9vdC5jaGlsZGdyaWRyb3dzLCBjb2x1bW5zOiRyb290LmNoaWxkZ3JpZGNvbHVtbnNcXFwiPjwveS1jaGlsZGdyaWQ+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj5jaGlsZGdyaWQ8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAgPGg0PnN1bW1hcnnooYwr5LiA5a+55aSa5Li75a2Q6KGo6KGo5qC8PC9oND5cXG4gICAgICA8cD4xLuWmguaenOimgeaYvuekuuihqOWktO+8jOWImemcgOimgeWwhuebuOW6lOihqOWktOiuvue9rjxjb2RlPl9zaG93OnRydWU8L2NvZGU+PC9wPlxcbiAgICAgIDxwPjIu5ZKM5Y+v57yW6L6R6KGo5qC85LiA5qC35YyF5ZCrc3VtbWFyeeihjOOAgnN1bW1hcnnooYzmlK/mjIEgPGNvZGU+c3VtbWFyeVR5cGU6J3JlbmRlcic8L2NvZGU+XFxuICAgICAgICDlkowgPGNvZGU+c3VtbWFyeVR5cGU6J2NvbXBvbmVudCc8L2NvZGU+5Lik56eN5qih5byP77yM5ZKMZ3JpZOWIl+acrOi6q+eahDxjb2RlPnR5cGU6cmVuZGVyPC9jb2RlPuWSjDxjb2RlPnR5cGU6Y29tcG9uZW50PC9jb2RlPuWunueOsOS4gOiHtFxcbiAgICAgIDwvcD5cXG4gICAgICA8cD4zLiA8Y29kZT5zdW1tYXJ5Rm48L2NvZGU+5a+55bqU5riy5p+T5Ye95pWwPC9wPlxcbiAgICAgIDxwPjQu5YyF5ZCrIDxjb2RlPmNoaWxkR3JpZEZuPC9jb2RlPuaWueazle+8jOeUqOS6juagueaNrnJvd+WKqOaAgea4suafk+WtkOihqO+8jOazqOaEj+mcgOimgei/lOWbnuS4gOS4qmNvbXBvbmVudDwvcD5cXG4gICAgICA8cD41LmNoaWxkR3JpZEZu5bWM5YWl55qEeS1ncmlk6ZyA6KaB6K6+572uIDxjb2RlPm5vaGVhZDogdHJ1ZTwvY29kZT48Y29kZT5ub2JvcmRlcjogdHJ1ZTwvY29kZT48Y29kZT5tYXhoZWlnaHQ6ICdhdXRvJzwvY29kZT48L3A+XFxuICAgICAgPHA+Ni5jaGlsZEdyaWRGbumcgOimgeWGmeWcqGNvbHVtbnPnmoTnrKzkuIDliJc8L3A+XFxuICAgIDwvZGl2PlxcbiAgPC9kZW1vPlxcbjwvZGl2PlxcblwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3ZpZXdzL2NvbXBsZXhncmlkL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMjAiXSwic291cmNlUm9vdCI6IiJ9