webpackJsonp([14],{20:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(){var e={code:["\n      <template>\n        <y-grid params=\"rows:$root.caculateRows, \n        columns: $root.caculateMainColumns, \n        caculateColumns: $root.caculateColumns\">\n        </y-grid>\n      </template>\n      <script>\n      var viewmodel = {\n        caculateColumns: [{\n          type: 'render',\n          _show: true,\n          renderFn (row) {\n            return '合计：'\n          }\n        }, {\n          _show: true,\n          type: 'render',\n          align: 'right',\n          // 在此自有定义你的合计计算方法\n          renderFn (row) {\n            return '¥ ' + _.reduce(viewmodel.caculateRows(), function (a, b) {\n              return {age: (a.age - 0) + (b.age - 0)}\n            }, {\n              age: 0\n            }).age\n          }\n        }, {\n          _show: true\n        }],\n        caculateRows: ko.observableArray([\n          {\n            name: 'name',\n            age: 24000.034,\n            sex: '男'\n          }, {\n            name: 'name',\n            age: 223291.0000000,\n            sex: '男'\n          }, {\n            name: 'name',\n            age: '2112389.010',\n            sex: '男'\n          }, {\n            name: 'name',\n            age: 2300000.01,\n            sex: '男'\n          }\n        ]),\n        caculateMainColumns: [{\n          title: '姓名',\n          field: 'name',\n          type: 'render',\n          renderFn: function (row) {\n            return \"<a href='http://www.baidu.com'>row.name</a>\"\n          }\n        }, {\n          title: '价格',\n          field: 'age',\n          align: 'right',\n          dataType: 'money'\n        }, {\n          title: '性别',\n          field: 'sex',\n        }]\n      } \n    <\/script>\n    ","\n    <template>\n      <y-basicgrid params=\"maxheight:'205px',ref:'loadingGrid',columns:$root.ComputeColumns,rows: $root.ComputeRows\"></y-basicgrid>\n    </template>\n    <script>\n      var viewmodel = {\n        ComputeRows: ko.observableArray([{\n          id: 1,\n          name: 'name',\n          price: ko.observable(23),\n          num: 2,\n          total: 46\n        }, {\n          id: 1,\n          name: 'name',\n          price: ko.observable(23),\n          num: 2,\n          total: 46\n        }]),\n        ComputeColumns: [{\n          title: '单价+',\n          field: 'id',\n          type: 'component',\n          compFn (row) {\n            return {\n              name: 'y-grid-merge-td',\n              params: {\n                dataList: [\n                  {\n                    field: 'price'\n                  }, {\n                    field: 'num',\n                    type: 'render',\n                    renderFn () {\n                      var html = '<div>数量：' + row.num + '</div>'\n                      return html\n                    }\n                  }, {\n                    field: 'id',\n                    type: 'component',\n                    compFn () {\n                      return {\n                        name: 'y-input',\n                        params: {\n                          value: row.price,\n                          placeholder: '你好世界'\n                        }\n                      }\n                    }\n                  }\n                ],\n                row: row\n              }\n            }\n          }\n        }, {\n          title: '总价',\n          field: 'total'\n        }]\n      } \n    <\/script>\n    ","\n      <template>\n        <y-basicgrid params=\"ref:'lazygrid',lockcolumn: true,lockhead:true,handleScroll:$root.lazyScroll,lazy: $root.gridLazy, rows: $root.lazyRows, columns: $root.lazyColumns\">\n        </y-basicgrid>\n      </template>\n      <script >\n      var viewmodel = {\n        gridLazy: {\n          lazyStart: ko.observable(0),\n          lazyEnd: ko.observable(10)\n        }\n      }\n      var lazyGrid = null\n      var el = null\n      setTimeout(function () {\n        lazyGrid = window.ycloud.$refs['lazygrid']\n        el = window.$(lazyGrid.$el).find('.y-grid-body table')[0]\n      })\n    \n      // 示例代码\n      viewmodel.lazyScroll = function (event, scrollTop) {\n        var index = lazyGrid.getFitIndexByScrollTop(scrollTop)\n        if (index === -1) {\n          var curIndex = Math.round(datas.length * scrollTop / el.offsetHeight)\n          index = curIndex\n        }\n        // 详细参数根据不同页面的数据级别灵活调整\n        viewmodel.gridLazy.lazyStart(index - 30 < datas.length - datas.length / 5 ? index - 30 : datas.length - datas.length / 5)\n        viewmodel.gridLazy.lazyEnd(index + 30 > datas.length ? datas.length : index + 30)\n      }\n      <\/script>\n    ","\n    <template>\n      <y-grid params=\"\n          crossPageSelectedRows: $root.crossPageRows,\n          onPageChange:$root.handleChange,\n          onSizeChange:$root.handleChange,\n          pagination:true,totalCount:ko.observable(20),\n          maxheight:'auto',\n          rows:$root.pageRows,\n          columns: $root.pageColumns\">\n        </y-grid>\n    </template>\n    <script>\n      var vm = {\n        crossPageRows: ko.observableArray([])\n      }\n    <\/script>\n    "],caculateRows:a.default.observableArray([{name:"name",age:24000.034,sex:"男"},{name:"name",age:223291,sex:"男"},{name:"name",age:"2112389.010",sex:"男"},{name:"name",age:2300000.01,sex:"男"}]),caculateMainColumns:[{title:"姓名",field:"name",type:"render",renderFn:function(e){return"<a href='http://www.baidu.com'>row.name</a>"}},{title:"价格",field:"age",align:"right",dataType:"money"},{title:"性别",field:"sex"}],caculateColumns:[{type:"render",_show:!0,renderFn:function(e){return"<b>合计：</b>"}},{_show:!0,type:"render",align:"right",renderFn:function(t){return"<span style=\"font-family: 'Microsoft YaHei'\">¥ </span>"+d.default.reduce(e.caculateRows(),function(e,t){return{age:e.age-0+(t.age-0)}},{age:0}).age}},{_show:!0}],ComputeRows:a.default.observableArray([{id:1,name:"name",price:a.default.observable(23),num:2,total:46},{id:1,name:"name",price:a.default.observable(23),num:2,total:46}]),ComputeColumns:[{title:"单价+",field:"id",type:"component",compFn:function(e){return{name:"y-grid-merge-td",params:{dataList:[{field:"price"},{field:"num",type:"render",renderFn:function(){return"<div>数量："+e.num+"</div>"}},{field:"id",type:"component",compFn:function(){return{name:"y-input",params:{value:e.price,placeholder:"你好世界"}}}}],row:e}}}},{title:"总价",field:"total"}],gridLazy:{lazyStart:a.default.observable(0),lazyEnd:a.default.observable(10)},pageRows:a.default.observableArray(),pageColumns:[{type:"checkbox"},{title:"列1",field:"field1"},{title:"列2",field:"field2"}],crossPageRows:a.default.observableArray([]),handleChange:function(t,n){0===t?e.pageRows([{id:1,field1:"field1",field2:"field2"},{id:2,field1:"field11",field2:"field21"},{id:3,field1:"field12",field2:"field22"}]):e.pageRows([{id:4,field1:"field4",field2:"field4"},{id:5,field1:"field5",field2:"field25"}])}};e.pageRows([{id:1,field1:"field1",field2:"field2"},{id:2,field1:"field11",field2:"field21"},{id:3,field1:"field12",field2:"field22"}]);for(var t=[],n=0;n<500;n++)t.push({a:n,b:"b",c:"c"});e.lazyRows=a.default.observableArray(t);var r=null,o=null;setTimeout(function(){r=window.ycloud.$refs.lazygrid,o=window.$(r.$el).find(".y-grid-body table")[0]}),e.lazyScroll=function(n,i){var a=r.getFitIndexByScrollTop(i);if(-1===a){a=Math.round(t.length*i/o.offsetHeight)}e.gridLazy.lazyStart(a-30<t.length-t.length/5?a-30:t.length-t.length/5),e.gridLazy.lazyEnd(a+30>t.length?t.length:a+30)},e.lazyColumns=[{title:"a",field:"a",width:200,lock:!0},{title:"b",field:"b",width:100,type:"render",renderFn:function(e){return e.a%7==0?"<div>1</div><div>2</div><div>3</div><div>5</div>":e.a.toString().split("").indexOf("3")>=0?"<div>5</div><div>2</div><div>3</div><div>5</div><div>5</div><div>5</div>":"12,3,4"}},{title:"c",field:"c",width:200},{title:"b",field:"b",width:200},{title:"c",field:"c",width:200}],a.default.applyBindings(e,document.getElementById("app"))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),o=_interopRequireDefault(r),i=n(0),a=_interopRequireDefault(i),l=n(4),d=_interopRequireDefault(l);n(41),t.default={template:o.default,init:init}},41:function(e,t,n){"use strict";n(42),n(57)},42:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(e){this.code=e.code,this.isShowAll=a.default.observable(!1),this.toggle=function(){this.isShowAll(!this.isShowAll())}.bind(this)}var r=n(43),o=_interopRequireDefault(r);n(44),n(45);var i=n(0),a=_interopRequireDefault(i);a.default.components.register("demo",{viewModel:init,template:o.default})},43:function(e,t){e.exports='<div class="demo">\r\n  <div class="demo-show">\r\n  \x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e\r\n  </div>\r\n  <div class="demo-split"></div>\r\n  <div class="demo-code" data-bind="css:{\'demo-hideCode\':!isShowAll()}">\r\n    <y-code params="code:code"></y-code>\r\n  </div>\r\n  <div class="demo-toggle" data-bind="click:toggle"><span class="fa" data-bind="css:{\'fa-angle-double-down\':!isShowAll(),\'fa-angle-double-up\':isShowAll()}"></span></div>\r\n</div>\r\n'},44:function(e,t){},45:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Init(e,t){var n=this;this.$el=t.childNodes[0].childNodes[3],this.code=e.code,this.copy=function(){var t=new c.default(".copy",{text:function(){return e.code}});t.on("success",function(e){e.clearSelection(),t.destroy(),window.alert("代码已复制到剪贴板")})},setTimeout(function(){d.default.highlightBlock(n.$el)})}var r=n(46),o=_interopRequireDefault(r);n(47);var i=n(0),a=_interopRequireDefault(i),l=n(3),d=_interopRequireDefault(l),s=n(48),c=_interopRequireDefault(s);n(56),a.default.components.register("y-code",{viewModel:{createViewModel:function(e,t){return new Init(e,t.element)}},template:o.default})},46:function(e,t){e.exports='<div class="code">\r\n  <div class="tools">\r\n    <i class="fa fa-clipboard copy" data-bind="click: copy"></i>\r\n  </div>\r\n  <pre><code class="html" data-bind="text: code"></code></pre>\r\n</div>\r\n'},47:function(e,t){},48:function(e,t,n){var r,o,i;!function(a,l){o=[e,n(49),n(51),n(52)],r=l,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t,n,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getAttributeValue(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var o=_interopRequireDefault(t),i=_interopRequireDefault(n),a=_interopRequireDefault(r),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),s=function(e){function Clipboard(e,t){_classCallCheck(this,Clipboard);var n=_possibleConstructorReturn(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return _inherits(Clipboard,e),d(Clipboard,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return getAttributeValue("action",e)}},{key:"defaultTarget",value:function(e){var t=getAttributeValue("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return getAttributeValue("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),Clipboard}(i.default);e.exports=s})},49:function(e,t,n){var r,o,i;!function(a,l){o=[e,n(50)],r=l,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(e){return e&&e.__esModule?e:{default:e}}(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function(){function ClipboardAction(e){_classCallCheck(this,ClipboardAction),this.resolveOptions(e),this.initSelection()}return o(ClipboardAction,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),ClipboardAction}();e.exports=i})},50:function(e,t){function select(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}e.exports=select},51:function(e,t){function E(){}E.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function listener(){r.off(e,listener),t.apply(n,arguments)}var r=this;return listener._=t,this.on(e,listener,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=E},52:function(e,t,n){function listen(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return listenNode(e,t,n);if(r.nodeList(e))return listenNodeList(e,t,n);if(r.string(e))return listenSelector(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function listenNode(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function listenNodeList(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function listenSelector(e,t,n){return o(document.body,e,t,n)}var r=n(53),o=n(54);e.exports=listen},53:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},54:function(e,t,n){function _delegate(e,t,n,r,o){var i=listener.apply(this,arguments);return e.addEventListener(n,i,o),{destroy:function(){e.removeEventListener(n,i,o)}}}function delegate(e,t,n,r,o){return"function"==typeof e.addEventListener?_delegate.apply(null,arguments):"function"==typeof n?_delegate.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return _delegate(e,t,n,r,o)}))}function listener(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}var r=n(55);e.exports=delegate},55:function(e,t){function closest(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=closest},56:function(e,t){},57:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(e){this.name=e.name||"",this.link=e.link||""}var r=n(58),o=_interopRequireDefault(r);_interopRequireDefault(n(0)).default.components.register("y-title",{viewModel:init,template:o.default})},58:function(e,t){e.exports='<h1>\r\n  <span data-bind="text: name"></span>组件\r\n</h1>\r\n\x3c!-- ko if: link--\x3e\r\n<h2>\r\n  <a data-bind="attr: {href: link}" target="_blank" style="color: #2baee9">\r\n    <span data-bind="text: name"></span>组件API文档\r\n  </a>\r\n</h2>\r\n\x3c!-- /ko --\x3e\r\n<h2>代码示例</h2>\r\n'},64:function(e,t){e.exports='<div class="y-box">\r\n  <demo params="code:code[0]">\r\n    <div class="code-top row">\r\n      <div class="col-md-12">\r\n        <y-grid params="maxheight:\'265px\',rows:$root.caculateRows, columns: $root.caculateMainColumns, caculateColumns: $root.caculateColumns">\r\n        </y-grid>\r\n      </div>\r\n    </div>\r\n    <div class="code-split">\r\n      <span>合计行</span>\r\n    </div>\r\n    <div class="code-bottom">\r\n      <p>1.添加参数<code>caculateColumns</code></p>\r\n      <p>2.注意只有y-grid组件支持，y-basicgrid暂时不支持</p>\r\n    </div>\r\n  </demo>\r\n  <demo params="code:code[3]">\r\n    <div class="code-top row">\r\n      <div class="col-md-12">\r\n        <y-grid params="\r\n          crossPageSelectedRows: $root.crossPageRows,\r\n          onPageChange:$root.handleChange,\r\n          onSizeChange:$root.handleChange,\r\n          pagination:true,totalCount:ko.observable(20),\r\n          maxheight:\'auto\',\r\n          rows:$root.pageRows,\r\n          columns: $root.pageColumns">\r\n        </y-grid>\r\n        <div>\r\n          当前勾选的数据有，\r\n          <span data-bind="text: JSON.stringify($root.crossPageRows())"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="code-split">\r\n      <span>表格跨页勾选数据</span>\r\n    </div>\r\n    <div class="code-bottom">\r\n      <p>1.添加参数<code>crossPageSelectedRows</code></p>\r\n      <p>2.参数需要设置为ko.observableArray</p>\r\n      <p>3.默认数据唯一标识字段为<code>\'id\'</code>，如果<code>\'id\'</code>非唯一标识则传入<code>crossPageRowPrimaryKey: \'field\'</code>,field代表行唯一的字段名</p>\r\n    </div>\r\n  </demo>\r\n  <demo params="code:code[1]">\r\n    <div class="code-top row">\r\n      <div class="col-md-12">\r\n        <y-basicgrid params="maxheight:\'205px\',ref:\'loadingGrid\',columns:$root.ComputeColumns,rows: $root.ComputeRows"></y-basicgrid>\r\n      </div>\r\n    </div>\r\n    <div class="code-split">\r\n      <span>单元格多字段合并（含组件）</span>\r\n    </div>\r\n    <div class="code-bottom">\r\n      <p>grid中renderFn只支持简单文本的拼装，当遇到多件级别的封装原本需要额外定义组件，使用component引入，y-grid-merge-td提供了一种简单多组件拼装的方式</p>\r\n      <p>1.使用<code>y-grid-merge-td</code>组件，params中定义 <code>dataList</code>和<code>row</code>即可</p>\r\n      <p>2.dataList定义方式和columns一样，参考右侧代码</p>\r\n    </div>\r\n  </demo>\r\n  <demo params="code:code[2]">\r\n    <div class="code-top row">\r\n      <div class="col-md-12">\r\n        <y-basicgrid params="ref:\'lazygrid\',lockcolumn: true,lockhead:true,handleScroll:$root.lazyScroll,lazy: $root.gridLazy, rows: $root.lazyRows, columns: $root.lazyColumns">\r\n        </y-basicgrid>\r\n      </div>\r\n    </div>\r\n    <div class="code-split">\r\n      <span>不定行高+锁定列，百行、千行复杂表格异步滚动加载</span>\r\n    </div>\r\n    <div class="code-bottom">\r\n      <p>\r\n        当表格复杂度提升之后（各种组件组合使用）、百行千行表格渲染速度会变慢、需要进行异步滚动加载。\r\n        简单数据展示类直接展示即可，只针对复杂 多数据组合 + 多组件组合的表格\r\n      </p>\r\n      <p>1.使用<code>y-basicgrid</code>组件，<code>y-grid</code>组件暂不支持</p>\r\n      <p>\r\n        2.定义<code>lazy: {lazyStart: ko.observable(0), lazyEnd: ko.observable(50)}</code>\r\n      </p>\r\n      <p>\r\n        3. lazyStart->lazyEnd 表示当前页面需要显示的行索引的开始和截止\r\n      </p>\r\n      <p>\r\n        4. 在业务页面通过监听页面的<code>scroll</code>、或监听表格内部的<code>handleScroll</code>事件，动态修改lazyStart和lazyEnd的值\r\n        来实现滚动异步加载\r\n      </p>\r\n      <p>\r\n        5.如果没有固定列滚动的时候效果会更好一点，后续优化\r\n      </p>\r\n      <p>\r\n        6.如果确保行高是固定的（td设置了相应样式不会超过指定高度），则scroll中的计算方式可大幅度简化\r\n      </p>\r\n    </div>\r\n  </demo>\r\n</div>\r\n'}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGlicy4xNC40NGFjN2I3YjFmNTJmNTc0YjI4ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvZ3JpZGFkdmFuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGVtby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kZW1vL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29kZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb2RlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NsaXBib2FyZC9saWIvY2xpcGJvYXJkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbGlwYm9hcmQvbGliL2NsaXBib2FyZC1hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NlbGVjdC9zcmMvc2VsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dvb2QtbGlzdGVuZXIvc3JjL2xpc3Rlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvaXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9kZWxlZ2F0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvZ3JpZGFkdmFuY2UvaW5kZXguaHRtbCJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIyMCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaW5pdCIsInZpZXdtb2RlbCIsImNvZGUiLCJjYWN1bGF0ZVJvd3MiLCJfa25vY2tvdXQyIiwib2JzZXJ2YWJsZUFycmF5IiwibmFtZSIsImFnZSIsInNleCIsImNhY3VsYXRlTWFpbkNvbHVtbnMiLCJ0aXRsZSIsImZpZWxkIiwidHlwZSIsInJlbmRlckZuIiwicm93IiwiYWxpZ24iLCJkYXRhVHlwZSIsImNhY3VsYXRlQ29sdW1ucyIsIl9zaG93IiwiX2xvZGFzaDIiLCJyZWR1Y2UiLCJhIiwiYiIsIkNvbXB1dGVSb3dzIiwiaWQiLCJwcmljZSIsIm9ic2VydmFibGUiLCJudW0iLCJ0b3RhbCIsIkNvbXB1dGVDb2x1bW5zIiwiY29tcEZuIiwicGFyYW1zIiwiZGF0YUxpc3QiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwiZ3JpZExhenkiLCJsYXp5U3RhcnQiLCJsYXp5RW5kIiwicGFnZVJvd3MiLCJwYWdlQ29sdW1ucyIsImNyb3NzUGFnZVJvd3MiLCJoYW5kbGVDaGFuZ2UiLCJwYWdlSW5kZXgiLCJwYWdlU2l6ZSIsImZpZWxkMSIsImZpZWxkMiIsImRhdGFzIiwiaSIsInB1c2giLCJjIiwibGF6eVJvd3MiLCJsYXp5R3JpZCIsImVsIiwic2V0VGltZW91dCIsIndpbmRvdyIsInljbG91ZCIsIiRyZWZzIiwiJCIsIiRlbCIsImZpbmQiLCJsYXp5U2Nyb2xsIiwiZXZlbnQiLCJzY3JvbGxUb3AiLCJpbmRleCIsImdldEZpdEluZGV4QnlTY3JvbGxUb3AiLCJNYXRoIiwicm91bmQiLCJsZW5ndGgiLCJvZmZzZXRIZWlnaHQiLCJsYXp5Q29sdW1ucyIsIndpZHRoIiwibG9jayIsInRvU3RyaW5nIiwic3BsaXQiLCJpbmRleE9mIiwiYXBwbHlCaW5kaW5ncyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9pbmRleCIsIl9pbmRleDIiLCJfa25vY2tvdXQiLCJfbG9kYXNoIiwidGVtcGxhdGUiLCI0MSIsIjQyIiwidGhpcyIsImlzU2hvd0FsbCIsInRvZ2dsZSIsImJpbmQiLCJjb21wb25lbnRzIiwicmVnaXN0ZXIiLCJ2aWV3TW9kZWwiLCI0MyIsIjQ0IiwiNDUiLCJJbml0IiwiX3RoaXMiLCJjaGlsZE5vZGVzIiwiY29weSIsImNsaXBib2FyZCIsIl9jbGlwYm9hcmQyIiwidGV4dCIsIm9uIiwiZSIsImNsZWFyU2VsZWN0aW9uIiwiZGVzdHJveSIsImFsZXJ0IiwiX2hpZ2hsaWdodGpzMiIsImhpZ2hsaWdodEJsb2NrIiwiX2hpZ2hsaWdodGpzIiwiX2NsaXBib2FyZCIsImNyZWF0ZVZpZXdNb2RlbCIsImNvbXBvbmVudEluZm8iLCJlbGVtZW50IiwiNDYiLCI0NyIsIjQ4IiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZ2xvYmFsIiwiZmFjdG9yeSIsInVuZGVmaW5lZCIsImFwcGx5IiwiX2NsaXBib2FyZEFjdGlvbiIsIl90aW55RW1pdHRlciIsIl9nb29kTGlzdGVuZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImdldEF0dHJpYnV0ZVZhbHVlIiwic3VmZml4IiwiYXR0cmlidXRlIiwiaGFzQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiX2NsaXBib2FyZEFjdGlvbjIiLCJfdGlueUVtaXR0ZXIyIiwiX2dvb2RMaXN0ZW5lcjIiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiQ2xpcGJvYXJkIiwiX0VtaXR0ZXIiLCJ0cmlnZ2VyIiwib3B0aW9ucyIsImdldFByb3RvdHlwZU9mIiwicmVzb2x2ZU9wdGlvbnMiLCJsaXN0ZW5DbGljayIsImFyZ3VtZW50cyIsImFjdGlvbiIsImRlZmF1bHRBY3Rpb24iLCJkZWZhdWx0VGFyZ2V0IiwiZGVmYXVsdFRleHQiLCJjb250YWluZXIiLCJib2R5IiwiX3RoaXMyIiwibGlzdGVuZXIiLCJvbkNsaWNrIiwiZGVsZWdhdGVUYXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2xpcGJvYXJkQWN0aW9uIiwiZW1pdHRlciIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsImFjdGlvbnMiLCJzdXBwb3J0IiwicXVlcnlDb21tYW5kU3VwcG9ydGVkIiwiZm9yRWFjaCIsIjQ5IiwiX3NlbGVjdCIsIl9zZWxlY3QyIiwiQ2xpcGJvYXJkQWN0aW9uIiwiaW5pdFNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsInNlbGVjdEZha2UiLCJzZWxlY3RUYXJnZXQiLCJpc1JUTCIsImRvY3VtZW50RWxlbWVudCIsInJlbW92ZUZha2UiLCJmYWtlSGFuZGxlckNhbGxiYWNrIiwiZmFrZUhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZmFrZUVsZW0iLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJmb250U2l6ZSIsImJvcmRlciIsInBhZGRpbmciLCJtYXJnaW4iLCJwb3NpdGlvbiIsInlQb3NpdGlvbiIsInBhZ2VZT2Zmc2V0IiwidG9wIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJjb3B5VGV4dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVDaGlsZCIsInN1Y2NlZWRlZCIsImV4ZWNDb21tYW5kIiwiZXJyIiwiaGFuZGxlUmVzdWx0IiwiZW1pdCIsImZvY3VzIiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwic2V0IiwiX2FjdGlvbiIsIkVycm9yIiwiZ2V0Iiwibm9kZVR5cGUiLCJfdGFyZ2V0IiwiNTAiLCJzZWxlY3QiLCJub2RlTmFtZSIsImlzUmVhZE9ubHkiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNlbGVjdGlvbiIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJhZGRSYW5nZSIsIjUxIiwiRSIsImNhbGxiYWNrIiwiY3R4IiwiZm4iLCJvbmNlIiwib2ZmIiwiXyIsImRhdGEiLCJzbGljZSIsImV2dEFyciIsImxlbiIsImV2dHMiLCJsaXZlRXZlbnRzIiwiNTIiLCJsaXN0ZW4iLCJpcyIsInN0cmluZyIsIm5vZGUiLCJsaXN0ZW5Ob2RlIiwibm9kZUxpc3QiLCJsaXN0ZW5Ob2RlTGlzdCIsImxpc3RlblNlbGVjdG9yIiwiQXJyYXkiLCJkZWxlZ2F0ZSIsIjUzIiwiSFRNTEVsZW1lbnQiLCJTdHJpbmciLCI1NCIsIl9kZWxlZ2F0ZSIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiY2xvc2VzdCIsIjU1IiwiRE9DVU1FTlRfTk9ERV9UWVBFIiwibWF0Y2hlcyIsInBhcmVudE5vZGUiLCJFbGVtZW50IiwicHJvdG8iLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCI1NiIsIjU3IiwibGluayIsIjU4IiwiNjQiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLEtBRVJDLEdBQ0Es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QXVSLFVib25DTVksR0FDQSxTQUFVcFMsRUFBUUMsR2M1cUN4QixRQUFBa1MsU0FBQXpLLEVBQUF5RSxHQUNBLEtBQUF6RSxLQUFBeUgsV0FBQWtELEdBQUEsQ0FDQSxxQkFBQTNLLEdBQUE0SyxTQUNBNUssRUFBQTRLLFFBQUFuRyxHQUNBLE1BQUF6RSxFQUVBQSxLQUFBNkssWUE1QkEsR0FBQUYsR0FBQSxDQUtBLHVCQUFBRyxtQkFBQXJKLFVBQUFtSixRQUFBLENBQ0EsR0FBQUcsR0FBQUQsUUFBQXJKLFNBRUFzSixHQUFBSCxRQUFBRyxFQUFBQyxpQkFDQUQsRUFBQUUsb0JBQ0FGLEVBQUFHLG1CQUNBSCxFQUFBSSxrQkFDQUosRUFBQUssc0JBb0JBOVMsRUFBQUMsUUFBQWtTLFNkeXNDTVksR0FDQSxTQUFVL1MsRUFBUUMsS0FNbEIrUyxHQUNBLFNBQVVoVCxFQUFRQyxFQUFTQyxHQUVqQyxZQVdBLFNBQVNDLHdCQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHZTV2Q3ZGLFFBQVNHLE1BQU0rQixHQUNid0QsS0FBS2pGLEtBQU95QixFQUFPekIsTUFBUSxHQUMzQmlGLEtBQUttTixLQUFPM1EsRUFBTzJRLE1BQVEsR0FKN0IsR0FBQTFOLEdBQUFyRixFQUFBLElmd3ZDSXNGLEVBQVVyRix1QkFBdUJvRixFQUlwQnBGLHdCZTN2Q2pCRCxFQUFBLElBS0FJLFFBQUc0RixXQUFXQyxTQUFTLFdBQ3JCQyxVQUFXN0YsS0FDWG9GLHNCZm13Q0l1TixHQUNBLFNBQVVsVCxFQUFRQyxHZ0I1d0N4QkQsRUFBQUMsUUFBQSxrU2hCa3hDTWtULEdBQ0EsU0FBVW5ULEVBQVFDLEdpQm54Q3hCRCxFQUFBQyxRQUFBIiwiZmlsZSI6ImxpYnMuMTQuNDRhYzdiN2IxZjUyZjU3NGIyOGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzE0XSx7XG5cbi8qKiovIDIwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG52YXIgX2tub2Nrb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9rbm9ja291dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rbm9ja291dCk7XG5cbnZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGxhenlcbi8vIOi3qOmhtemAieaLqVxuLy8gdmVydGljYWxTY3JvbGxcbi8vIGRyYWdhYmxl57uE5Lu2XG5mdW5jdGlvbiBpbml0KCkge1xuICB2YXIgdmlld21vZGVsID0ge1xuICAgIGNvZGU6IFsnXFxuICAgICAgPHRlbXBsYXRlPlxcbiAgICAgICAgPHktZ3JpZCBwYXJhbXM9XCJyb3dzOiRyb290LmNhY3VsYXRlUm93cywgXFxuICAgICAgICBjb2x1bW5zOiAkcm9vdC5jYWN1bGF0ZU1haW5Db2x1bW5zLCBcXG4gICAgICAgIGNhY3VsYXRlQ29sdW1uczogJHJvb3QuY2FjdWxhdGVDb2x1bW5zXCI+XFxuICAgICAgICA8L3ktZ3JpZD5cXG4gICAgICA8L3RlbXBsYXRlPlxcbiAgICAgIDxzY3JpcHQ+XFxuICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcXG4gICAgICAgIGNhY3VsYXRlQ29sdW1uczogW3tcXG4gICAgICAgICAgdHlwZTogXFwncmVuZGVyXFwnLFxcbiAgICAgICAgICBfc2hvdzogdHJ1ZSxcXG4gICAgICAgICAgcmVuZGVyRm4gKHJvdykge1xcbiAgICAgICAgICAgIHJldHVybiBcXCdcXHU1NDA4XFx1OEJBMVxcdUZGMUFcXCdcXG4gICAgICAgICAgfVxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICBfc2hvdzogdHJ1ZSxcXG4gICAgICAgICAgdHlwZTogXFwncmVuZGVyXFwnLFxcbiAgICAgICAgICBhbGlnbjogXFwncmlnaHRcXCcsXFxuICAgICAgICAgIC8vIFxcdTU3MjhcXHU2QjY0XFx1ODFFQVxcdTY3MDlcXHU1QjlBXFx1NEU0OVxcdTRGNjBcXHU3Njg0XFx1NTQwOFxcdThCQTFcXHU4QkExXFx1N0I5N1xcdTY1QjlcXHU2Q0Q1XFxuICAgICAgICAgIHJlbmRlckZuIChyb3cpIHtcXG4gICAgICAgICAgICByZXR1cm4gXFwnXFx4QTUgXFwnICsgXy5yZWR1Y2Uodmlld21vZGVsLmNhY3VsYXRlUm93cygpLCBmdW5jdGlvbiAoYSwgYikge1xcbiAgICAgICAgICAgICAgcmV0dXJuIHthZ2U6IChhLmFnZSAtIDApICsgKGIuYWdlIC0gMCl9XFxuICAgICAgICAgICAgfSwge1xcbiAgICAgICAgICAgICAgYWdlOiAwXFxuICAgICAgICAgICAgfSkuYWdlXFxuICAgICAgICAgIH1cXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgX3Nob3c6IHRydWVcXG4gICAgICAgIH1dLFxcbiAgICAgICAgY2FjdWxhdGVSb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW1xcbiAgICAgICAgICB7XFxuICAgICAgICAgICAgbmFtZTogXFwnbmFtZVxcJyxcXG4gICAgICAgICAgICBhZ2U6IDI0MDAwLjAzNCxcXG4gICAgICAgICAgICBzZXg6IFxcJ1xcdTc1MzdcXCdcXG4gICAgICAgICAgfSwge1xcbiAgICAgICAgICAgIG5hbWU6IFxcJ25hbWVcXCcsXFxuICAgICAgICAgICAgYWdlOiAyMjMyOTEuMDAwMDAwMCxcXG4gICAgICAgICAgICBzZXg6IFxcJ1xcdTc1MzdcXCdcXG4gICAgICAgICAgfSwge1xcbiAgICAgICAgICAgIG5hbWU6IFxcJ25hbWVcXCcsXFxuICAgICAgICAgICAgYWdlOiBcXCcyMTEyMzg5LjAxMFxcJyxcXG4gICAgICAgICAgICBzZXg6IFxcJ1xcdTc1MzdcXCdcXG4gICAgICAgICAgfSwge1xcbiAgICAgICAgICAgIG5hbWU6IFxcJ25hbWVcXCcsXFxuICAgICAgICAgICAgYWdlOiAyMzAwMDAwLjAxLFxcbiAgICAgICAgICAgIHNleDogXFwnXFx1NzUzN1xcJ1xcbiAgICAgICAgICB9XFxuICAgICAgICBdKSxcXG4gICAgICAgIGNhY3VsYXRlTWFpbkNvbHVtbnM6IFt7XFxuICAgICAgICAgIHRpdGxlOiBcXCdcXHU1OUQzXFx1NTQwRFxcJyxcXG4gICAgICAgICAgZmllbGQ6IFxcJ25hbWVcXCcsXFxuICAgICAgICAgIHR5cGU6IFxcJ3JlbmRlclxcJyxcXG4gICAgICAgICAgcmVuZGVyRm46IGZ1bmN0aW9uIChyb3cpIHtcXG4gICAgICAgICAgICByZXR1cm4gXCI8YSBocmVmPVxcJ2h0dHA6Ly93d3cuYmFpZHUuY29tXFwnPnJvdy5uYW1lPC9hPlwiXFxuICAgICAgICAgIH1cXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgdGl0bGU6IFxcJ1xcdTRFRjdcXHU2ODNDXFwnLFxcbiAgICAgICAgICBmaWVsZDogXFwnYWdlXFwnLFxcbiAgICAgICAgICBhbGlnbjogXFwncmlnaHRcXCcsXFxuICAgICAgICAgIGRhdGFUeXBlOiBcXCdtb25leVxcJ1xcbiAgICAgICAgfSwge1xcbiAgICAgICAgICB0aXRsZTogXFwnXFx1NjAyN1xcdTUyMkJcXCcsXFxuICAgICAgICAgIGZpZWxkOiBcXCdzZXhcXCcsXFxuICAgICAgICB9XVxcbiAgICAgIH0gXFxuICAgIDwvc2NyaXB0PlxcbiAgICAnLCAnXFxuICAgIDx0ZW1wbGF0ZT5cXG4gICAgICA8eS1iYXNpY2dyaWQgcGFyYW1zPVwibWF4aGVpZ2h0OlxcJzIwNXB4XFwnLHJlZjpcXCdsb2FkaW5nR3JpZFxcJyxjb2x1bW5zOiRyb290LkNvbXB1dGVDb2x1bW5zLHJvd3M6ICRyb290LkNvbXB1dGVSb3dzXCI+PC95LWJhc2ljZ3JpZD5cXG4gICAgPC90ZW1wbGF0ZT5cXG4gICAgPHNjcmlwdD5cXG4gICAgICB2YXIgdmlld21vZGVsID0ge1xcbiAgICAgICAgQ29tcHV0ZVJvd3M6IGtvLm9ic2VydmFibGVBcnJheShbe1xcbiAgICAgICAgICBpZDogMSxcXG4gICAgICAgICAgbmFtZTogXFwnbmFtZVxcJyxcXG4gICAgICAgICAgcHJpY2U6IGtvLm9ic2VydmFibGUoMjMpLFxcbiAgICAgICAgICBudW06IDIsXFxuICAgICAgICAgIHRvdGFsOiA0NlxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICBpZDogMSxcXG4gICAgICAgICAgbmFtZTogXFwnbmFtZVxcJyxcXG4gICAgICAgICAgcHJpY2U6IGtvLm9ic2VydmFibGUoMjMpLFxcbiAgICAgICAgICBudW06IDIsXFxuICAgICAgICAgIHRvdGFsOiA0NlxcbiAgICAgICAgfV0pLFxcbiAgICAgICAgQ29tcHV0ZUNvbHVtbnM6IFt7XFxuICAgICAgICAgIHRpdGxlOiBcXCdcXHU1MzU1XFx1NEVGNytcXCcsXFxuICAgICAgICAgIGZpZWxkOiBcXCdpZFxcJyxcXG4gICAgICAgICAgdHlwZTogXFwnY29tcG9uZW50XFwnLFxcbiAgICAgICAgICBjb21wRm4gKHJvdykge1xcbiAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICBuYW1lOiBcXCd5LWdyaWQtbWVyZ2UtdGRcXCcsXFxuICAgICAgICAgICAgICBwYXJhbXM6IHtcXG4gICAgICAgICAgICAgICAgZGF0YUxpc3Q6IFtcXG4gICAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogXFwncHJpY2VcXCdcXG4gICAgICAgICAgICAgICAgICB9LCB7XFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogXFwnbnVtXFwnLFxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXFwncmVuZGVyXFwnLFxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRm4gKCkge1xcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IFxcJzxkaXY+XFx1NjU3MFxcdTkxQ0ZcXHVGRjFBXFwnICsgcm93Lm51bSArIFxcJzwvZGl2PlxcJ1xcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbFxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgIH0sIHtcXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBcXCdpZFxcJyxcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFxcJ2NvbXBvbmVudFxcJyxcXG4gICAgICAgICAgICAgICAgICAgIGNvbXBGbiAoKSB7XFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXFwneS1pbnB1dFxcJyxcXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cucHJpY2UsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXFwnXFx1NEY2MFxcdTU5N0RcXHU0RTE2XFx1NzU0Q1xcJ1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXSxcXG4gICAgICAgICAgICAgICAgcm93OiByb3dcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgdGl0bGU6IFxcJ1xcdTYwM0JcXHU0RUY3XFwnLFxcbiAgICAgICAgICBmaWVsZDogXFwndG90YWxcXCdcXG4gICAgICAgIH1dXFxuICAgICAgfSBcXG4gICAgPC9zY3JpcHQ+XFxuICAgICcsICdcXG4gICAgICA8dGVtcGxhdGU+XFxuICAgICAgICA8eS1iYXNpY2dyaWQgcGFyYW1zPVwicmVmOlxcJ2xhenlncmlkXFwnLGxvY2tjb2x1bW46IHRydWUsbG9ja2hlYWQ6dHJ1ZSxoYW5kbGVTY3JvbGw6JHJvb3QubGF6eVNjcm9sbCxsYXp5OiAkcm9vdC5ncmlkTGF6eSwgcm93czogJHJvb3QubGF6eVJvd3MsIGNvbHVtbnM6ICRyb290LmxhenlDb2x1bW5zXCI+XFxuICAgICAgICA8L3ktYmFzaWNncmlkPlxcbiAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgPHNjcmlwdCA+XFxuICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcXG4gICAgICAgIGdyaWRMYXp5OiB7XFxuICAgICAgICAgIGxhenlTdGFydDoga28ub2JzZXJ2YWJsZSgwKSxcXG4gICAgICAgICAgbGF6eUVuZDoga28ub2JzZXJ2YWJsZSgxMClcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgdmFyIGxhenlHcmlkID0gbnVsbFxcbiAgICAgIHZhciBlbCA9IG51bGxcXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGxhenlHcmlkID0gd2luZG93LnljbG91ZC4kcmVmc1tcXCdsYXp5Z3JpZFxcJ11cXG4gICAgICAgIGVsID0gd2luZG93LiQobGF6eUdyaWQuJGVsKS5maW5kKFxcJy55LWdyaWQtYm9keSB0YWJsZVxcJylbMF1cXG4gICAgICB9KVxcbiAgICBcXG4gICAgICAvLyBcXHU3OTNBXFx1NEY4QlxcdTRFRTNcXHU3ODAxXFxuICAgICAgdmlld21vZGVsLmxhenlTY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQsIHNjcm9sbFRvcCkge1xcbiAgICAgICAgdmFyIGluZGV4ID0gbGF6eUdyaWQuZ2V0Rml0SW5kZXhCeVNjcm9sbFRvcChzY3JvbGxUb3ApXFxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XFxuICAgICAgICAgIHZhciBjdXJJbmRleCA9IE1hdGgucm91bmQoZGF0YXMubGVuZ3RoICogc2Nyb2xsVG9wIC8gZWwub2Zmc2V0SGVpZ2h0KVxcbiAgICAgICAgICBpbmRleCA9IGN1ckluZGV4XFxuICAgICAgICB9XFxuICAgICAgICAvLyBcXHU4QkU2XFx1N0VDNlxcdTUzQzJcXHU2NTcwXFx1NjgzOVxcdTYzNkVcXHU0RTBEXFx1NTQwQ1xcdTk4NzVcXHU5NzYyXFx1NzY4NFxcdTY1NzBcXHU2MzZFXFx1N0VBN1xcdTUyMkJcXHU3MDc1XFx1NkQzQlxcdThDMDNcXHU2NTc0XFxuICAgICAgICB2aWV3bW9kZWwuZ3JpZExhenkubGF6eVN0YXJ0KGluZGV4IC0gMzAgPCBkYXRhcy5sZW5ndGggLSBkYXRhcy5sZW5ndGggLyA1ID8gaW5kZXggLSAzMCA6IGRhdGFzLmxlbmd0aCAtIGRhdGFzLmxlbmd0aCAvIDUpXFxuICAgICAgICB2aWV3bW9kZWwuZ3JpZExhenkubGF6eUVuZChpbmRleCArIDMwID4gZGF0YXMubGVuZ3RoID8gZGF0YXMubGVuZ3RoIDogaW5kZXggKyAzMClcXG4gICAgICB9XFxuICAgICAgPC9zY3JpcHQ+XFxuICAgICcsICdcXG4gICAgPHRlbXBsYXRlPlxcbiAgICAgIDx5LWdyaWQgcGFyYW1zPVwiXFxuICAgICAgICAgIGNyb3NzUGFnZVNlbGVjdGVkUm93czogJHJvb3QuY3Jvc3NQYWdlUm93cyxcXG4gICAgICAgICAgb25QYWdlQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcXG4gICAgICAgICAgb25TaXplQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcXG4gICAgICAgICAgcGFnaW5hdGlvbjp0cnVlLHRvdGFsQ291bnQ6a28ub2JzZXJ2YWJsZSgyMCksXFxuICAgICAgICAgIG1heGhlaWdodDpcXCdhdXRvXFwnLFxcbiAgICAgICAgICByb3dzOiRyb290LnBhZ2VSb3dzLFxcbiAgICAgICAgICBjb2x1bW5zOiAkcm9vdC5wYWdlQ29sdW1uc1wiPlxcbiAgICAgICAgPC95LWdyaWQ+XFxuICAgIDwvdGVtcGxhdGU+XFxuICAgIDxzY3JpcHQ+XFxuICAgICAgdmFyIHZtID0ge1xcbiAgICAgICAgY3Jvc3NQYWdlUm93czoga28ub2JzZXJ2YWJsZUFycmF5KFtdKVxcbiAgICAgIH1cXG4gICAgPC9zY3JpcHQ+XFxuICAgICddLFxuICAgIGNhY3VsYXRlUm93czogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShbe1xuICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgYWdlOiAyNDAwMC4wMzQsXG4gICAgICBzZXg6ICfnlLcnXG4gICAgfSwge1xuICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgYWdlOiAyMjMyOTEuMDAwMDAwMCxcbiAgICAgIHNleDogJ+eUtydcbiAgICB9LCB7XG4gICAgICBuYW1lOiAnbmFtZScsXG4gICAgICBhZ2U6ICcyMTEyMzg5LjAxMCcsXG4gICAgICBzZXg6ICfnlLcnXG4gICAgfSwge1xuICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgYWdlOiAyMzAwMDAwLjAxLFxuICAgICAgc2V4OiAn55S3J1xuICAgIH1dKSxcbiAgICBjYWN1bGF0ZU1haW5Db2x1bW5zOiBbe1xuICAgICAgdGl0bGU6ICflp5PlkI0nLFxuICAgICAgZmllbGQ6ICduYW1lJyxcbiAgICAgIHR5cGU6ICdyZW5kZXInLFxuICAgICAgcmVuZGVyRm46IGZ1bmN0aW9uIHJlbmRlckZuKHJvdykge1xuICAgICAgICByZXR1cm4gXCI8YSBocmVmPSdodHRwOi8vd3d3LmJhaWR1LmNvbSc+cm93Lm5hbWU8L2E+XCI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgdGl0bGU6ICfku7fmoLwnLFxuICAgICAgZmllbGQ6ICdhZ2UnLFxuICAgICAgYWxpZ246ICdyaWdodCcsXG4gICAgICBkYXRhVHlwZTogJ21vbmV5J1xuICAgIH0sIHtcbiAgICAgIHRpdGxlOiAn5oCn5YirJyxcbiAgICAgIGZpZWxkOiAnc2V4J1xuICAgIH1dLFxuICAgIGNhY3VsYXRlQ29sdW1uczogW3tcbiAgICAgIHR5cGU6ICdyZW5kZXInLFxuICAgICAgX3Nob3c6IHRydWUsXG4gICAgICByZW5kZXJGbjogZnVuY3Rpb24gcmVuZGVyRm4ocm93KSB7XG4gICAgICAgIHJldHVybiAnPGI+5ZCI6K6h77yaPC9iPic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgX3Nob3c6IHRydWUsXG4gICAgICB0eXBlOiAncmVuZGVyJyxcbiAgICAgIGFsaWduOiAncmlnaHQnLFxuICAgICAgcmVuZGVyRm46IGZ1bmN0aW9uIHJlbmRlckZuKHJvdykge1xuICAgICAgICByZXR1cm4gJzxzcGFuIHN0eWxlPVwiZm9udC1mYW1pbHk6IFxcJ01pY3Jvc29mdCBZYUhlaVxcJ1wiPsKlIDwvc3Bhbj4nICsgX2xvZGFzaDIuZGVmYXVsdC5yZWR1Y2Uodmlld21vZGVsLmNhY3VsYXRlUm93cygpLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiB7IGFnZTogYS5hZ2UgLSAwICsgKGIuYWdlIC0gMCkgfTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFnZTogMFxuICAgICAgICB9KS5hZ2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgX3Nob3c6IHRydWVcbiAgICB9XSxcbiAgICBDb21wdXRlUm93czogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShbe1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiAnbmFtZScsXG4gICAgICBwcmljZTogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoMjMpLFxuICAgICAgbnVtOiAyLFxuICAgICAgdG90YWw6IDQ2XG4gICAgfSwge1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiAnbmFtZScsXG4gICAgICBwcmljZTogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoMjMpLFxuICAgICAgbnVtOiAyLFxuICAgICAgdG90YWw6IDQ2XG4gICAgfV0pLFxuICAgIENvbXB1dGVDb2x1bW5zOiBbe1xuICAgICAgdGl0bGU6ICfljZXku7crJyxcbiAgICAgIGZpZWxkOiAnaWQnLFxuICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXG4gICAgICBjb21wRm46IGZ1bmN0aW9uIGNvbXBGbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiAneS1ncmlkLW1lcmdlLXRkJyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGRhdGFMaXN0OiBbe1xuICAgICAgICAgICAgICBmaWVsZDogJ3ByaWNlJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmaWVsZDogJ251bScsXG4gICAgICAgICAgICAgIHR5cGU6ICdyZW5kZXInLFxuICAgICAgICAgICAgICByZW5kZXJGbjogZnVuY3Rpb24gcmVuZGVyRm4oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPGRpdj7mlbDph4/vvJonICsgcm93Lm51bSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnaWQnLFxuICAgICAgICAgICAgICB0eXBlOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgICAgY29tcEZuOiBmdW5jdGlvbiBjb21wRm4oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICd5LWlucHV0JyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm93LnByaWNlLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+S9oOWlveS4lueVjCdcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIHJvdzogcm93XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHRpdGxlOiAn5oC75Lu3JyxcbiAgICAgIGZpZWxkOiAndG90YWwnXG4gICAgfV0sXG4gICAgZ3JpZExhenk6IHtcbiAgICAgIGxhenlTdGFydDogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoMCksXG4gICAgICBsYXp5RW5kOiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZSgxMClcbiAgICB9LFxuICAgIHBhZ2VSb3dzOiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZUFycmF5KCksXG4gICAgcGFnZUNvbHVtbnM6IFt7XG4gICAgICB0eXBlOiAnY2hlY2tib3gnXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICfliJcxJyxcbiAgICAgIGZpZWxkOiAnZmllbGQxJ1xuICAgIH0sIHtcbiAgICAgIHRpdGxlOiAn5YiXMicsXG4gICAgICBmaWVsZDogJ2ZpZWxkMidcbiAgICB9XSxcbiAgICBjcm9zc1BhZ2VSb3dzOiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShwYWdlSW5kZXgsIHBhZ2VTaXplKSB7XG4gICAgICBpZiAocGFnZUluZGV4ID09PSAwKSB7XG4gICAgICAgIHZpZXdtb2RlbC5wYWdlUm93cyhbe1xuICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgIGZpZWxkMTogJ2ZpZWxkMScsXG4gICAgICAgICAgZmllbGQyOiAnZmllbGQyJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDIsXG4gICAgICAgICAgZmllbGQxOiAnZmllbGQxMScsXG4gICAgICAgICAgZmllbGQyOiAnZmllbGQyMSdcbiAgICAgICAgfSwge1xuICAgICAgICAgIGlkOiAzLFxuICAgICAgICAgIGZpZWxkMTogJ2ZpZWxkMTInLFxuICAgICAgICAgIGZpZWxkMjogJ2ZpZWxkMjInXG4gICAgICAgIH1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXdtb2RlbC5wYWdlUm93cyhbe1xuICAgICAgICAgIGlkOiA0LFxuICAgICAgICAgIGZpZWxkMTogJ2ZpZWxkNCcsXG4gICAgICAgICAgZmllbGQyOiAnZmllbGQ0J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDUsXG4gICAgICAgICAgZmllbGQxOiAnZmllbGQ1JyxcbiAgICAgICAgICBmaWVsZDI6ICdmaWVsZDI1J1xuICAgICAgICB9XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2aWV3bW9kZWwucGFnZVJvd3MoW3tcbiAgICBpZDogMSxcbiAgICBmaWVsZDE6ICdmaWVsZDEnLFxuICAgIGZpZWxkMjogJ2ZpZWxkMidcbiAgfSwge1xuICAgIGlkOiAyLFxuICAgIGZpZWxkMTogJ2ZpZWxkMTEnLFxuICAgIGZpZWxkMjogJ2ZpZWxkMjEnXG4gIH0sIHtcbiAgICBpZDogMyxcbiAgICBmaWVsZDE6ICdmaWVsZDEyJyxcbiAgICBmaWVsZDI6ICdmaWVsZDIyJ1xuICB9XSk7XG4gIHZhciBkYXRhcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDUwMDsgaSsrKSB7XG4gICAgZGF0YXMucHVzaCh7XG4gICAgICBhOiBpLFxuICAgICAgYjogJ2InLFxuICAgICAgYzogJ2MnXG4gICAgfSk7XG4gIH1cbiAgdmlld21vZGVsLmxhenlSb3dzID0gX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShkYXRhcyk7XG4gIHZhciBsYXp5R3JpZCA9IG51bGw7XG4gIHZhciBlbCA9IG51bGw7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGxhenlHcmlkID0gd2luZG93LnljbG91ZC4kcmVmc1snbGF6eWdyaWQnXTtcbiAgICBlbCA9IHdpbmRvdy4kKGxhenlHcmlkLiRlbCkuZmluZCgnLnktZ3JpZC1ib2R5IHRhYmxlJylbMF07XG4gIH0pO1xuICAvLyDnpLrkvovku6PnoIFcbiAgdmlld21vZGVsLmxhenlTY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQsIHNjcm9sbFRvcCkge1xuICAgIHZhciBpbmRleCA9IGxhenlHcmlkLmdldEZpdEluZGV4QnlTY3JvbGxUb3Aoc2Nyb2xsVG9wKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICB2YXIgY3VySW5kZXggPSBNYXRoLnJvdW5kKGRhdGFzLmxlbmd0aCAqIHNjcm9sbFRvcCAvIGVsLm9mZnNldEhlaWdodCk7XG4gICAgICBpbmRleCA9IGN1ckluZGV4O1xuICAgIH1cbiAgICB2aWV3bW9kZWwuZ3JpZExhenkubGF6eVN0YXJ0KGluZGV4IC0gMzAgPCBkYXRhcy5sZW5ndGggLSBkYXRhcy5sZW5ndGggLyA1ID8gaW5kZXggLSAzMCA6IGRhdGFzLmxlbmd0aCAtIGRhdGFzLmxlbmd0aCAvIDUpO1xuICAgIHZpZXdtb2RlbC5ncmlkTGF6eS5sYXp5RW5kKGluZGV4ICsgMzAgPiBkYXRhcy5sZW5ndGggPyBkYXRhcy5sZW5ndGggOiBpbmRleCArIDMwKTtcbiAgfTtcbiAgdmlld21vZGVsLmxhenlDb2x1bW5zID0gW3tcbiAgICB0aXRsZTogJ2EnLFxuICAgIGZpZWxkOiAnYScsXG4gICAgd2lkdGg6IDIwMCxcbiAgICBsb2NrOiB0cnVlXG4gIH0sIHtcbiAgICB0aXRsZTogJ2InLFxuICAgIGZpZWxkOiAnYicsXG4gICAgd2lkdGg6IDEwMCxcbiAgICB0eXBlOiAncmVuZGVyJyxcbiAgICByZW5kZXJGbjogZnVuY3Rpb24gcmVuZGVyRm4ocm93KSB7XG4gICAgICBpZiAocm93LmEgJSA3ID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnPGRpdj4xPC9kaXY+PGRpdj4yPC9kaXY+PGRpdj4zPC9kaXY+PGRpdj41PC9kaXY+JztcbiAgICAgIH0gZWxzZSBpZiAocm93LmEudG9TdHJpbmcoKS5zcGxpdCgnJykuaW5kZXhPZignMycpID49IDApIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2PjU8L2Rpdj48ZGl2PjI8L2Rpdj48ZGl2PjM8L2Rpdj48ZGl2PjU8L2Rpdj48ZGl2PjU8L2Rpdj48ZGl2PjU8L2Rpdj4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcxMiwzLDQnO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIHRpdGxlOiAnYycsXG4gICAgZmllbGQ6ICdjJyxcbiAgICB3aWR0aDogMjAwXG4gIH0sIHtcbiAgICB0aXRsZTogJ2InLFxuICAgIGZpZWxkOiAnYicsXG4gICAgd2lkdGg6IDIwMFxuICB9LCB7XG4gICAgdGl0bGU6ICdjJyxcbiAgICBmaWVsZDogJ2MnLFxuICAgIHdpZHRoOiAyMDBcbiAgfV07XG4gIF9rbm9ja291dDIuZGVmYXVsdC5hcHBseUJpbmRpbmdzKHZpZXdtb2RlbCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgdGVtcGxhdGU6IF9pbmRleDIuZGVmYXVsdCxcbiAgaW5pdDogaW5pdFxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG52YXIgX2tub2Nrb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9rbm9ja291dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rbm9ja291dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGluaXQocGFyYW1zKSB7XG4gIHRoaXMuY29kZSA9IHBhcmFtcy5jb2RlO1xuICB0aGlzLmlzU2hvd0FsbCA9IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc1Nob3dBbGwoIXRoaXMuaXNTaG93QWxsKCkpO1xuICB9LmJpbmQodGhpcyk7XG59XG5fa25vY2tvdXQyLmRlZmF1bHQuY29tcG9uZW50cy5yZWdpc3RlcignZGVtbycsIHtcbiAgdmlld01vZGVsOiBpbml0LFxuICB0ZW1wbGF0ZTogX2luZGV4Mi5kZWZhdWx0XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiZGVtb1xcXCI+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLXNob3dcXFwiPlxcclxcbiAgPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT5cXHJcXG4gIDwvZGl2PlxcclxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby1zcGxpdFxcXCI+PC9kaXY+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLWNvZGVcXFwiIGRhdGEtYmluZD1cXFwiY3NzOnsnZGVtby1oaWRlQ29kZSc6IWlzU2hvd0FsbCgpfVxcXCI+XFxyXFxuICAgIDx5LWNvZGUgcGFyYW1zPVxcXCJjb2RlOmNvZGVcXFwiPjwveS1jb2RlPlxcclxcbiAgPC9kaXY+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLXRvZ2dsZVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazp0b2dnbGVcXFwiPjxzcGFuIGNsYXNzPVxcXCJmYVxcXCIgZGF0YS1iaW5kPVxcXCJjc3M6eydmYS1hbmdsZS1kb3VibGUtZG93bic6IWlzU2hvd0FsbCgpLCdmYS1hbmdsZS1kb3VibGUtdXAnOmlzU2hvd0FsbCgpfVxcXCI+PC9zcGFuPjwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyA0NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cbnZhciBfa25vY2tvdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2tub2Nrb3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tub2Nrb3V0KTtcblxudmFyIF9oaWdobGlnaHRqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfaGlnaGxpZ2h0anMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGlnaGxpZ2h0anMpO1xuXG52YXIgX2NsaXBib2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXG52YXIgX2NsaXBib2FyZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmQpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gaW1wb3J0IHsgZGVidWcgfSBmcm9tICd1dGlsJ1xuZnVuY3Rpb24gSW5pdChwYXJhbXMsIGVsKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy8g5Y+q6I635Y+W6auY5Lqu55qERE9N77yM5ZCm5YiZ5Lya5b2x5ZONa2/mjIfku6RcbiAgdGhpcy4kZWwgPSBlbC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbM107XG4gIHRoaXMuY29kZSA9IHBhcmFtcy5jb2RlO1xuICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNsaXBib2FyZCA9IG5ldyBfY2xpcGJvYXJkMi5kZWZhdWx0KCcuY29weScsIHtcbiAgICAgIHRleHQ6IGZ1bmN0aW9uIHRleHQoKSB7XG4gICAgICAgIHJldHVybiBwYXJhbXMuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgY2xpcGJvYXJkLmRlc3Ryb3koKTtcbiAgICAgIHdpbmRvdy5hbGVydCgn5Luj56CB5bey5aSN5Yi25Yiw5Ymq6LS05p2/Jyk7XG4gICAgfSk7XG4gIH07XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIF9oaWdobGlnaHRqczIuZGVmYXVsdC5oaWdobGlnaHRCbG9jayhfdGhpcy4kZWwpO1xuICB9KTtcbn1cbl9rbm9ja291dDIuZGVmYXVsdC5jb21wb25lbnRzLnJlZ2lzdGVyKCd5LWNvZGUnLCB7XG4gIHZpZXdNb2RlbDoge1xuICAgIGNyZWF0ZVZpZXdNb2RlbDogZnVuY3Rpb24gY3JlYXRlVmlld01vZGVsKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICAgICAgcmV0dXJuIG5ldyBJbml0KHBhcmFtcywgY29tcG9uZW50SW5mby5lbGVtZW50KTtcbiAgICB9XG4gIH0sXG4gIHRlbXBsYXRlOiBfaW5kZXgyLmRlZmF1bHRcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJjb2RlXFxcIj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcInRvb2xzXFxcIj5cXHJcXG4gICAgPGkgY2xhc3M9XFxcImZhIGZhLWNsaXBib2FyZCBjb3B5XFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBjb3B5XFxcIj48L2k+XFxyXFxuICA8L2Rpdj5cXHJcXG4gIDxwcmU+PGNvZGUgY2xhc3M9XFxcImh0bWxcXFwiIGRhdGEtYmluZD1cXFwidGV4dDogY29kZVxcXCI+PC9jb2RlPjwvcHJlPlxcclxcbjwvZGl2PlxcclxcblwiO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyA0ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHJ1ZSkge1xuICAgICAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbbW9kdWxlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1MSksIF9fd2VicGFja19yZXF1aXJlX18oNTIpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID9cblx0XHRcdFx0KF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnLi9jbGlwYm9hcmQtYWN0aW9uJyksIHJlcXVpcmUoJ3RpbnktZW1pdHRlcicpLCByZXF1aXJlKCdnb29kLWxpc3RlbmVyJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiwgZ2xvYmFsLnRpbnlFbWl0dGVyLCBnbG9iYWwuZ29vZExpc3RlbmVyKTtcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZCA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9jbGlwYm9hcmRBY3Rpb24sIF90aW55RW1pdHRlciwgX2dvb2RMaXN0ZW5lcikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfY2xpcGJvYXJkQWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsaXBib2FyZEFjdGlvbik7XG5cbiAgICB2YXIgX3RpbnlFbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbnlFbWl0dGVyKTtcblxuICAgIHZhciBfZ29vZExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dvb2RMaXN0ZW5lcik7XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICAgIH1cblxuICAgIHZhciBDbGlwYm9hcmQgPSBmdW5jdGlvbiAoX0VtaXR0ZXIpIHtcbiAgICAgICAgX2luaGVyaXRzKENsaXBib2FyZCwgX0VtaXR0ZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdHJpZ2dlclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkKHRyaWdnZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2xpcGJvYXJkLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2xpcGJvYXJkKSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgX3RoaXMubGlzdGVuQ2xpY2sodHJpZ2dlcik7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyBpZiBhdHRyaWJ1dGVzIHdvdWxkIGJlIHJlc29sdmVkIHVzaW5nIGludGVybmFsIHNldHRlciBmdW5jdGlvbnNcbiAgICAgICAgICogb3IgY3VzdG9tIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkLCBbe1xuICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0eXBlb2Ygb3B0aW9ucy50YXJnZXQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRhcmdldCA6IHRoaXMuZGVmYXVsdFRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSB0eXBlb2Ygb3B0aW9ucy50ZXh0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50ZXh0IDogdGhpcy5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IF90eXBlb2Yob3B0aW9ucy5jb250YWluZXIpID09PSAnb2JqZWN0JyA/IG9wdGlvbnMuY29udGFpbmVyIDogZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnbGlzdGVuQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIgPSAoMCwgX2dvb2RMaXN0ZW5lcjIuZGVmYXVsdCkodHJpZ2dlciwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyBfY2xpcGJvYXJkQWN0aW9uMi5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbih0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0KHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRBY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRBY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRUYXJnZXQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRUYXJnZXQodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGdldEF0dHJpYnV0ZVZhbHVlKCd0YXJnZXQnLCB0cmlnZ2VyKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0VGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgndGV4dCcsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0sIFt7XG4gICAgICAgICAgICBrZXk6ICdpc1N1cHBvcnRlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogWydjb3B5JywgJ2N1dCddO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyA/IFthY3Rpb25dIDogYWN0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBzdXBwb3J0ID0gISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7XG5cbiAgICAgICAgICAgICAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ID0gc3VwcG9ydCAmJiAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChhY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkO1xuICAgIH0oX3RpbnlFbWl0dGVyMi5kZWZhdWx0KTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXRyaWV2ZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1ZmZpeFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKHN1ZmZpeCwgZWxlbWVudCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gJ2RhdGEtY2xpcGJvYXJkLScgKyBzdWZmaXg7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZDtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW21vZHVsZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1MCldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHQoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCdzZWxlY3QnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICB2YXIgQ2xpcGJvYXJkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XG4gICAgICAgICAgICBrZXk6ICdyZXNvbHZlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0U2VsZWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0RmFrZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjaykgfHwgdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgem9vbWluZyBvbiBpT1NcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGJveCBtb2RlbFxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyID0gJzAnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IHRvIHRoZSBzYW1lIHBvc2l0aW9uIHZlcnRpY2FsbHlcbiAgICAgICAgICAgICAgICB2YXIgeVBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSB5UG9zaXRpb24gKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncmVtb3ZlRmFrZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdFRhcmdldCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NvcHlUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3VsdChzdWNjZWVkZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoYW5kbGVSZXN1bHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChzdWNjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdChzdWNjZWVkZWQgPyAnc3VjY2VzcycgOiAnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJTZWxlY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhY3Rpb24nLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2NvcHknO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XG4gICAgfSgpO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDUwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5mdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xuICAgIHZhciBzZWxlY3RlZFRleHQ7XG5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICB2YXIgaXNSZWFkT25seSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCFpc1JlYWRPbmx5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gRSAoKSB7XG4gIC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxufVxuXG5FLnByb3RvdHlwZSA9IHtcbiAgb246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcblxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eDogY3R4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xuICB9LFxuXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcblxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuICAgIHZhciBldnRzID0gZVtuYW1lXTtcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxuXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDUyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcbnZhciBkZWxlZ2F0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjbG9zZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfEFycmF5fSBbZWxlbWVudHNdXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnRzLCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICAvLyBIYW5kbGUgdGhlIHJlZ3VsYXIgRWxlbWVudCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEVsZW1lbnQtbGVzcyB1c2FnZSwgaXQgZGVmYXVsdHMgdG8gZ2xvYmFsIGRlbGVnYXRpb25cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVXNlIGBkb2N1bWVudGAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgdGhlbiBhcHBseSBhcmd1bWVudHNcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNob3J0IHdheSB0byAudW5zaGlmdCBgYXJndW1lbnRzYCB3aXRob3V0IHJ1bm5pbmcgaW50byBkZW9wdGltaXphdGlvbnNcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5iaW5kKG51bGwsIGRvY3VtZW50KS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBTZWxlY3Rvci1iYXNlZCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEFycmF5LWxpa2UgYmFzZWQgdXNhZ2VcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yKTtcblxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBET0NVTUVOVF9OT0RFX1RZUEUgPSA5O1xuXG4vKipcbiAqIEEgcG9seWZpbGwgZm9yIEVsZW1lbnQubWF0Y2hlcygpXG4gKi9cbmlmICh0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgICB2YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcblxuICAgIHByb3RvLm1hdGNoZXMgPSBwcm90by5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBhcmVudCB0aGF0IG1hdGNoZXMgYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNsb3Nlc3QgKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSAhPT0gRE9DVU1FTlRfTk9ERV9UWVBFKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5tYXRjaGVzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvc2VzdDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxudmFyIF9rbm9ja291dCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfa25vY2tvdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa25vY2tvdXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpbml0KHBhcmFtcykge1xuICB0aGlzLm5hbWUgPSBwYXJhbXMubmFtZSB8fCAnJztcbiAgdGhpcy5saW5rID0gcGFyYW1zLmxpbmsgfHwgJyc7XG59XG5fa25vY2tvdXQyLmRlZmF1bHQuY29tcG9uZW50cy5yZWdpc3RlcigneS10aXRsZScsIHtcbiAgdmlld01vZGVsOiBpbml0LFxuICB0ZW1wbGF0ZTogX2luZGV4Mi5kZWZhdWx0XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDU4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwiPGgxPlxcclxcbiAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBuYW1lXFxcIj48L3NwYW4+57uE5Lu2XFxyXFxuPC9oMT5cXHJcXG48IS0tIGtvIGlmOiBsaW5rLS0+XFxyXFxuPGgyPlxcclxcbiAgPGEgZGF0YS1iaW5kPVxcXCJhdHRyOiB7aHJlZjogbGlua31cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBzdHlsZT1cXFwiY29sb3I6ICMyYmFlZTlcXFwiPlxcclxcbiAgICA8c3BhbiBkYXRhLWJpbmQ9XFxcInRleHQ6IG5hbWVcXFwiPjwvc3Bhbj7nu4Tku7ZBUEnmlofmoaNcXHJcXG4gIDwvYT5cXHJcXG48L2gyPlxcclxcbjwhLS0gL2tvIC0tPlxcclxcbjxoMj7ku6PnoIHnpLrkvos8L2gyPlxcclxcblwiO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJ5LWJveFxcXCI+XFxyXFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVswXVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wIHJvd1xcXCI+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXHJcXG4gICAgICAgIDx5LWdyaWQgcGFyYW1zPVxcXCJtYXhoZWlnaHQ6JzI2NXB4Jyxyb3dzOiRyb290LmNhY3VsYXRlUm93cywgY29sdW1uczogJHJvb3QuY2FjdWxhdGVNYWluQ29sdW1ucywgY2FjdWxhdGVDb2x1bW5zOiAkcm9vdC5jYWN1bGF0ZUNvbHVtbnNcXFwiPlxcclxcbiAgICAgICAgPC95LWdyaWQ+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXHJcXG4gICAgICA8c3Bhbj7lkIjorqHooYw8L3NwYW4+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxyXFxuICAgICAgPHA+MS7mt7vliqDlj4LmlbA8Y29kZT5jYWN1bGF0ZUNvbHVtbnM8L2NvZGU+PC9wPlxcclxcbiAgICAgIDxwPjIu5rOo5oSP5Y+q5pyJeS1ncmlk57uE5Lu25pSv5oyB77yMeS1iYXNpY2dyaWTmmoLml7bkuI3mlK/mjIE8L3A+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kZW1vPlxcclxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbM11cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxyXFxuICAgICAgICA8eS1ncmlkIHBhcmFtcz1cXFwiXFxyXFxuICAgICAgICAgIGNyb3NzUGFnZVNlbGVjdGVkUm93czogJHJvb3QuY3Jvc3NQYWdlUm93cyxcXHJcXG4gICAgICAgICAgb25QYWdlQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcXHJcXG4gICAgICAgICAgb25TaXplQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcXHJcXG4gICAgICAgICAgcGFnaW5hdGlvbjp0cnVlLHRvdGFsQ291bnQ6a28ub2JzZXJ2YWJsZSgyMCksXFxyXFxuICAgICAgICAgIG1heGhlaWdodDonYXV0bycsXFxyXFxuICAgICAgICAgIHJvd3M6JHJvb3QucGFnZVJvd3MsXFxyXFxuICAgICAgICAgIGNvbHVtbnM6ICRyb290LnBhZ2VDb2x1bW5zXFxcIj5cXHJcXG4gICAgICAgIDwveS1ncmlkPlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAg5b2T5YmN5Yu+6YCJ55qE5pWw5o2u5pyJ77yMXFxyXFxuICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogSlNPTi5zdHJpbmdpZnkoJHJvb3QuY3Jvc3NQYWdlUm93cygpKVxcXCI+PC9zcGFuPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXHJcXG4gICAgICA8c3Bhbj7ooajmoLzot6jpobXli77pgInmlbDmja48L3NwYW4+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxyXFxuICAgICAgPHA+MS7mt7vliqDlj4LmlbA8Y29kZT5jcm9zc1BhZ2VTZWxlY3RlZFJvd3M8L2NvZGU+PC9wPlxcclxcbiAgICAgIDxwPjIu5Y+C5pWw6ZyA6KaB6K6+572u5Li6a28ub2JzZXJ2YWJsZUFycmF5PC9wPlxcclxcbiAgICAgIDxwPjMu6buY6K6k5pWw5o2u5ZSv5LiA5qCH6K+G5a2X5q615Li6PGNvZGU+J2lkJzwvY29kZT7vvIzlpoLmnpw8Y29kZT4naWQnPC9jb2RlPumdnuWUr+S4gOagh+ivhuWImeS8oOWFpTxjb2RlPmNyb3NzUGFnZVJvd1ByaW1hcnlLZXk6ICdmaWVsZCc8L2NvZGU+LGZpZWxk5Luj6KGo6KGM5ZSv5LiA55qE5a2X5q615ZCNPC9wPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gIDwvZGVtbz5cXHJcXG4gIDxkZW1vIHBhcmFtcz1cXFwiY29kZTpjb2RlWzFdXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS10b3Agcm93XFxcIj5cXHJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcclxcbiAgICAgICAgPHktYmFzaWNncmlkIHBhcmFtcz1cXFwibWF4aGVpZ2h0OicyMDVweCcscmVmOidsb2FkaW5nR3JpZCcsY29sdW1uczokcm9vdC5Db21wdXRlQ29sdW1ucyxyb3dzOiAkcm9vdC5Db21wdXRlUm93c1xcXCI+PC95LWJhc2ljZ3JpZD5cXHJcXG4gICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtc3BsaXRcXFwiPlxcclxcbiAgICAgIDxzcGFuPuWNleWFg+agvOWkmuWtl+auteWQiOW5tu+8iOWQq+e7hOS7tu+8iTwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXHJcXG4gICAgICA8cD5ncmlk5LitcmVuZGVyRm7lj6rmlK/mjIHnroDljZXmlofmnKznmoTmi7zoo4XvvIzlvZPpgYfliLDlpJrku7bnuqfliKvnmoTlsIHoo4Xljp/mnKzpnIDopoHpop3lpJblrprkuYnnu4Tku7bvvIzkvb/nlKhjb21wb25lbnTlvJXlhaXvvIx5LWdyaWQtbWVyZ2UtdGTmj5DkvpvkuobkuIDnp43nroDljZXlpJrnu4Tku7bmi7zoo4XnmoTmlrnlvI88L3A+XFxyXFxuICAgICAgPHA+MS7kvb/nlKg8Y29kZT55LWdyaWQtbWVyZ2UtdGQ8L2NvZGU+57uE5Lu277yMcGFyYW1z5Lit5a6a5LmJIDxjb2RlPmRhdGFMaXN0PC9jb2RlPuWSjDxjb2RlPnJvdzwvY29kZT7ljbPlj688L3A+XFxyXFxuICAgICAgPHA+Mi5kYXRhTGlzdOWumuS5ieaWueW8j+WSjGNvbHVtbnPkuIDmoLfvvIzlj4LogIPlj7Pkvqfku6PnoIE8L3A+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kZW1vPlxcclxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbMl1cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxyXFxuICAgICAgICA8eS1iYXNpY2dyaWQgcGFyYW1zPVxcXCJyZWY6J2xhenlncmlkJyxsb2NrY29sdW1uOiB0cnVlLGxvY2toZWFkOnRydWUsaGFuZGxlU2Nyb2xsOiRyb290LmxhenlTY3JvbGwsbGF6eTogJHJvb3QuZ3JpZExhenksIHJvd3M6ICRyb290LmxhenlSb3dzLCBjb2x1bW5zOiAkcm9vdC5sYXp5Q29sdW1uc1xcXCI+XFxyXFxuICAgICAgICA8L3ktYmFzaWNncmlkPlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1zcGxpdFxcXCI+XFxyXFxuICAgICAgPHNwYW4+5LiN5a6a6KGM6auYK+mUgeWumuWIl++8jOeZvuihjOOAgeWNg+ihjOWkjeadguihqOagvOW8guatpea7muWKqOWKoOi9vTwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXHJcXG4gICAgICA8cD5cXHJcXG4gICAgICAgIOW9k+ihqOagvOWkjeadguW6puaPkOWNh+S5i+WQju+8iOWQhOenjee7hOS7tue7hOWQiOS9v+eUqO+8ieOAgeeZvuihjOWNg+ihjOihqOagvOa4suafk+mAn+W6puS8muWPmOaFouOAgemcgOimgei/m+ihjOW8guatpea7muWKqOWKoOi9veOAglxcclxcbiAgICAgICAg566A5Y2V5pWw5o2u5bGV56S657G755u05o6l5bGV56S65Y2z5Y+v77yM5Y+q6ZKI5a+55aSN5p2CIOWkmuaVsOaNrue7hOWQiCArIOWkmue7hOS7tue7hOWQiOeahOihqOagvFxcclxcbiAgICAgIDwvcD5cXHJcXG4gICAgICA8cD4xLuS9v+eUqDxjb2RlPnktYmFzaWNncmlkPC9jb2RlPue7hOS7tu+8jDxjb2RlPnktZ3JpZDwvY29kZT7nu4Tku7bmmoLkuI3mlK/mjIE8L3A+XFxyXFxuICAgICAgPHA+XFxyXFxuICAgICAgICAyLuWumuS5iTxjb2RlPmxhenk6IHtsYXp5U3RhcnQ6IGtvLm9ic2VydmFibGUoMCksIGxhenlFbmQ6IGtvLm9ic2VydmFibGUoNTApfTwvY29kZT5cXHJcXG4gICAgICA8L3A+XFxyXFxuICAgICAgPHA+XFxyXFxuICAgICAgICAzLiBsYXp5U3RhcnQtPmxhenlFbmQg6KGo56S65b2T5YmN6aG16Z2i6ZyA6KaB5pi+56S655qE6KGM57Si5byV55qE5byA5aeL5ZKM5oiq5q2iXFxyXFxuICAgICAgPC9wPlxcclxcbiAgICAgIDxwPlxcclxcbiAgICAgICAgNC4g5Zyo5Lia5Yqh6aG16Z2i6YCa6L+H55uR5ZCs6aG16Z2i55qEPGNvZGU+c2Nyb2xsPC9jb2RlPuOAgeaIluebkeWQrOihqOagvOWGhemDqOeahDxjb2RlPmhhbmRsZVNjcm9sbDwvY29kZT7kuovku7bvvIzliqjmgIHkv67mlLlsYXp5U3RhcnTlkoxsYXp5RW5k55qE5YC8XFxyXFxuICAgICAgICDmnaXlrp7njrDmu5rliqjlvILmraXliqDovb1cXHJcXG4gICAgICA8L3A+XFxyXFxuICAgICAgPHA+XFxyXFxuICAgICAgICA1LuWmguaenOayoeacieWbuuWumuWIl+a7muWKqOeahOaXtuWAmeaViOaenOS8muabtOWlveS4gOeCue+8jOWQjue7reS8mOWMllxcclxcbiAgICAgIDwvcD5cXHJcXG4gICAgICA8cD5cXHJcXG4gICAgICAgIDYu5aaC5p6c56Gu5L+d6KGM6auY5piv5Zu65a6a55qE77yIdGTorr7nva7kuobnm7jlupTmoLflvI/kuI3kvJrotoXov4fmjIflrprpq5jluqbvvInvvIzliJlzY3JvbGzkuK3nmoTorqHnrpfmlrnlvI/lj6/lpKfluYXluqbnroDljJZcXHJcXG4gICAgICA8L3A+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kZW1vPlxcclxcbjwvZGl2PlxcclxcblwiO1xuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGlicy4xNC40NGFjN2I3YjFmNTJmNTc0YjI4ZS5qcyIsIi8vIGxhenlcclxuLy8g6Leo6aG16YCJ5oupXHJcbi8vIHZlcnRpY2FsU2Nyb2xsXHJcbi8vIGRyYWdhYmxl57uE5Lu2XHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2luZGV4Lmh0bWwnXHJcbmltcG9ydCBrbyBmcm9tICdrbm9ja291dCdcclxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xyXG5pbXBvcnQgJ0AvY29tcG9uZW50cydcclxuZnVuY3Rpb24gaW5pdCAoKSB7XHJcbiAgdmFyIHZpZXdtb2RlbCA9IHtcclxuICAgIGNvZGU6IFtgXHJcbiAgICAgIDx0ZW1wbGF0ZT5cclxuICAgICAgICA8eS1ncmlkIHBhcmFtcz1cInJvd3M6JHJvb3QuY2FjdWxhdGVSb3dzLCBcclxuICAgICAgICBjb2x1bW5zOiAkcm9vdC5jYWN1bGF0ZU1haW5Db2x1bW5zLCBcclxuICAgICAgICBjYWN1bGF0ZUNvbHVtbnM6ICRyb290LmNhY3VsYXRlQ29sdW1uc1wiPlxyXG4gICAgICAgIDwveS1ncmlkPlxyXG4gICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICB2YXIgdmlld21vZGVsID0ge1xyXG4gICAgICAgIGNhY3VsYXRlQ29sdW1uczogW3tcclxuICAgICAgICAgIHR5cGU6ICdyZW5kZXInLFxyXG4gICAgICAgICAgX3Nob3c6IHRydWUsXHJcbiAgICAgICAgICByZW5kZXJGbiAocm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAn5ZCI6K6h77yaJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIF9zaG93OiB0cnVlLFxyXG4gICAgICAgICAgdHlwZTogJ3JlbmRlcicsXHJcbiAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcclxuICAgICAgICAgIC8vIOWcqOatpOiHquacieWumuS5ieS9oOeahOWQiOiuoeiuoeeul+aWueazlVxyXG4gICAgICAgICAgcmVuZGVyRm4gKHJvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ8KlICcgKyBfLnJlZHVjZSh2aWV3bW9kZWwuY2FjdWxhdGVSb3dzKCksIGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHthZ2U6IChhLmFnZSAtIDApICsgKGIuYWdlIC0gMCl9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICBhZ2U6IDBcclxuICAgICAgICAgICAgfSkuYWdlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgX3Nob3c6IHRydWVcclxuICAgICAgICB9XSxcclxuICAgICAgICBjYWN1bGF0ZVJvd3M6IGtvLm9ic2VydmFibGVBcnJheShbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICAgICAgYWdlOiAyNDAwMC4wMzQsXHJcbiAgICAgICAgICAgIHNleDogJ+eUtydcclxuICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICBhZ2U6IDIyMzI5MS4wMDAwMDAwLFxyXG4gICAgICAgICAgICBzZXg6ICfnlLcnXHJcbiAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICAgICAgYWdlOiAnMjExMjM4OS4wMTAnLFxyXG4gICAgICAgICAgICBzZXg6ICfnlLcnXHJcbiAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICAgICAgYWdlOiAyMzAwMDAwLjAxLFxyXG4gICAgICAgICAgICBzZXg6ICfnlLcnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgY2FjdWxhdGVNYWluQ29sdW1uczogW3tcclxuICAgICAgICAgIHRpdGxlOiAn5aeT5ZCNJyxcclxuICAgICAgICAgIGZpZWxkOiAnbmFtZScsXHJcbiAgICAgICAgICB0eXBlOiAncmVuZGVyJyxcclxuICAgICAgICAgIHJlbmRlckZuOiBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjxhIGhyZWY9J2h0dHA6Ly93d3cuYmFpZHUuY29tJz5yb3cubmFtZTwvYT5cIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIHRpdGxlOiAn5Lu35qC8JyxcclxuICAgICAgICAgIGZpZWxkOiAnYWdlJyxcclxuICAgICAgICAgIGFsaWduOiAncmlnaHQnLFxyXG4gICAgICAgICAgZGF0YVR5cGU6ICdtb25leSdcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICB0aXRsZTogJ+aAp+WIqycsXHJcbiAgICAgICAgICBmaWVsZDogJ3NleCcsXHJcbiAgICAgICAgfV1cclxuICAgICAgfSBcclxuICAgIDwvc2NyaXB0PlxyXG4gICAgYCwgYFxyXG4gICAgPHRlbXBsYXRlPlxyXG4gICAgICA8eS1iYXNpY2dyaWQgcGFyYW1zPVwibWF4aGVpZ2h0OicyMDVweCcscmVmOidsb2FkaW5nR3JpZCcsY29sdW1uczokcm9vdC5Db21wdXRlQ29sdW1ucyxyb3dzOiAkcm9vdC5Db21wdXRlUm93c1wiPjwveS1iYXNpY2dyaWQ+XHJcbiAgICA8L3RlbXBsYXRlPlxyXG4gICAgPHNjcmlwdD5cclxuICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcclxuICAgICAgICBDb21wdXRlUm93czoga28ub2JzZXJ2YWJsZUFycmF5KFt7XHJcbiAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICAgIHByaWNlOiBrby5vYnNlcnZhYmxlKDIzKSxcclxuICAgICAgICAgIG51bTogMixcclxuICAgICAgICAgIHRvdGFsOiA0NlxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIGlkOiAxLFxyXG4gICAgICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgcHJpY2U6IGtvLm9ic2VydmFibGUoMjMpLFxyXG4gICAgICAgICAgbnVtOiAyLFxyXG4gICAgICAgICAgdG90YWw6IDQ2XHJcbiAgICAgICAgfV0pLFxyXG4gICAgICAgIENvbXB1dGVDb2x1bW5zOiBbe1xyXG4gICAgICAgICAgdGl0bGU6ICfljZXku7crJyxcclxuICAgICAgICAgIGZpZWxkOiAnaWQnLFxyXG4gICAgICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXHJcbiAgICAgICAgICBjb21wRm4gKHJvdykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICd5LWdyaWQtbWVyZ2UtdGQnLFxyXG4gICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgZGF0YUxpc3Q6IFtcclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAncHJpY2UnXHJcbiAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ251bScsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlbmRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRm4gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPGRpdj7mlbDph4/vvJonICsgcm93Lm51bSArICc8L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnaWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBGbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAneS1pbnB1dCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cucHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfkvaDlpb3kuJbnlYwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICByb3c6IHJvd1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIHRpdGxlOiAn5oC75Lu3JyxcclxuICAgICAgICAgIGZpZWxkOiAndG90YWwnXHJcbiAgICAgICAgfV1cclxuICAgICAgfSBcclxuICAgIDwvc2NyaXB0PlxyXG4gICAgYCwgYFxyXG4gICAgICA8dGVtcGxhdGU+XHJcbiAgICAgICAgPHktYmFzaWNncmlkIHBhcmFtcz1cInJlZjonbGF6eWdyaWQnLGxvY2tjb2x1bW46IHRydWUsbG9ja2hlYWQ6dHJ1ZSxoYW5kbGVTY3JvbGw6JHJvb3QubGF6eVNjcm9sbCxsYXp5OiAkcm9vdC5ncmlkTGF6eSwgcm93czogJHJvb3QubGF6eVJvd3MsIGNvbHVtbnM6ICRyb290LmxhenlDb2x1bW5zXCI+XHJcbiAgICAgICAgPC95LWJhc2ljZ3JpZD5cclxuICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgPHNjcmlwdCA+XHJcbiAgICAgIHZhciB2aWV3bW9kZWwgPSB7XHJcbiAgICAgICAgZ3JpZExhenk6IHtcclxuICAgICAgICAgIGxhenlTdGFydDoga28ub2JzZXJ2YWJsZSgwKSxcclxuICAgICAgICAgIGxhenlFbmQ6IGtvLm9ic2VydmFibGUoMTApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHZhciBsYXp5R3JpZCA9IG51bGxcclxuICAgICAgdmFyIGVsID0gbnVsbFxyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsYXp5R3JpZCA9IHdpbmRvdy55Y2xvdWQuJHJlZnNbJ2xhenlncmlkJ11cclxuICAgICAgICBlbCA9IHdpbmRvdy4kKGxhenlHcmlkLiRlbCkuZmluZCgnLnktZ3JpZC1ib2R5IHRhYmxlJylbMF1cclxuICAgICAgfSlcclxuICAgIFxyXG4gICAgICAvLyDnpLrkvovku6PnoIFcclxuICAgICAgdmlld21vZGVsLmxhenlTY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQsIHNjcm9sbFRvcCkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGxhenlHcmlkLmdldEZpdEluZGV4QnlTY3JvbGxUb3Aoc2Nyb2xsVG9wKVxyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgIHZhciBjdXJJbmRleCA9IE1hdGgucm91bmQoZGF0YXMubGVuZ3RoICogc2Nyb2xsVG9wIC8gZWwub2Zmc2V0SGVpZ2h0KVxyXG4gICAgICAgICAgaW5kZXggPSBjdXJJbmRleFxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDor6bnu4blj4LmlbDmoLnmja7kuI3lkIzpobXpnaLnmoTmlbDmja7nuqfliKvngbXmtLvosIPmlbRcclxuICAgICAgICB2aWV3bW9kZWwuZ3JpZExhenkubGF6eVN0YXJ0KGluZGV4IC0gMzAgPCBkYXRhcy5sZW5ndGggLSBkYXRhcy5sZW5ndGggLyA1ID8gaW5kZXggLSAzMCA6IGRhdGFzLmxlbmd0aCAtIGRhdGFzLmxlbmd0aCAvIDUpXHJcbiAgICAgICAgdmlld21vZGVsLmdyaWRMYXp5LmxhenlFbmQoaW5kZXggKyAzMCA+IGRhdGFzLmxlbmd0aCA/IGRhdGFzLmxlbmd0aCA6IGluZGV4ICsgMzApXHJcbiAgICAgIH1cclxuICAgICAgPC9zY3JpcHQ+XHJcbiAgICBgLFxyXG4gICAgICBgXHJcbiAgICA8dGVtcGxhdGU+XHJcbiAgICAgIDx5LWdyaWQgcGFyYW1zPVwiXHJcbiAgICAgICAgICBjcm9zc1BhZ2VTZWxlY3RlZFJvd3M6ICRyb290LmNyb3NzUGFnZVJvd3MsXHJcbiAgICAgICAgICBvblBhZ2VDaGFuZ2U6JHJvb3QuaGFuZGxlQ2hhbmdlLFxyXG4gICAgICAgICAgb25TaXplQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcclxuICAgICAgICAgIHBhZ2luYXRpb246dHJ1ZSx0b3RhbENvdW50OmtvLm9ic2VydmFibGUoMjApLFxyXG4gICAgICAgICAgbWF4aGVpZ2h0OidhdXRvJyxcclxuICAgICAgICAgIHJvd3M6JHJvb3QucGFnZVJvd3MsXHJcbiAgICAgICAgICBjb2x1bW5zOiAkcm9vdC5wYWdlQ29sdW1uc1wiPlxyXG4gICAgICAgIDwveS1ncmlkPlxyXG4gICAgPC90ZW1wbGF0ZT5cclxuICAgIDxzY3JpcHQ+XHJcbiAgICAgIHZhciB2bSA9IHtcclxuICAgICAgICBjcm9zc1BhZ2VSb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pXHJcbiAgICAgIH1cclxuICAgIDwvc2NyaXB0PlxyXG4gICAgYFxyXG4gICAgXSxcclxuICAgIGNhY3VsYXRlUm93czoga28ub2JzZXJ2YWJsZUFycmF5KFtcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICBhZ2U6IDI0MDAwLjAzNCxcclxuICAgICAgICBzZXg6ICfnlLcnXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICAgYWdlOiAyMjMyOTEuMDAwMDAwMCxcclxuICAgICAgICBzZXg6ICfnlLcnXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICAgYWdlOiAnMjExMjM4OS4wMTAnLFxyXG4gICAgICAgIHNleDogJ+eUtydcclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICBhZ2U6IDIzMDAwMDAuMDEsXHJcbiAgICAgICAgc2V4OiAn55S3J1xyXG4gICAgICB9XHJcbiAgICBdKSxcclxuICAgIGNhY3VsYXRlTWFpbkNvbHVtbnM6IFt7XHJcbiAgICAgIHRpdGxlOiAn5aeT5ZCNJyxcclxuICAgICAgZmllbGQ6ICduYW1lJyxcclxuICAgICAgdHlwZTogJ3JlbmRlcicsXHJcbiAgICAgIHJlbmRlckZuOiBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPGEgaHJlZj0naHR0cDovL3d3dy5iYWlkdS5jb20nPnJvdy5uYW1lPC9hPlwiXHJcbiAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICfku7fmoLwnLFxyXG4gICAgICBmaWVsZDogJ2FnZScsXHJcbiAgICAgIGFsaWduOiAncmlnaHQnLFxyXG4gICAgICBkYXRhVHlwZTogJ21vbmV5J1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aAp+WIqycsXHJcbiAgICAgIGZpZWxkOiAnc2V4J1xyXG4gICAgfV0sXHJcbiAgICBjYWN1bGF0ZUNvbHVtbnM6IFt7XHJcbiAgICAgIHR5cGU6ICdyZW5kZXInLFxyXG4gICAgICBfc2hvdzogdHJ1ZSxcclxuICAgICAgcmVuZGVyRm4gKHJvdykge1xyXG4gICAgICAgIHJldHVybiAnPGI+5ZCI6K6h77yaPC9iPidcclxuICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICBfc2hvdzogdHJ1ZSxcclxuICAgICAgdHlwZTogJ3JlbmRlcicsXHJcbiAgICAgIGFsaWduOiAncmlnaHQnLFxyXG4gICAgICByZW5kZXJGbiAocm93KSB7XHJcbiAgICAgICAgcmV0dXJuICc8c3BhbiBzdHlsZT1cImZvbnQtZmFtaWx5OiBcXCdNaWNyb3NvZnQgWWFIZWlcXCdcIj7CpSA8L3NwYW4+JyArIF8ucmVkdWNlKHZpZXdtb2RlbC5jYWN1bGF0ZVJvd3MoKSwgZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgIHJldHVybiB7YWdlOiAoYS5hZ2UgLSAwKSArIChiLmFnZSAtIDApfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIGFnZTogMFxyXG4gICAgICAgIH0pLmFnZVxyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIF9zaG93OiB0cnVlXHJcbiAgICB9XSxcclxuICAgIENvbXB1dGVSb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoW3tcclxuICAgICAgaWQ6IDEsXHJcbiAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgcHJpY2U6IGtvLm9ic2VydmFibGUoMjMpLFxyXG4gICAgICBudW06IDIsXHJcbiAgICAgIHRvdGFsOiA0NlxyXG4gICAgfSwge1xyXG4gICAgICBpZDogMSxcclxuICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICBwcmljZToga28ub2JzZXJ2YWJsZSgyMyksXHJcbiAgICAgIG51bTogMixcclxuICAgICAgdG90YWw6IDQ2XHJcbiAgICB9XSksXHJcbiAgICBDb21wdXRlQ29sdW1uczogW3tcclxuICAgICAgdGl0bGU6ICfljZXku7crJyxcclxuICAgICAgZmllbGQ6ICdpZCcsXHJcbiAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxyXG4gICAgICBjb21wRm4gKHJvdykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBuYW1lOiAneS1ncmlkLW1lcmdlLXRkJyxcclxuICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICBkYXRhTGlzdDogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAncHJpY2UnXHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICdudW0nLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlbmRlcicsXHJcbiAgICAgICAgICAgICAgICByZW5kZXJGbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gJzxkaXY+5pWw6YeP77yaJyArIHJvdy5udW0gKyAnPC9kaXY+J1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnaWQnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbXBvbmVudCcsXHJcbiAgICAgICAgICAgICAgICBjb21wRm4gKCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd5LWlucHV0JyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cucHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+S9oOWlveS4lueVjCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJvdzogcm93XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn5oC75Lu3JyxcclxuICAgICAgZmllbGQ6ICd0b3RhbCdcclxuICAgIH1dLFxyXG4gICAgZ3JpZExhenk6IHtcclxuICAgICAgbGF6eVN0YXJ0OiBrby5vYnNlcnZhYmxlKDApLFxyXG4gICAgICBsYXp5RW5kOiBrby5vYnNlcnZhYmxlKDEwKVxyXG4gICAgfSxcclxuICAgIHBhZ2VSb3dzOiBrby5vYnNlcnZhYmxlQXJyYXkoKSxcclxuICAgIHBhZ2VDb2x1bW5zOiBbe1xyXG4gICAgICB0eXBlOiAnY2hlY2tib3gnXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn5YiXMScsXHJcbiAgICAgIGZpZWxkOiAnZmllbGQxJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+WIlzInLFxyXG4gICAgICBmaWVsZDogJ2ZpZWxkMidcclxuICAgIH1dLFxyXG4gICAgY3Jvc3NQYWdlUm93czoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcclxuICAgIGhhbmRsZUNoYW5nZSAocGFnZUluZGV4LCBwYWdlU2l6ZSkge1xyXG4gICAgICBpZiAocGFnZUluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgdmlld21vZGVsLnBhZ2VSb3dzKFt7XHJcbiAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgIGZpZWxkMTogJ2ZpZWxkMScsXHJcbiAgICAgICAgICBmaWVsZDI6ICdmaWVsZDInXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgaWQ6IDIsXHJcbiAgICAgICAgICBmaWVsZDE6ICdmaWVsZDExJyxcclxuICAgICAgICAgIGZpZWxkMjogJ2ZpZWxkMjEnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgaWQ6IDMsXHJcbiAgICAgICAgICBmaWVsZDE6ICdmaWVsZDEyJyxcclxuICAgICAgICAgIGZpZWxkMjogJ2ZpZWxkMjInXHJcbiAgICAgICAgfV0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmlld21vZGVsLnBhZ2VSb3dzKFt7XHJcbiAgICAgICAgICBpZDogNCxcclxuICAgICAgICAgIGZpZWxkMTogJ2ZpZWxkNCcsXHJcbiAgICAgICAgICBmaWVsZDI6ICdmaWVsZDQnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgaWQ6IDUsXHJcbiAgICAgICAgICBmaWVsZDE6ICdmaWVsZDUnLFxyXG4gICAgICAgICAgZmllbGQyOiAnZmllbGQyNSdcclxuICAgICAgICB9XSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICB2aWV3bW9kZWwucGFnZVJvd3MoW3tcclxuICAgIGlkOiAxLFxyXG4gICAgZmllbGQxOiAnZmllbGQxJyxcclxuICAgIGZpZWxkMjogJ2ZpZWxkMidcclxuICB9LCB7XHJcbiAgICBpZDogMixcclxuICAgIGZpZWxkMTogJ2ZpZWxkMTEnLFxyXG4gICAgZmllbGQyOiAnZmllbGQyMSdcclxuICB9LCB7XHJcbiAgICBpZDogMyxcclxuICAgIGZpZWxkMTogJ2ZpZWxkMTInLFxyXG4gICAgZmllbGQyOiAnZmllbGQyMidcclxuICB9XSlcclxuICB2YXIgZGF0YXMgPSBbXVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgNTAwOyBpKyspIHtcclxuICAgIGRhdGFzLnB1c2goe1xyXG4gICAgICBhOiBpLFxyXG4gICAgICBiOiAnYicsXHJcbiAgICAgIGM6ICdjJ1xyXG4gICAgfSlcclxuICB9XHJcbiAgdmlld21vZGVsLmxhenlSb3dzID0ga28ub2JzZXJ2YWJsZUFycmF5KGRhdGFzKVxyXG4gIHZhciBsYXp5R3JpZCA9IG51bGxcclxuICB2YXIgZWwgPSBudWxsXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICBsYXp5R3JpZCA9IHdpbmRvdy55Y2xvdWQuJHJlZnNbJ2xhenlncmlkJ11cclxuICAgIGVsID0gd2luZG93LiQobGF6eUdyaWQuJGVsKS5maW5kKCcueS1ncmlkLWJvZHkgdGFibGUnKVswXVxyXG4gIH0pXHJcbiAgLy8g56S65L6L5Luj56CBXHJcbiAgdmlld21vZGVsLmxhenlTY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQsIHNjcm9sbFRvcCkge1xyXG4gICAgdmFyIGluZGV4ID0gbGF6eUdyaWQuZ2V0Rml0SW5kZXhCeVNjcm9sbFRvcChzY3JvbGxUb3ApXHJcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHZhciBjdXJJbmRleCA9IE1hdGgucm91bmQoZGF0YXMubGVuZ3RoICogc2Nyb2xsVG9wIC8gZWwub2Zmc2V0SGVpZ2h0KVxyXG4gICAgICBpbmRleCA9IGN1ckluZGV4XHJcbiAgICB9XHJcbiAgICB2aWV3bW9kZWwuZ3JpZExhenkubGF6eVN0YXJ0KGluZGV4IC0gMzAgPCBkYXRhcy5sZW5ndGggLSBkYXRhcy5sZW5ndGggLyA1ID8gaW5kZXggLSAzMCA6IGRhdGFzLmxlbmd0aCAtIGRhdGFzLmxlbmd0aCAvIDUpXHJcbiAgICB2aWV3bW9kZWwuZ3JpZExhenkubGF6eUVuZChpbmRleCArIDMwID4gZGF0YXMubGVuZ3RoID8gZGF0YXMubGVuZ3RoIDogaW5kZXggKyAzMClcclxuICB9XHJcbiAgdmlld21vZGVsLmxhenlDb2x1bW5zID0gW1xyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ2EnLFxyXG4gICAgICBmaWVsZDogJ2EnLFxyXG4gICAgICB3aWR0aDogMjAwLFxyXG4gICAgICBsb2NrOiB0cnVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ2InLFxyXG4gICAgICBmaWVsZDogJ2InLFxyXG4gICAgICB3aWR0aDogMTAwLFxyXG4gICAgICB0eXBlOiAncmVuZGVyJyxcclxuICAgICAgcmVuZGVyRm46IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICBpZiAocm93LmEgJSA3ID09PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gJzxkaXY+MTwvZGl2PjxkaXY+MjwvZGl2PjxkaXY+MzwvZGl2PjxkaXY+NTwvZGl2PidcclxuICAgICAgICB9IGVsc2UgaWYgKHJvdy5hLnRvU3RyaW5nKCkuc3BsaXQoJycpLmluZGV4T2YoJzMnKSA+PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gJzxkaXY+NTwvZGl2PjxkaXY+MjwvZGl2PjxkaXY+MzwvZGl2PjxkaXY+NTwvZGl2PjxkaXY+NTwvZGl2PjxkaXY+NTwvZGl2PidcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuICcxMiwzLDQnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ2MnLFxyXG4gICAgICBmaWVsZDogJ2MnLFxyXG4gICAgICB3aWR0aDogMjAwXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAnYicsXHJcbiAgICAgIGZpZWxkOiAnYicsXHJcbiAgICAgIHdpZHRoOiAyMDBcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICdjJyxcclxuICAgICAgZmllbGQ6ICdjJyxcclxuICAgICAgd2lkdGg6IDIwMFxyXG4gICAgfVxyXG4gIF1cclxuICBrby5hcHBseUJpbmRpbmdzKHZpZXdtb2RlbCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICB0ZW1wbGF0ZSxcclxuICBpbml0XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL2dyaWRhZHZhbmNlL2luZGV4LmpzIiwiaW1wb3J0ICcuL2RlbW8nXHJcbmltcG9ydCAnLi90aXRsZSdcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvaW5kZXguanMiLCJpbXBvcnQgdHBsIGZyb20gJy4vaW5kZXguaHRtbCdcclxuaW1wb3J0ICcuL2luZGV4Lmxlc3MnXHJcbmltcG9ydCAnLi4vY29kZSdcclxuaW1wb3J0IGtvIGZyb20gJ2tub2Nrb3V0J1xyXG5mdW5jdGlvbiBpbml0IChwYXJhbXMpIHtcclxuICB0aGlzLmNvZGUgPSBwYXJhbXMuY29kZVxyXG4gIHRoaXMuaXNTaG93QWxsID0ga28ub2JzZXJ2YWJsZShmYWxzZSlcclxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaXNTaG93QWxsKCF0aGlzLmlzU2hvd0FsbCgpKVxyXG4gIH0uYmluZCh0aGlzKVxyXG59XHJcbmtvLmNvbXBvbmVudHMucmVnaXN0ZXIoJ2RlbW8nLCB7XHJcbiAgdmlld01vZGVsOiBpbml0LFxyXG4gIHRlbXBsYXRlOiB0cGxcclxufSlcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZGVtby9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJkZW1vXFxcIj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tc2hvd1xcXCI+XFxyXFxuICA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPlxcclxcbiAgPC9kaXY+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJkZW1vLXNwbGl0XFxcIj48L2Rpdj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tY29kZVxcXCIgZGF0YS1iaW5kPVxcXCJjc3M6eydkZW1vLWhpZGVDb2RlJzohaXNTaG93QWxsKCl9XFxcIj5cXHJcXG4gICAgPHktY29kZSBwYXJhbXM9XFxcImNvZGU6Y29kZVxcXCI+PC95LWNvZGU+XFxyXFxuICA8L2Rpdj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tdG9nZ2xlXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOnRvZ2dsZVxcXCI+PHNwYW4gY2xhc3M9XFxcImZhXFxcIiBkYXRhLWJpbmQ9XFxcImNzczp7J2ZhLWFuZ2xlLWRvdWJsZS1kb3duJzohaXNTaG93QWxsKCksJ2ZhLWFuZ2xlLWRvdWJsZS11cCc6aXNTaG93QWxsKCl9XFxcIj48L3NwYW4+PC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9kZW1vL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSIsImltcG9ydCB0cGwgZnJvbSAnLi9pbmRleC5odG1sJ1xyXG5pbXBvcnQgJy4vaW5kZXgubGVzcydcclxuaW1wb3J0IGtvIGZyb20gJ2tub2Nrb3V0J1xyXG5pbXBvcnQgaGxqcyBmcm9tICdoaWdobGlnaHRqcydcclxuaW1wb3J0IENsaXBib2FyZCBmcm9tICdjbGlwYm9hcmQnXHJcbmltcG9ydCAnaGlnaGxpZ2h0anMvc3R5bGVzL2dpdGh1Yi5jc3MnXHJcbi8vIGltcG9ydCB7IGRlYnVnIH0gZnJvbSAndXRpbCdcclxuZnVuY3Rpb24gSW5pdCAocGFyYW1zLCBlbCkge1xyXG4gIC8vIOWPquiOt+WPlumrmOS6rueahERPTe+8jOWQpuWImeS8muW9seWTjWtv5oyH5LukXHJcbiAgdGhpcy4kZWwgPSBlbC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbM11cclxuICB0aGlzLmNvZGUgPSBwYXJhbXMuY29kZVxyXG4gIHRoaXMuY29weSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5jb3B5Jywge1xyXG4gICAgICB0ZXh0ICgpIHtcclxuICAgICAgICByZXR1cm4gcGFyYW1zLmNvZGVcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIChlKSA9PiB7XHJcbiAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKVxyXG4gICAgICBjbGlwYm9hcmQuZGVzdHJveSgpXHJcbiAgICAgIHdpbmRvdy5hbGVydCgn5Luj56CB5bey5aSN5Yi25Yiw5Ymq6LS05p2/JylcclxuICAgIH0pXHJcbiAgfVxyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgaGxqcy5oaWdobGlnaHRCbG9jayh0aGlzLiRlbClcclxuICB9KVxyXG59XHJcbmtvLmNvbXBvbmVudHMucmVnaXN0ZXIoJ3ktY29kZScsIHtcclxuICB2aWV3TW9kZWw6IHtcclxuICAgIGNyZWF0ZVZpZXdNb2RlbDogZnVuY3Rpb24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xyXG4gICAgICByZXR1cm4gbmV3IEluaXQocGFyYW1zLCBjb21wb25lbnRJbmZvLmVsZW1lbnQpXHJcbiAgICB9XHJcbiAgfSxcclxuICB0ZW1wbGF0ZTogdHBsXHJcbn0pXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2NvZGUvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY29kZVxcXCI+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJ0b29sc1xcXCI+XFxyXFxuICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbGlwYm9hcmQgY29weVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogY29weVxcXCI+PC9pPlxcclxcbiAgPC9kaXY+XFxyXFxuICA8cHJlPjxjb2RlIGNsYXNzPVxcXCJodG1sXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvZGVcXFwiPjwvY29kZT48L3ByZT5cXHJcXG48L2Rpdj5cXHJcXG5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2NvZGUvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJy4vY2xpcGJvYXJkLWFjdGlvbicsICd0aW55LWVtaXR0ZXInLCAnZ29vZC1saXN0ZW5lciddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCcuL2NsaXBib2FyZC1hY3Rpb24nKSwgcmVxdWlyZSgndGlueS1lbWl0dGVyJyksIHJlcXVpcmUoJ2dvb2QtbGlzdGVuZXInKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uLCBnbG9iYWwudGlueUVtaXR0ZXIsIGdsb2JhbC5nb29kTGlzdGVuZXIpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX2NsaXBib2FyZEFjdGlvbiwgX3RpbnlFbWl0dGVyLCBfZ29vZExpc3RlbmVyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9jbGlwYm9hcmRBY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkQWN0aW9uKTtcblxuICAgIHZhciBfdGlueUVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlueUVtaXR0ZXIpO1xuXG4gICAgdmFyIF9nb29kTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZExpc3RlbmVyKTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xuICAgICAgICBfaW5oZXJpdHMoQ2xpcGJvYXJkLCBfRW1pdHRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0cmlnZ2VyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmQodHJpZ2dlciwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDbGlwYm9hcmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDbGlwYm9hcmQpKS5jYWxsKHRoaXMpKTtcblxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xuICAgICAgICAgKiBvciBjdXN0b20gZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmQsIFt7XG4gICAgICAgICAgICBrZXk6ICdyZXNvbHZlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5hY3Rpb24gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmFjdGlvbiA6IHRoaXMuZGVmYXVsdEFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gX3R5cGVvZihvcHRpb25zLmNvbnRhaW5lcikgPT09ICdvYmplY3QnID8gb3B0aW9ucy5jb250YWluZXIgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdsaXN0ZW5DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuQ2xpY2sodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9ICgwLCBfZ29vZExpc3RlbmVyMi5kZWZhdWx0KSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uKHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0KHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXI6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdEFjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCdhY3Rpb24nLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdFRhcmdldCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGV4dCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2lzU3VwcG9ydGVkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbJ2NvcHknLCAnY3V0J107XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9ucyA9IHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnID8gW2FjdGlvbl0gOiBhY3Rpb247XG4gICAgICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDtcblxuICAgICAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnQgPSBzdXBwb3J0ICYmICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XG4gICAgfShfdGlueUVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2xpYi9jbGlwYm9hcmQuanNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICdzZWxlY3QnXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnc2VsZWN0JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLnNlbGVjdCk7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24gPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfc2VsZWN0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmRBY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkQWN0aW9uLCBbe1xuICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdFNlbGVjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNlbGVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RmFrZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdEZha2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdEZha2UoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBpc1JUTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpID09ICdydGwnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxMnB0JztcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBib3ggbW9kZWxcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZVtpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCddID0gJy05OTk5cHgnO1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XG4gICAgICAgICAgICAgICAgdmFyIHlQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wID0geVBvc2l0aW9uICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnZhbHVlID0gdGhpcy50ZXh0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3JlbW92ZUZha2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZha2UoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWtlRWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RUYXJnZXQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjb3B5VGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRleHQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2NlZWRlZCA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN1bHQoc3VjY2VlZGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGFuZGxlUmVzdWx0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoc3VjY2VlZGVkID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyU2VsZWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlci5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYWN0aW9uJyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdjb3B5JztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndGFyZ2V0JyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXQpKSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY3V0JyAmJiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKSB8fCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xuICAgIH0oKTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkQWN0aW9uO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2xpYi9jbGlwYm9hcmQtYWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUiLCJmdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xuICAgIHZhciBzZWxlY3RlZFRleHQ7XG5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICB2YXIgaXNSZWFkT25seSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCFpc1JlYWRPbmx5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2VsZWN0L3NyYy9zZWxlY3QuanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSIsImZ1bmN0aW9uIEUgKCkge1xuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcbn1cblxuRS5wcm90b3R5cGUgPSB7XG4gIG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG5cbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XG4gICAgICBmbjogY2FsbGJhY2ssXG4gICAgICBjdHg6IGN0eFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcbiAgfSxcblxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcblxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdGlueS1lbWl0dGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUiLCJ2YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XG52YXIgZGVsZWdhdGUgPSByZXF1aXJlKCdkZWxlZ2F0ZScpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2dvb2QtbGlzdGVuZXIvc3JjL2xpc3Rlbi5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IiwiLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGVMaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxuICAgICAgICAmJiAoJ2xlbmd0aCcgaW4gdmFsdWUpXG4gICAgICAgICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgZXhwb3J0cy5ub2RlKHZhbHVlWzBdKSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXG4gICAgICAgIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5mbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvaXMuanNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSIsInZhciBjbG9zZXN0ID0gcmVxdWlyZSgnLi9jbG9zZXN0Jyk7XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfEFycmF5fSBbZWxlbWVudHNdXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnRzLCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICAvLyBIYW5kbGUgdGhlIHJlZ3VsYXIgRWxlbWVudCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEVsZW1lbnQtbGVzcyB1c2FnZSwgaXQgZGVmYXVsdHMgdG8gZ2xvYmFsIGRlbGVnYXRpb25cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVXNlIGBkb2N1bWVudGAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgdGhlbiBhcHBseSBhcmd1bWVudHNcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNob3J0IHdheSB0byAudW5zaGlmdCBgYXJndW1lbnRzYCB3aXRob3V0IHJ1bm5pbmcgaW50byBkZW9wdGltaXphdGlvbnNcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5iaW5kKG51bGwsIGRvY3VtZW50KS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBTZWxlY3Rvci1iYXNlZCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEFycmF5LWxpa2UgYmFzZWQgdXNhZ2VcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yKTtcblxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9kZWxlZ2F0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IiwidmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XG5cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcbiAqL1xuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIHZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ubWF0Y2hlcyA9IHByb3RvLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSBET0NVTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9zZXN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSIsImltcG9ydCB0cGwgZnJvbSAnLi9pbmRleC5odG1sJ1xyXG5pbXBvcnQga28gZnJvbSAna25vY2tvdXQnXHJcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xyXG4gIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lIHx8ICcnXHJcbiAgdGhpcy5saW5rID0gcGFyYW1zLmxpbmsgfHwgJydcclxufVxyXG5rby5jb21wb25lbnRzLnJlZ2lzdGVyKCd5LXRpdGxlJywge1xyXG4gIHZpZXdNb2RlbDogaW5pdCxcclxuICB0ZW1wbGF0ZTogdHBsXHJcbn0pXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3RpdGxlL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxoMT5cXHJcXG4gIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogbmFtZVxcXCI+PC9zcGFuPue7hOS7tlxcclxcbjwvaDE+XFxyXFxuPCEtLSBrbyBpZjogbGluay0tPlxcclxcbjxoMj5cXHJcXG4gIDxhIGRhdGEtYmluZD1cXFwiYXR0cjoge2hyZWY6IGxpbmt9XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgc3R5bGU9XFxcImNvbG9yOiAjMmJhZWU5XFxcIj5cXHJcXG4gICAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBuYW1lXFxcIj48L3NwYW4+57uE5Lu2QVBJ5paH5qGjXFxyXFxuICA8L2E+XFxyXFxuPC9oMj5cXHJcXG48IS0tIC9rbyAtLT5cXHJcXG48aDI+5Luj56CB56S65L6LPC9oMj5cXHJcXG5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3RpdGxlL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJ5LWJveFxcXCI+XFxyXFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVswXVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wIHJvd1xcXCI+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXHJcXG4gICAgICAgIDx5LWdyaWQgcGFyYW1zPVxcXCJtYXhoZWlnaHQ6JzI2NXB4Jyxyb3dzOiRyb290LmNhY3VsYXRlUm93cywgY29sdW1uczogJHJvb3QuY2FjdWxhdGVNYWluQ29sdW1ucywgY2FjdWxhdGVDb2x1bW5zOiAkcm9vdC5jYWN1bGF0ZUNvbHVtbnNcXFwiPlxcclxcbiAgICAgICAgPC95LWdyaWQ+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXHJcXG4gICAgICA8c3Bhbj7lkIjorqHooYw8L3NwYW4+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxyXFxuICAgICAgPHA+MS7mt7vliqDlj4LmlbA8Y29kZT5jYWN1bGF0ZUNvbHVtbnM8L2NvZGU+PC9wPlxcclxcbiAgICAgIDxwPjIu5rOo5oSP5Y+q5pyJeS1ncmlk57uE5Lu25pSv5oyB77yMeS1iYXNpY2dyaWTmmoLml7bkuI3mlK/mjIE8L3A+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kZW1vPlxcclxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbM11cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxyXFxuICAgICAgICA8eS1ncmlkIHBhcmFtcz1cXFwiXFxyXFxuICAgICAgICAgIGNyb3NzUGFnZVNlbGVjdGVkUm93czogJHJvb3QuY3Jvc3NQYWdlUm93cyxcXHJcXG4gICAgICAgICAgb25QYWdlQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcXHJcXG4gICAgICAgICAgb25TaXplQ2hhbmdlOiRyb290LmhhbmRsZUNoYW5nZSxcXHJcXG4gICAgICAgICAgcGFnaW5hdGlvbjp0cnVlLHRvdGFsQ291bnQ6a28ub2JzZXJ2YWJsZSgyMCksXFxyXFxuICAgICAgICAgIG1heGhlaWdodDonYXV0bycsXFxyXFxuICAgICAgICAgIHJvd3M6JHJvb3QucGFnZVJvd3MsXFxyXFxuICAgICAgICAgIGNvbHVtbnM6ICRyb290LnBhZ2VDb2x1bW5zXFxcIj5cXHJcXG4gICAgICAgIDwveS1ncmlkPlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAg5b2T5YmN5Yu+6YCJ55qE5pWw5o2u5pyJ77yMXFxyXFxuICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogSlNPTi5zdHJpbmdpZnkoJHJvb3QuY3Jvc3NQYWdlUm93cygpKVxcXCI+PC9zcGFuPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXHJcXG4gICAgICA8c3Bhbj7ooajmoLzot6jpobXli77pgInmlbDmja48L3NwYW4+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxyXFxuICAgICAgPHA+MS7mt7vliqDlj4LmlbA8Y29kZT5jcm9zc1BhZ2VTZWxlY3RlZFJvd3M8L2NvZGU+PC9wPlxcclxcbiAgICAgIDxwPjIu5Y+C5pWw6ZyA6KaB6K6+572u5Li6a28ub2JzZXJ2YWJsZUFycmF5PC9wPlxcclxcbiAgICAgIDxwPjMu6buY6K6k5pWw5o2u5ZSv5LiA5qCH6K+G5a2X5q615Li6PGNvZGU+J2lkJzwvY29kZT7vvIzlpoLmnpw8Y29kZT4naWQnPC9jb2RlPumdnuWUr+S4gOagh+ivhuWImeS8oOWFpTxjb2RlPmNyb3NzUGFnZVJvd1ByaW1hcnlLZXk6ICdmaWVsZCc8L2NvZGU+LGZpZWxk5Luj6KGo6KGM5ZSv5LiA55qE5a2X5q615ZCNPC9wPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gIDwvZGVtbz5cXHJcXG4gIDxkZW1vIHBhcmFtcz1cXFwiY29kZTpjb2RlWzFdXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS10b3Agcm93XFxcIj5cXHJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcclxcbiAgICAgICAgPHktYmFzaWNncmlkIHBhcmFtcz1cXFwibWF4aGVpZ2h0OicyMDVweCcscmVmOidsb2FkaW5nR3JpZCcsY29sdW1uczokcm9vdC5Db21wdXRlQ29sdW1ucyxyb3dzOiAkcm9vdC5Db21wdXRlUm93c1xcXCI+PC95LWJhc2ljZ3JpZD5cXHJcXG4gICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtc3BsaXRcXFwiPlxcclxcbiAgICAgIDxzcGFuPuWNleWFg+agvOWkmuWtl+auteWQiOW5tu+8iOWQq+e7hOS7tu+8iTwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXHJcXG4gICAgICA8cD5ncmlk5LitcmVuZGVyRm7lj6rmlK/mjIHnroDljZXmlofmnKznmoTmi7zoo4XvvIzlvZPpgYfliLDlpJrku7bnuqfliKvnmoTlsIHoo4Xljp/mnKzpnIDopoHpop3lpJblrprkuYnnu4Tku7bvvIzkvb/nlKhjb21wb25lbnTlvJXlhaXvvIx5LWdyaWQtbWVyZ2UtdGTmj5DkvpvkuobkuIDnp43nroDljZXlpJrnu4Tku7bmi7zoo4XnmoTmlrnlvI88L3A+XFxyXFxuICAgICAgPHA+MS7kvb/nlKg8Y29kZT55LWdyaWQtbWVyZ2UtdGQ8L2NvZGU+57uE5Lu277yMcGFyYW1z5Lit5a6a5LmJIDxjb2RlPmRhdGFMaXN0PC9jb2RlPuWSjDxjb2RlPnJvdzwvY29kZT7ljbPlj688L3A+XFxyXFxuICAgICAgPHA+Mi5kYXRhTGlzdOWumuS5ieaWueW8j+WSjGNvbHVtbnPkuIDmoLfvvIzlj4LogIPlj7Pkvqfku6PnoIE8L3A+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kZW1vPlxcclxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbMl1cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxyXFxuICAgICAgICA8eS1iYXNpY2dyaWQgcGFyYW1zPVxcXCJyZWY6J2xhenlncmlkJyxsb2NrY29sdW1uOiB0cnVlLGxvY2toZWFkOnRydWUsaGFuZGxlU2Nyb2xsOiRyb290LmxhenlTY3JvbGwsbGF6eTogJHJvb3QuZ3JpZExhenksIHJvd3M6ICRyb290LmxhenlSb3dzLCBjb2x1bW5zOiAkcm9vdC5sYXp5Q29sdW1uc1xcXCI+XFxyXFxuICAgICAgICA8L3ktYmFzaWNncmlkPlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1zcGxpdFxcXCI+XFxyXFxuICAgICAgPHNwYW4+5LiN5a6a6KGM6auYK+mUgeWumuWIl++8jOeZvuihjOOAgeWNg+ihjOWkjeadguihqOagvOW8guatpea7muWKqOWKoOi9vTwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXHJcXG4gICAgICA8cD5cXHJcXG4gICAgICAgIOW9k+ihqOagvOWkjeadguW6puaPkOWNh+S5i+WQju+8iOWQhOenjee7hOS7tue7hOWQiOS9v+eUqO+8ieOAgeeZvuihjOWNg+ihjOihqOagvOa4suafk+mAn+W6puS8muWPmOaFouOAgemcgOimgei/m+ihjOW8guatpea7muWKqOWKoOi9veOAglxcclxcbiAgICAgICAg566A5Y2V5pWw5o2u5bGV56S657G755u05o6l5bGV56S65Y2z5Y+v77yM5Y+q6ZKI5a+55aSN5p2CIOWkmuaVsOaNrue7hOWQiCArIOWkmue7hOS7tue7hOWQiOeahOihqOagvFxcclxcbiAgICAgIDwvcD5cXHJcXG4gICAgICA8cD4xLuS9v+eUqDxjb2RlPnktYmFzaWNncmlkPC9jb2RlPue7hOS7tu+8jDxjb2RlPnktZ3JpZDwvY29kZT7nu4Tku7bmmoLkuI3mlK/mjIE8L3A+XFxyXFxuICAgICAgPHA+XFxyXFxuICAgICAgICAyLuWumuS5iTxjb2RlPmxhenk6IHtsYXp5U3RhcnQ6IGtvLm9ic2VydmFibGUoMCksIGxhenlFbmQ6IGtvLm9ic2VydmFibGUoNTApfTwvY29kZT5cXHJcXG4gICAgICA8L3A+XFxyXFxuICAgICAgPHA+XFxyXFxuICAgICAgICAzLiBsYXp5U3RhcnQtPmxhenlFbmQg6KGo56S65b2T5YmN6aG16Z2i6ZyA6KaB5pi+56S655qE6KGM57Si5byV55qE5byA5aeL5ZKM5oiq5q2iXFxyXFxuICAgICAgPC9wPlxcclxcbiAgICAgIDxwPlxcclxcbiAgICAgICAgNC4g5Zyo5Lia5Yqh6aG16Z2i6YCa6L+H55uR5ZCs6aG16Z2i55qEPGNvZGU+c2Nyb2xsPC9jb2RlPuOAgeaIluebkeWQrOihqOagvOWGhemDqOeahDxjb2RlPmhhbmRsZVNjcm9sbDwvY29kZT7kuovku7bvvIzliqjmgIHkv67mlLlsYXp5U3RhcnTlkoxsYXp5RW5k55qE5YC8XFxyXFxuICAgICAgICDmnaXlrp7njrDmu5rliqjlvILmraXliqDovb1cXHJcXG4gICAgICA8L3A+XFxyXFxuICAgICAgPHA+XFxyXFxuICAgICAgICA1LuWmguaenOayoeacieWbuuWumuWIl+a7muWKqOeahOaXtuWAmeaViOaenOS8muabtOWlveS4gOeCue+8jOWQjue7reS8mOWMllxcclxcbiAgICAgIDwvcD5cXHJcXG4gICAgICA8cD5cXHJcXG4gICAgICAgIDYu5aaC5p6c56Gu5L+d6KGM6auY5piv5Zu65a6a55qE77yIdGTorr7nva7kuobnm7jlupTmoLflvI/kuI3kvJrotoXov4fmjIflrprpq5jluqbvvInvvIzliJlzY3JvbGzkuK3nmoTorqHnrpfmlrnlvI/lj6/lpKfluYXluqbnroDljJZcXHJcXG4gICAgICA8L3A+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kZW1vPlxcclxcbjwvZGl2PlxcclxcblwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3ZpZXdzL2dyaWRhZHZhbmNlL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMTQiXSwic291cmNlUm9vdCI6IiJ9