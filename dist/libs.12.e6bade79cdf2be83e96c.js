webpackJsonp([12],{31:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(){var e={code:['\n      <template>\n        <div class="col-md-4">\n          <y-input params="placeholder: \'请输入文本..\', value: $root.value.base1"></y-input>\n          <hr class="hr-fix">\n          <y-input params="placeholder: \'请输入文本..\', value: $root.value.base2, class: \'setWidth\'"></y-input>\n        </div>\n      </template>\n      <script>\n        var viewmodel = {\n          value: {\n            base1: ko.observable(),\n            base2: ko.observable()\n          }\n        }\n      <\/script>\n      ',"\n      <template>\n        <div class=\"col-md-4\">\n          <y-input params=\"placeholder:'请输入文本',class:'y-inline-block',type:'integer',value:ko.observable('')\"></y-input>\n          <hr class=\"hr-fix\">\n          <y-input params=\"placeholder:'请输入文本',class:'y-inline-block',type:'positiveinteger',value:ko.observable('')\"></y-input>\n          <hr class=\"hr-fix\">\n          <y-input params=\"placeholder:'请输入文本',class:'y-inline-block',type:'positivenumber',value:ko.observable('')\"></y-input>\n        </div>\n      </template>\n      ","\n      <template>\n        <y-input params=\"placeholder: '请输入文本..', value: $root.value.icon, iconClass:'fa fa-search', onIconClick: $root.onIconClick\"></y-input>\n      </template>\n      <script>\n        var viewmodel = {\n          value: {\n            icon: ko.observable()\n          },\n          onIconClick: () => {\n            alert('Don't touch me!')\n          }\n        }\n      <\/script>\n      ","\n      <template>\n        <y-input params=\"placeholder: '请输入文本..', value: $root.value.disabled, disabled: $root.disabled\"></y-input>\n      </template>\n      <script>\n        var viewmodel = {\n          value: {\n            disabled: ko.observable()\n          },\n          disabled: ko.observable(true)\n        }\n      <\/script>\n      ","\n      <template>\n        <y-input params=\"placeholder: '请输入文本..', value: $root.value.input, iconClass:'fa fa-search', onIconClick: $root.onIconClick, onInput: $root.onInput, onBlur: $root.onBlur, onFocus: $root.onFocus, onSubmit: $root.onSubmit\"></y-input>\n      </template>\n      <script>\n        var viewmodel = {\n          value: {\n            input: ko.observable()\n          },\n          eventText: ko.observable(),\n          onIconClick: () => {\n            alert(' Don't touch me!')\n          },\n          onInput: () => {\n            viewmodel.eventText('onInput: <br>正在输入..')\n          },\n          onFocus: () => {\n            viewmodel.eventText('onFocus: <br>I am shy, don't look at me!')\n          },\n          onBlur: () => {\n            viewmodel.eventText('onBlur: <br>Don't leave me alone!')\n          },\n          onSubmit: () => {\n            viewmodel.eventText('onSubmit: <br>enter触发!')\n          }\n        }\n      <\/script>\n      "],value:{base1:a.default.observable(),base2:a.default.observable(),icon:a.default.observable(),disabled:a.default.observable(),input:a.default.observable()},eventText:a.default.observable(),disabled:a.default.observable(!0),onIconClick:function(){alert("Don't touch me!")},onInput:function(){e.eventText("onInput: <br>正在输入..")},onFocus:function(){e.eventText("onFocus: <br>I am shy, don't look at me!")},onBlur:function(){e.eventText("onBlur: <br>Don't leave me alone!")},onSubmit:function(){e.eventText("onSubmit: <br>enter触发!")}};a.default.applyBindings(e,document.getElementById("app"))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),i=_interopRequireDefault(o),r=n(0),a=_interopRequireDefault(r);n(42),t.default={template:i.default,init:init}},42:function(e,t,n){"use strict";n(43),n(58)},43:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(e){this.code=e.code,this.isShowAll=a.default.observable(!1),this.toggle=function(){this.isShowAll(!this.isShowAll())}.bind(this)}var o=n(44),i=_interopRequireDefault(o);n(45),n(46);var r=n(0),a=_interopRequireDefault(r);a.default.components.register("demo",{viewModel:init,template:i.default})},44:function(e,t){e.exports='<div class="demo">\n  <div class="demo-show">\n  \x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e\n  </div>\n  <div class="demo-split"></div>\n  <div class="demo-code" data-bind="css:{\'demo-hideCode\':!isShowAll()}">\n    <y-code params="code:code"></y-code>\n  </div>\n  <div class="demo-toggle" data-bind="click:toggle"><span class="fa" data-bind="css:{\'fa-angle-double-down\':!isShowAll(),\'fa-angle-double-up\':isShowAll()}"></span></div>\n</div>\n'},45:function(e,t){},46:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Init(e,t){var n=this;this.$el=t.childNodes[0].childNodes[3],this.code=e.code,this.copy=function(){var t=new u.default(".copy",{text:function(){return e.code}});t.on("success",function(e){e.clearSelection(),t.destroy(),window.alert("代码已复制到剪贴板")})},setTimeout(function(){s.default.highlightBlock(n.$el)})}var o=n(47),i=_interopRequireDefault(o);n(48);var r=n(0),a=_interopRequireDefault(r),l=n(3),s=_interopRequireDefault(l),c=n(49),u=_interopRequireDefault(c);n(57),a.default.components.register("y-code",{viewModel:{createViewModel:function(e,t){return new Init(e,t.element)}},template:i.default})},47:function(e,t){e.exports='<div class="code">\n  <div class="tools">\n    <i class="fa fa-clipboard copy" data-bind="click: copy"></i>\n  </div>\n  <pre><code class="html" data-bind="text: code"></code></pre>\n</div>\n'},48:function(e,t){},49:function(e,t,n){var o,i,r;!function(a,l){i=[e,n(50),n(52),n(53)],o=l,void 0!==(r="function"==typeof o?o.apply(t,i):o)&&(e.exports=r)}(0,function(e,t,n,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getAttributeValue(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var i=_interopRequireDefault(t),r=_interopRequireDefault(n),a=_interopRequireDefault(o),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=function(e){function Clipboard(e,t){_classCallCheck(this,Clipboard);var n=_possibleConstructorReturn(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return _inherits(Clipboard,e),s(Clipboard,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return getAttributeValue("action",e)}},{key:"defaultTarget",value:function(e){var t=getAttributeValue("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return getAttributeValue("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),Clipboard}(r.default);e.exports=c})},50:function(e,t,n){var o,i,r;!function(a,l){i=[e,n(51)],o=l,void 0!==(r="function"==typeof o?o.apply(t,i):o)&&(e.exports=r)}(0,function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(e){return e&&e.__esModule?e:{default:e}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(){function ClipboardAction(e){_classCallCheck(this,ClipboardAction),this.resolveOptions(e),this.initSelection()}return i(ClipboardAction,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),ClipboardAction}();e.exports=r})},51:function(e,t){function select(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}e.exports=select},52:function(e,t){function E(){}E.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function listener(){o.off(e,listener),t.apply(n,arguments)}var o=this;return listener._=t,this.on(e,listener,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var r=0,a=o.length;r<a;r++)o[r].fn!==t&&o[r].fn._!==t&&i.push(o[r]);return i.length?n[e]=i:delete n[e],this}},e.exports=E},53:function(e,t,n){function listen(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(e))return listenNode(e,t,n);if(o.nodeList(e))return listenNodeList(e,t,n);if(o.string(e))return listenSelector(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function listenNode(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function listenNodeList(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function listenSelector(e,t,n){return i(document.body,e,t,n)}var o=n(54),i=n(55);e.exports=listen},54:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},55:function(e,t,n){function _delegate(e,t,n,o,i){var r=listener.apply(this,arguments);return e.addEventListener(n,r,i),{destroy:function(){e.removeEventListener(n,r,i)}}}function delegate(e,t,n,o,i){return"function"==typeof e.addEventListener?_delegate.apply(null,arguments):"function"==typeof n?_delegate.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return _delegate(e,t,n,o,i)}))}function listener(e,t,n,i){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&i.call(e,n)}}var o=n(56);e.exports=delegate},56:function(e,t){function closest(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=closest},57:function(e,t){},58:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function init(e){this.name=e.name||"",this.link=e.link||""}var o=n(59),i=_interopRequireDefault(o);_interopRequireDefault(n(0)).default.components.register("y-title",{viewModel:init,template:i.default})},59:function(e,t){e.exports='<h1>\n  <span data-bind="text: name"></span>组件\n</h1>\n\x3c!-- ko if: link--\x3e\n<h2>\n  <a data-bind="attr: {href: link}" target="_blank" style="color: #2baee9">\n    <span data-bind="text: name"></span>组件API文档\n  </a>\n</h2>\n\x3c!-- /ko --\x3e\n<h2>代码示例</h2>\n'},76:function(e,t){e.exports='<div class="y-box">\n  <y-title params="name: \'Input标签\'"></y-title>\n  <demo params="code:code[0]">\n    <div class="code-top row">\n      <div class="col-md-4">\n        <y-input params="placeholder: \'请输入文本..\', value: $root.value.base1"></y-input>\n        <hr class="hr-fix">\n        <y-input params="placeholder: \'请输入文本..\', value: $root.value.base2, class: \'setWidth\'"></y-input>\n      </div>\n    </div>\n    <div class="code-split">\n      <span>基础用法</span>\n    </div>\n    <div class="code-bottom">\n      基本用法，可以使用value实现数据的双向绑定。\n      可以设置class来改变输入框的宽度及其他样式，默认 100%。\n    </div>\n  </demo>\n  \n  <demo params="code:code[1]">\n    <div class="code-top">\n      <y-form params="labelWidth:\'100px\'">\n        <y-formitem params="label:\'整数输入框\'">\n          <y-input params="placeholder:\'请输入文本\',class:\'y-inline-block\',type:\'integer\',value:ko.observable(\'\')"></y-input>\n        </y-formitem>\n        <y-formitem params="label:\'正整数输入框\'">\n          <y-input params="placeholder:\'请输入文本\',class:\'y-inline-block\',type:\'positiveinteger\',value:ko.observable(\'\')"></y-input>\n        </y-formitem>\n        <y-formitem params="label:\'正数输入框\'">\n          <y-input params="placeholder:\'请输入文本\',class:\'y-inline-block\',type:\'positivenumber\',value:ko.observable(\'\')"></y-input>\n        </y-formitem>\n      </y-form>\n    </div>\n    <div class="code-split">\n      <span>输入框类型</span>\n    </div>\n    <div class="code-bottom">\n      除支持input输入框的基本类型，还支持设置<br><code>type</code>为<code>integer</code>(整数)、<code>positiveinteger</code>(正整数)、<code>positivenumber</code>(正数)。\n    </div>\n  </demo>\n\n  <demo params="code:code[2]">\n    <div class="code-top row">\n      <div class="col-md-4">\n        <y-input params="placeholder: \'请输入文本..\', value: $root.value.icon, iconClass:\'fa fa-search\', onIconClick: $root.onIconClick"></y-input>\n      </div>\n    </div>\n    <div class="code-split">\n      <span>带Icon的输入框</span>\n    </div>\n    <div class="code-bottom">\n      通过iconClass属性添加类(例如fa图标集)可以在输入框右边加一个图标。\n      点击图标，会触发onIconClick事件。\n    </div>\n  </demo>\n\n  <demo params="code:code[3]">\n    <div class="code-top row">\n      <div class="col-md-4">\n        <y-input params="placeholder: \'请输入文本..\', value: $root.value.disabled, disabled: $root.disabled"></y-input>\n      </div>\n    </div>\n    <div class="code-split">\n      <span>禁用状态</span>\n    </div>\n    <div class="code-bottom">\n      通过添加disabled属性可设置为不可用状态。\n    </div>\n  </demo>\n\n  <demo params="code:code[4]">\n    <div class="code-top row">\n      <div class="col-md-4">\n        <y-input params="placeholder: \'请输入文本..\', value: $root.value.input, iconClass:\'fa fa-search\', onIconClick: $root.onIconClick, onInput: $root.onInput, onBlur: $root.onBlur, onFocus: $root.onFocus, onSubmit: $root.onSubmit"></y-input>\n        <hr class="hr-fix">\n        <span data-bind="html: $root.eventText"></span>\n      </div>\n    </div>\n    <div class="code-split">\n      <span>所有事件</span>\n    </div>\n    <div class="code-bottom">\n      点击图标时触发onIconClick事件，输入时触发onInput事件，获得焦点时触发onFocus事件，<br>失去焦点时触发onBlur事件，回车触发onSubmit事件。\n    </div>\n  </demo>\n</div>\n<style>\n  .setWidth {\n    width: 180px;\n  }\n</style>\n'}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGlicy4xMi5lNmJhZGU3OWNkZjJiZTgzZTk2Yy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvaW5wdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGVtby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kZW1vL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29kZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb2RlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NsaXBib2FyZC9saWIvY2xpcGJvYXJkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbGlwYm9hcmQvbGliL2NsaXBib2FyZC1hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NlbGVjdC9zcmMvc2VsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dvb2QtbGlzdGVuZXIvc3JjL2xpc3Rlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvaXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9kZWxlZ2F0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvaW5wdXQvaW5kZXguaHRtbCJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIzMSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaW5pdCIsInZpZXdtb2RlbCIsImNvZGUiLCJ2YWx1ZSIsImJhc2UxIiwiX2tub2Nrb3V0MiIsIm9ic2VydmFibGUiLCJiYXNlMiIsImljb24iLCJkaXNhYmxlZCIsImlucHV0IiwiZXZlbnRUZXh0Iiwib25JY29uQ2xpY2siLCJhbGVydCIsIm9uSW5wdXQiLCJvbkZvY3VzIiwib25CbHVyIiwib25TdWJtaXQiLCJhcHBseUJpbmRpbmdzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX2luZGV4IiwiX2luZGV4MiIsIl9rbm9ja291dCIsInRlbXBsYXRlIiwiNDIiLCI0MyIsInBhcmFtcyIsInRoaXMiLCJpc1Nob3dBbGwiLCJ0b2dnbGUiLCJiaW5kIiwiY29tcG9uZW50cyIsInJlZ2lzdGVyIiwidmlld01vZGVsIiwiNDQiLCI0NSIsIjQ2IiwiSW5pdCIsImVsIiwiX3RoaXMiLCIkZWwiLCJjaGlsZE5vZGVzIiwiY29weSIsImNsaXBib2FyZCIsIl9jbGlwYm9hcmQyIiwidGV4dCIsIm9uIiwiZSIsImNsZWFyU2VsZWN0aW9uIiwiZGVzdHJveSIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJfaGlnaGxpZ2h0anMyIiwiaGlnaGxpZ2h0QmxvY2siLCJfaGlnaGxpZ2h0anMiLCJfY2xpcGJvYXJkIiwiY3JlYXRlVmlld01vZGVsIiwiY29tcG9uZW50SW5mbyIsImVsZW1lbnQiLCI0NyIsIjQ4IiwiNDkiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJnbG9iYWwiLCJmYWN0b3J5IiwidW5kZWZpbmVkIiwiYXBwbHkiLCJfY2xpcGJvYXJkQWN0aW9uIiwiX3RpbnlFbWl0dGVyIiwiX2dvb2RMaXN0ZW5lciIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiQ2xpcGJvYXJkIiwiX0VtaXR0ZXIiLCJ0cmlnZ2VyIiwib3B0aW9ucyIsImdldFByb3RvdHlwZU9mIiwicmVzb2x2ZU9wdGlvbnMiLCJsaXN0ZW5DbGljayIsImFyZ3VtZW50cyIsImFjdGlvbiIsImRlZmF1bHRBY3Rpb24iLCJkZWZhdWx0VGFyZ2V0IiwiZGVmYXVsdFRleHQiLCJjb250YWluZXIiLCJib2R5IiwiX3RoaXMyIiwibGlzdGVuZXIiLCJvbkNsaWNrIiwiZGVsZWdhdGVUYXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2xpcGJvYXJkQWN0aW9uIiwiZW1pdHRlciIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsImFjdGlvbnMiLCJzdXBwb3J0IiwicXVlcnlDb21tYW5kU3VwcG9ydGVkIiwiZm9yRWFjaCIsIjUwIiwiX3NlbGVjdCIsIl9zZWxlY3QyIiwiQ2xpcGJvYXJkQWN0aW9uIiwiaW5pdFNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsInNlbGVjdEZha2UiLCJzZWxlY3RUYXJnZXQiLCJpc1JUTCIsImRvY3VtZW50RWxlbWVudCIsInJlbW92ZUZha2UiLCJmYWtlSGFuZGxlckNhbGxiYWNrIiwiZmFrZUhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZmFrZUVsZW0iLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJmb250U2l6ZSIsImJvcmRlciIsInBhZGRpbmciLCJtYXJnaW4iLCJwb3NpdGlvbiIsInlQb3NpdGlvbiIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwidG9wIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJjb3B5VGV4dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVDaGlsZCIsInN1Y2NlZWRlZCIsImV4ZWNDb21tYW5kIiwiZXJyIiwiaGFuZGxlUmVzdWx0IiwiZW1pdCIsImZvY3VzIiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwic2V0IiwiX2FjdGlvbiIsIkVycm9yIiwiZ2V0Iiwibm9kZVR5cGUiLCJfdGFyZ2V0IiwiNTEiLCJzZWxlY3QiLCJub2RlTmFtZSIsImlzUmVhZE9ubHkiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNlbGVjdGlvbiIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJhZGRSYW5nZSIsInRvU3RyaW5nIiwiNTIiLCJFIiwibmFtZSIsImNhbGxiYWNrIiwiY3R4IiwicHVzaCIsImZuIiwib25jZSIsIm9mZiIsIl8iLCJkYXRhIiwic2xpY2UiLCJldnRBcnIiLCJsZW4iLCJldnRzIiwibGl2ZUV2ZW50cyIsIjUzIiwibGlzdGVuIiwidHlwZSIsImlzIiwic3RyaW5nIiwibm9kZSIsImxpc3Rlbk5vZGUiLCJub2RlTGlzdCIsImxpc3Rlbk5vZGVMaXN0IiwibGlzdGVuU2VsZWN0b3IiLCJBcnJheSIsImRlbGVnYXRlIiwiNTQiLCJIVE1MRWxlbWVudCIsIlN0cmluZyIsIjU1IiwiX2RlbGVnYXRlIiwidXNlQ2FwdHVyZSIsImxpc3RlbmVyRm4iLCJlbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJjbG9zZXN0IiwiNTYiLCJET0NVTUVOVF9OT0RFX1RZUEUiLCJtYXRjaGVzIiwicGFyZW50Tm9kZSIsIkVsZW1lbnQiLCJwcm90byIsIm1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIjU3IiwiNTgiLCJsaW5rIiwiNTkiLCI3NiJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsS0FFUkMsR0FDQSxTQUFVQyxFQUFRQyxFQUFTQyxHQUVqQyxZQWlCQSxTQUFTQyx3QkFBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0NuQnZGLFFBQVNHLFFBQ1AsR0FBSUMsSUFDRkMsTUFBTSxnd0ZBc0ZOQyxPQUNFQyxNQUFPQyxFQUFBTixRQUFHTyxhQUNWQyxNQUFPRixFQUFBTixRQUFHTyxhQUNWRSxLQUFNSCxFQUFBTixRQUFHTyxhQUNURyxTQUFVSixFQUFBTixRQUFHTyxhQUNiSSxNQUFPTCxFQUFBTixRQUFHTyxjQUVaSyxVQUFXTixFQUFBTixRQUFHTyxhQUNkRyxTQUFVSixFQUFBTixRQUFHTyxZQUFXLEdBQ3hCTSxZQUFhLFdBQ1hDLDBCQUVGQyxRQUFTLFdBQ1BiLEVBQVVVLFVBQVUsd0JBRXRCSSxRQUFTLFdBQ1BkLEVBQVVVLFVBQVYsNkNBRUZLLE9BQVEsV0FDTmYsRUFBVVUsVUFBVixzQ0FFRk0sU0FBVSxXQUNSaEIsRUFBVVUsVUFBViwyQkFJSk4sR0FBQU4sUUFBR21CLGNBQWNqQixFQUFXa0IsU0FBU0MsZUFBZSxRRDdHdERDLE9BQU9DLGVBQWU1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LFNBQUFoTCxFQUFBMkUsR0FDQSxLQUFBM0UsS0FBQTRILFdBQUFzRCxHQUFBLENBQ0EscUJBQUFsTCxHQUFBbUwsU0FDQW5MLEVBQUFtTCxRQUFBeEcsR0FDQSxNQUFBM0UsRUFFQUEsS0FBQW9MLFlBNUJBLEdBQUFGLEdBQUEsQ0FLQSx1QkFBQUcsbUJBQUE1SixVQUFBMEosUUFBQSxDQUNBLEdBQUFHLEdBQUFELFFBQUE1SixTQUVBNkosR0FBQUgsUUFBQUcsRUFBQUMsaUJBQ0FELEVBQUFFLG9CQUNBRixFQUFBRyxtQkFDQUgsRUFBQUksa0JBQ0FKLEVBQUFLLHNCQW9CQS9QLEVBQUFDLFFBQUFtUCxTZGtnQ01ZLEdBQ0EsU0FBVWhRLEVBQVFDLEtBTWxCZ1EsR0FDQSxTQUFValEsRUFBUUMsRUFBU0MsR0FFakMsWUFXQSxTQUFTQyx3QkFBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR2VyakN2RixRQUFTRyxNQUFNNkIsR0FDYkMsS0FBSzJLLEtBQU81SyxFQUFPNEssTUFBUSxHQUMzQjNLLEtBQUs2TixLQUFPOU4sRUFBTzhOLE1BQVEsR0FKN0IsR0FBQXBPLEdBQUE1QixFQUFBLElmaWpDSTZCLEVBQVU1Qix1QkFBdUIyQixFQUlwQjNCLHdCZXBqQ2pCRCxFQUFBLElBS0FJLFFBQUdtQyxXQUFXQyxTQUFTLFdBQ3JCQyxVQUFXcEMsS0FDWDBCLHNCZjRqQ0lrTyxHQUNBLFNBQVVuUSxFQUFRQyxHZ0Jya0N4QkQsRUFBQUMsUUFBQSw0UWhCMmtDTW1RLEdBQ0EsU0FBVXBRLEVBQVFDLEdpQjVrQ3hCRCxFQUFBQyxRQUFBIiwiZmlsZSI6ImxpYnMuMTIuZTZiYWRlNzljZGYyYmU4M2U5NmMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzEyXSx7XG5cbi8qKiovIDMxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG52YXIgX2tub2Nrb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9rbm9ja291dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rbm9ja291dCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICB2YXIgdmlld21vZGVsID0ge1xuICAgIGNvZGU6IFsnXFxuICAgICAgPHRlbXBsYXRlPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC00XCI+XFxuICAgICAgICAgIDx5LWlucHV0IHBhcmFtcz1cInBsYWNlaG9sZGVyOiBcXCdcXHU4QkY3XFx1OEY5M1xcdTUxNjVcXHU2NTg3XFx1NjcyQy4uXFwnLCB2YWx1ZTogJHJvb3QudmFsdWUuYmFzZTFcIj48L3ktaW5wdXQ+XFxuICAgICAgICAgIDxociBjbGFzcz1cImhyLWZpeFwiPlxcbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XCJwbGFjZWhvbGRlcjogXFwnXFx1OEJGN1xcdThGOTNcXHU1MTY1XFx1NjU4N1xcdTY3MkMuLlxcJywgdmFsdWU6ICRyb290LnZhbHVlLmJhc2UyLCBjbGFzczogXFwnc2V0V2lkdGhcXCdcIj48L3ktaW5wdXQ+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L3RlbXBsYXRlPlxcbiAgICAgIDxzY3JpcHQ+XFxuICAgICAgICB2YXIgdmlld21vZGVsID0ge1xcbiAgICAgICAgICB2YWx1ZToge1xcbiAgICAgICAgICAgIGJhc2UxOiBrby5vYnNlcnZhYmxlKCksXFxuICAgICAgICAgICAgYmFzZTI6IGtvLm9ic2VydmFibGUoKVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgPC9zY3JpcHQ+XFxuICAgICAgJywgJ1xcbiAgICAgIDx0ZW1wbGF0ZT5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNFwiPlxcbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XCJwbGFjZWhvbGRlcjpcXCdcXHU4QkY3XFx1OEY5M1xcdTUxNjVcXHU2NTg3XFx1NjcyQ1xcJyxjbGFzczpcXCd5LWlubGluZS1ibG9ja1xcJyx0eXBlOlxcJ2ludGVnZXJcXCcsdmFsdWU6a28ub2JzZXJ2YWJsZShcXCdcXCcpXCI+PC95LWlucHV0PlxcbiAgICAgICAgICA8aHIgY2xhc3M9XCJoci1maXhcIj5cXG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVwicGxhY2Vob2xkZXI6XFwnXFx1OEJGN1xcdThGOTNcXHU1MTY1XFx1NjU4N1xcdTY3MkNcXCcsY2xhc3M6XFwneS1pbmxpbmUtYmxvY2tcXCcsdHlwZTpcXCdwb3NpdGl2ZWludGVnZXJcXCcsdmFsdWU6a28ub2JzZXJ2YWJsZShcXCdcXCcpXCI+PC95LWlucHV0PlxcbiAgICAgICAgICA8aHIgY2xhc3M9XCJoci1maXhcIj5cXG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVwicGxhY2Vob2xkZXI6XFwnXFx1OEJGN1xcdThGOTNcXHU1MTY1XFx1NjU4N1xcdTY3MkNcXCcsY2xhc3M6XFwneS1pbmxpbmUtYmxvY2tcXCcsdHlwZTpcXCdwb3NpdGl2ZW51bWJlclxcJyx2YWx1ZTprby5vYnNlcnZhYmxlKFxcJ1xcJylcIj48L3ktaW5wdXQ+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L3RlbXBsYXRlPlxcbiAgICAgICcsICdcXG4gICAgICA8dGVtcGxhdGU+XFxuICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XCJwbGFjZWhvbGRlcjogXFwnXFx1OEJGN1xcdThGOTNcXHU1MTY1XFx1NjU4N1xcdTY3MkMuLlxcJywgdmFsdWU6ICRyb290LnZhbHVlLmljb24sIGljb25DbGFzczpcXCdmYSBmYS1zZWFyY2hcXCcsIG9uSWNvbkNsaWNrOiAkcm9vdC5vbkljb25DbGlja1wiPjwveS1pbnB1dD5cXG4gICAgICA8L3RlbXBsYXRlPlxcbiAgICAgIDxzY3JpcHQ+XFxuICAgICAgICB2YXIgdmlld21vZGVsID0ge1xcbiAgICAgICAgICB2YWx1ZToge1xcbiAgICAgICAgICAgIGljb246IGtvLm9ic2VydmFibGUoKVxcbiAgICAgICAgICB9LFxcbiAgICAgICAgICBvbkljb25DbGljazogKCkgPT4ge1xcbiAgICAgICAgICAgIGFsZXJ0KFxcJ0RvblxcJ3QgdG91Y2ggbWUhXFwnKVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgPC9zY3JpcHQ+XFxuICAgICAgJywgJ1xcbiAgICAgIDx0ZW1wbGF0ZT5cXG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cInBsYWNlaG9sZGVyOiBcXCdcXHU4QkY3XFx1OEY5M1xcdTUxNjVcXHU2NTg3XFx1NjcyQy4uXFwnLCB2YWx1ZTogJHJvb3QudmFsdWUuZGlzYWJsZWQsIGRpc2FibGVkOiAkcm9vdC5kaXNhYmxlZFwiPjwveS1pbnB1dD5cXG4gICAgICA8L3RlbXBsYXRlPlxcbiAgICAgIDxzY3JpcHQ+XFxuICAgICAgICB2YXIgdmlld21vZGVsID0ge1xcbiAgICAgICAgICB2YWx1ZToge1xcbiAgICAgICAgICAgIGRpc2FibGVkOiBrby5vYnNlcnZhYmxlKClcXG4gICAgICAgICAgfSxcXG4gICAgICAgICAgZGlzYWJsZWQ6IGtvLm9ic2VydmFibGUodHJ1ZSlcXG4gICAgICAgIH1cXG4gICAgICA8L3NjcmlwdD5cXG4gICAgICAnLCAnXFxuICAgICAgPHRlbXBsYXRlPlxcbiAgICAgICAgPHktaW5wdXQgcGFyYW1zPVwicGxhY2Vob2xkZXI6IFxcJ1xcdThCRjdcXHU4RjkzXFx1NTE2NVxcdTY1ODdcXHU2NzJDLi5cXCcsIHZhbHVlOiAkcm9vdC52YWx1ZS5pbnB1dCwgaWNvbkNsYXNzOlxcJ2ZhIGZhLXNlYXJjaFxcJywgb25JY29uQ2xpY2s6ICRyb290Lm9uSWNvbkNsaWNrLCBvbklucHV0OiAkcm9vdC5vbklucHV0LCBvbkJsdXI6ICRyb290Lm9uQmx1ciwgb25Gb2N1czogJHJvb3Qub25Gb2N1cywgb25TdWJtaXQ6ICRyb290Lm9uU3VibWl0XCI+PC95LWlucHV0PlxcbiAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgPHNjcmlwdD5cXG4gICAgICAgIHZhciB2aWV3bW9kZWwgPSB7XFxuICAgICAgICAgIHZhbHVlOiB7XFxuICAgICAgICAgICAgaW5wdXQ6IGtvLm9ic2VydmFibGUoKVxcbiAgICAgICAgICB9LFxcbiAgICAgICAgICBldmVudFRleHQ6IGtvLm9ic2VydmFibGUoKSxcXG4gICAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHtcXG4gICAgICAgICAgICBhbGVydChcXCcgRG9uXFwndCB0b3VjaCBtZSFcXCcpXFxuICAgICAgICAgIH0sXFxuICAgICAgICAgIG9uSW5wdXQ6ICgpID0+IHtcXG4gICAgICAgICAgICB2aWV3bW9kZWwuZXZlbnRUZXh0KFxcJ29uSW5wdXQ6IDxicj5cXHU2QjYzXFx1NTcyOFxcdThGOTNcXHU1MTY1Li5cXCcpXFxuICAgICAgICAgIH0sXFxuICAgICAgICAgIG9uRm9jdXM6ICgpID0+IHtcXG4gICAgICAgICAgICB2aWV3bW9kZWwuZXZlbnRUZXh0KFxcJ29uRm9jdXM6IDxicj5JIGFtIHNoeSwgZG9uXFwndCBsb29rIGF0IG1lIVxcJylcXG4gICAgICAgICAgfSxcXG4gICAgICAgICAgb25CbHVyOiAoKSA9PiB7XFxuICAgICAgICAgICAgdmlld21vZGVsLmV2ZW50VGV4dChcXCdvbkJsdXI6IDxicj5Eb25cXCd0IGxlYXZlIG1lIGFsb25lIVxcJylcXG4gICAgICAgICAgfSxcXG4gICAgICAgICAgb25TdWJtaXQ6ICgpID0+IHtcXG4gICAgICAgICAgICB2aWV3bW9kZWwuZXZlbnRUZXh0KFxcJ29uU3VibWl0OiA8YnI+ZW50ZXJcXHU4OUU2XFx1NTNEMSFcXCcpXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICA8L3NjcmlwdD5cXG4gICAgICAnXSxcbiAgICB2YWx1ZToge1xuICAgICAgYmFzZTE6IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKCksXG4gICAgICBiYXNlMjogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoKSxcbiAgICAgIGljb246IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKCksXG4gICAgICBkaXNhYmxlZDogX2tub2Nrb3V0Mi5kZWZhdWx0Lm9ic2VydmFibGUoKSxcbiAgICAgIGlucHV0OiBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZSgpXG4gICAgfSxcbiAgICBldmVudFRleHQ6IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKCksXG4gICAgZGlzYWJsZWQ6IF9rbm9ja291dDIuZGVmYXVsdC5vYnNlcnZhYmxlKHRydWUpLFxuICAgIG9uSWNvbkNsaWNrOiBmdW5jdGlvbiBvbkljb25DbGljaygpIHtcbiAgICAgIGFsZXJ0KCdEb25cXCd0IHRvdWNoIG1lIScpO1xuICAgIH0sXG4gICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dCgpIHtcbiAgICAgIHZpZXdtb2RlbC5ldmVudFRleHQoJ29uSW5wdXQ6IDxicj7mraPlnKjovpPlhaUuLicpO1xuICAgIH0sXG4gICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgIHZpZXdtb2RlbC5ldmVudFRleHQoJ29uRm9jdXM6IDxicj5JIGFtIHNoeSwgZG9uXFwndCBsb29rIGF0IG1lIScpO1xuICAgIH0sXG4gICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICB2aWV3bW9kZWwuZXZlbnRUZXh0KCdvbkJsdXI6IDxicj5Eb25cXCd0IGxlYXZlIG1lIGFsb25lIScpO1xuICAgIH0sXG4gICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkge1xuICAgICAgdmlld21vZGVsLmV2ZW50VGV4dCgnb25TdWJtaXQ6IDxicj5lbnRlclxcdTg5RTZcXHU1M0QxIScpO1xuICAgIH1cbiAgfTtcblxuICBfa25vY2tvdXQyLmRlZmF1bHQuYXBwbHlCaW5kaW5ncyh2aWV3bW9kZWwsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIHRlbXBsYXRlOiBfaW5kZXgyLmRlZmF1bHQsXG4gIGluaXQ6IGluaXRcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblxudmFyIF9rbm9ja291dCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfa25vY2tvdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa25vY2tvdXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpbml0KHBhcmFtcykge1xuICB0aGlzLmNvZGUgPSBwYXJhbXMuY29kZTtcbiAgdGhpcy5pc1Nob3dBbGwgPSBfa25vY2tvdXQyLmRlZmF1bHQub2JzZXJ2YWJsZShmYWxzZSk7XG4gIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNTaG93QWxsKCF0aGlzLmlzU2hvd0FsbCgpKTtcbiAgfS5iaW5kKHRoaXMpO1xufVxuX2tub2Nrb3V0Mi5kZWZhdWx0LmNvbXBvbmVudHMucmVnaXN0ZXIoJ2RlbW8nLCB7XG4gIHZpZXdNb2RlbDogaW5pdCxcbiAgdGVtcGxhdGU6IF9pbmRleDIuZGVmYXVsdFxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImRlbW9cXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby1zaG93XFxcIj5cXG4gIDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tc3BsaXRcXFwiPjwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby1jb2RlXFxcIiBkYXRhLWJpbmQ9XFxcImNzczp7J2RlbW8taGlkZUNvZGUnOiFpc1Nob3dBbGwoKX1cXFwiPlxcbiAgICA8eS1jb2RlIHBhcmFtcz1cXFwiY29kZTpjb2RlXFxcIj48L3ktY29kZT5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby10b2dnbGVcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6dG9nZ2xlXFxcIj48c3BhbiBjbGFzcz1cXFwiZmFcXFwiIGRhdGEtYmluZD1cXFwiY3NzOnsnZmEtYW5nbGUtZG91YmxlLWRvd24nOiFpc1Nob3dBbGwoKSwnZmEtYW5nbGUtZG91YmxlLXVwJzppc1Nob3dBbGwoKX1cXFwiPjwvc3Bhbj48L2Rpdj5cXG48L2Rpdj5cXG5cIjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXG52YXIgX2tub2Nrb3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9rbm9ja291dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rbm9ja291dCk7XG5cbnZhciBfaGlnaGxpZ2h0anMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2hpZ2hsaWdodGpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hpZ2hsaWdodGpzKTtcblxudmFyIF9jbGlwYm9hcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIF9jbGlwYm9hcmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGltcG9ydCB7IGRlYnVnIH0gZnJvbSAndXRpbCdcbmZ1bmN0aW9uIEluaXQocGFyYW1zLCBlbCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vIOWPquiOt+WPlumrmOS6rueahERPTe+8jOWQpuWImeS8muW9seWTjWtv5oyH5LukXG4gIHRoaXMuJGVsID0gZWwuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzNdO1xuICB0aGlzLmNvZGUgPSBwYXJhbXMuY29kZTtcbiAgdGhpcy5jb3B5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgX2NsaXBib2FyZDIuZGVmYXVsdCgnLmNvcHknLCB7XG4gICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIGNsaXBib2FyZC5kZXN0cm95KCk7XG4gICAgICB3aW5kb3cuYWxlcnQoJ+S7o+eggeW3suWkjeWItuWIsOWJqui0tOadvycpO1xuICAgIH0pO1xuICB9O1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBfaGlnaGxpZ2h0anMyLmRlZmF1bHQuaGlnaGxpZ2h0QmxvY2soX3RoaXMuJGVsKTtcbiAgfSk7XG59XG5fa25vY2tvdXQyLmRlZmF1bHQuY29tcG9uZW50cy5yZWdpc3RlcigneS1jb2RlJywge1xuICB2aWV3TW9kZWw6IHtcbiAgICBjcmVhdGVWaWV3TW9kZWw6IGZ1bmN0aW9uIGNyZWF0ZVZpZXdNb2RlbChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgICAgIHJldHVybiBuZXcgSW5pdChwYXJhbXMsIGNvbXBvbmVudEluZm8uZWxlbWVudCk7XG4gICAgfVxuICB9LFxuICB0ZW1wbGF0ZTogX2luZGV4Mi5kZWZhdWx0XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY29kZVxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJ0b29sc1xcXCI+XFxuICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbGlwYm9hcmQgY29weVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogY29weVxcXCI+PC9pPlxcbiAgPC9kaXY+XFxuICA8cHJlPjxjb2RlIGNsYXNzPVxcXCJodG1sXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvZGVcXFwiPjwvY29kZT48L3ByZT5cXG48L2Rpdj5cXG5cIjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNDk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW21vZHVsZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1MCksIF9fd2VicGFja19yZXF1aXJlX18oNTIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/XG5cdFx0XHRcdChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XG5cbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICAgIGlmICghc2VsZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENsaXBib2FyZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENsaXBib2FyZCkpLmNhbGwodGhpcykpO1xuXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbkNsaWNrKHRyaWdnZXIpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgaWYgYXR0cmlidXRlcyB3b3VsZCBiZSByZXNvbHZlZCB1c2luZyBpbnRlcm5hbCBzZXR0ZXIgZnVuY3Rpb25zXG4gICAgICAgICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZCwgW3tcbiAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHR5cGVvZiBvcHRpb25zLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuYWN0aW9uIDogdGhpcy5kZWZhdWx0QWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdHlwZW9mIG9wdGlvbnMudGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50YXJnZXQgOiB0aGlzLmRlZmF1bHRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBfdHlwZW9mKG9wdGlvbnMuY29udGFpbmVyKSA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2xpc3RlbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0ZW5DbGljayh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWdnZXIgPSBlLmRlbGVnYXRlVGFyZ2V0IHx8IGUuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBuZXcgX2NsaXBib2FyZEFjdGlvbjIuZGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlcjogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0QWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ2FjdGlvbicsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0VGFyZ2V0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGFyZ2V0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdFRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRUZXh0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnaXNTdXBwb3J0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFsnY29weScsICdjdXQnXTtcblxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25zID0gdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgPyBbYWN0aW9uXSA6IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgc3VwcG9ydCA9ICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkO1xuXG4gICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydCA9IHN1cHBvcnQgJiYgISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBwb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIENsaXBib2FyZDtcbiAgICB9KF90aW55RW1pdHRlcjIuZGVmYXVsdCk7XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWZmaXhcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVWYWx1ZShzdWZmaXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdkYXRhLWNsaXBib2FyZC0nICsgc3VmZml4O1xuXG4gICAgICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmQ7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDUwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0cnVlKSB7XG4gICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFttb2R1bGUsIF9fd2VicGFja19yZXF1aXJlX18oNTEpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID9cblx0XHRcdFx0KF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnc2VsZWN0JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLnNlbGVjdCk7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24gPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfc2VsZWN0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmRBY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkQWN0aW9uLCBbe1xuICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdFNlbGVjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNlbGVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RmFrZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdEZha2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdEZha2UoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBpc1JUTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpID09ICdydGwnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxMnB0JztcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBib3ggbW9kZWxcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZVtpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCddID0gJy05OTk5cHgnO1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XG4gICAgICAgICAgICAgICAgdmFyIHlQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wID0geVBvc2l0aW9uICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnZhbHVlID0gdGhpcy50ZXh0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3JlbW92ZUZha2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZha2UoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWtlRWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RUYXJnZXQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjb3B5VGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRleHQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2NlZWRlZCA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN1bHQoc3VjY2VlZGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGFuZGxlUmVzdWx0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoc3VjY2VlZGVkID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyU2VsZWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlci5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYWN0aW9uJyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdjb3B5JztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndGFyZ2V0JyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXQpKSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY3V0JyAmJiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKSB8fCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xuICAgIH0oKTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkQWN0aW9uO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZWN0ZWRUZXh0O1xuXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgdmFyIGlzUmVhZE9ubHkgPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKTtcblxuICAgICAgICBpZiAoIWlzUmVhZE9ubHkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZWxlbWVudC52YWx1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmZ1bmN0aW9uIEUgKCkge1xuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcbn1cblxuRS5wcm90b3R5cGUgPSB7XG4gIG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG5cbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XG4gICAgICBmbjogY2FsbGJhY2ssXG4gICAgICBjdHg6IGN0eFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcbiAgfSxcblxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcblxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA1Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG52YXIgZGVsZWdhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZycpO1xuICAgIH1cblxuICAgIGlmICghaXMuZm4oY2FsbGJhY2spKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5TZWxlY3RvcihzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDU0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgSFRNTCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgICAgICYmIHZhbHVlLm5vZGVUeXBlID09PSAxO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZUxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmICh0eXBlID09PSAnW29iamVjdCBOb2RlTGlzdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXScpXG4gICAgICAgICYmICgnbGVuZ3RoJyBpbiB2YWx1ZSlcbiAgICAgICAgJiYgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCBleHBvcnRzLm5vZGUodmFsdWVbMF0pKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLnN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLmZuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDU1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ3xBcnJheX0gW2VsZW1lbnRzXVxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50cywgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgLy8gSGFuZGxlIHRoZSByZWd1bGFyIEVsZW1lbnQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBFbGVtZW50LWxlc3MgdXNhZ2UsIGl0IGRlZmF1bHRzIHRvIGdsb2JhbCBkZWxlZ2F0aW9uXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFVzZSBgZG9jdW1lbnRgIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIHRoZW4gYXBwbHkgYXJndW1lbnRzXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzaG9ydCB3YXkgdG8gLnVuc2hpZnQgYGFyZ3VtZW50c2Agd2l0aG91dCBydW5uaW5nIGludG8gZGVvcHRpbWl6YXRpb25zXG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYmluZChudWxsLCBkb2N1bWVudCkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgU2VsZWN0b3ItYmFzZWQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBBcnJheS1saWtlIGJhc2VkIHVzYWdlXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDU2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgRE9DVU1FTlRfTk9ERV9UWVBFID0gOTtcblxuLyoqXG4gKiBBIHBvbHlmaWxsIGZvciBFbGVtZW50Lm1hdGNoZXMoKVxuICovXG5pZiAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmICFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgdmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5tYXRjaGVzID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwYXJlbnQgdGhhdCBtYXRjaGVzIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IERPQ1VNRU5UX05PREVfVFlQRSkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQubWF0Y2hlcyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDU3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbnZhciBfa25vY2tvdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2tub2Nrb3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tub2Nrb3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcbiAgdGhpcy5uYW1lID0gcGFyYW1zLm5hbWUgfHwgJyc7XG4gIHRoaXMubGluayA9IHBhcmFtcy5saW5rIHx8ICcnO1xufVxuX2tub2Nrb3V0Mi5kZWZhdWx0LmNvbXBvbmVudHMucmVnaXN0ZXIoJ3ktdGl0bGUnLCB7XG4gIHZpZXdNb2RlbDogaW5pdCxcbiAgdGVtcGxhdGU6IF9pbmRleDIuZGVmYXVsdFxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcIjxoMT5cXG4gIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogbmFtZVxcXCI+PC9zcGFuPue7hOS7tlxcbjwvaDE+XFxuPCEtLSBrbyBpZjogbGluay0tPlxcbjxoMj5cXG4gIDxhIGRhdGEtYmluZD1cXFwiYXR0cjoge2hyZWY6IGxpbmt9XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgc3R5bGU9XFxcImNvbG9yOiAjMmJhZWU5XFxcIj5cXG4gICAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBuYW1lXFxcIj48L3NwYW4+57uE5Lu2QVBJ5paH5qGjXFxuICA8L2E+XFxuPC9oMj5cXG48IS0tIC9rbyAtLT5cXG48aDI+5Luj56CB56S65L6LPC9oMj5cXG5cIjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDc2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwieS1ib3hcXFwiPlxcbiAgPHktdGl0bGUgcGFyYW1zPVxcXCJuYW1lOiAnSW5wdXTmoIfnrb4nXFxcIj48L3ktdGl0bGU+XFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVswXVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wIHJvd1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTRcXFwiPlxcbiAgICAgICAgPHktaW5wdXQgcGFyYW1zPVxcXCJwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeaWh+acrC4uJywgdmFsdWU6ICRyb290LnZhbHVlLmJhc2UxXFxcIj48L3ktaW5wdXQ+XFxuICAgICAgICA8aHIgY2xhc3M9XFxcImhyLWZpeFxcXCI+XFxuICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XFxcInBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5paH5pysLi4nLCB2YWx1ZTogJHJvb3QudmFsdWUuYmFzZTIsIGNsYXNzOiAnc2V0V2lkdGgnXFxcIj48L3ktaW5wdXQ+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj7ln7rnoYDnlKjms5U8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAg5Z+65pys55So5rOV77yM5Y+v5Lul5L2/55SodmFsdWXlrp7njrDmlbDmja7nmoTlj4zlkJHnu5HlrprjgIJcXG4gICAgICDlj6/ku6Xorr7nva5jbGFzc+adpeaUueWPmOi+k+WFpeahhueahOWuveW6puWPiuWFtuS7luagt+W8j++8jOm7mOiupCAxMDAl44CCXFxuICAgIDwvZGl2PlxcbiAgPC9kZW1vPlxcbiAgXFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVsxXVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wXFxcIj5cXG4gICAgICA8eS1mb3JtIHBhcmFtcz1cXFwibGFiZWxXaWR0aDonMTAwcHgnXFxcIj5cXG4gICAgICAgIDx5LWZvcm1pdGVtIHBhcmFtcz1cXFwibGFiZWw6J+aVtOaVsOi+k+WFpeahhidcXFwiPlxcbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XFxcInBsYWNlaG9sZGVyOifor7fovpPlhaXmlofmnKwnLGNsYXNzOid5LWlubGluZS1ibG9jaycsdHlwZTonaW50ZWdlcicsdmFsdWU6a28ub2JzZXJ2YWJsZSgnJylcXFwiPjwveS1pbnB1dD5cXG4gICAgICAgIDwveS1mb3JtaXRlbT5cXG4gICAgICAgIDx5LWZvcm1pdGVtIHBhcmFtcz1cXFwibGFiZWw6J+ato+aVtOaVsOi+k+WFpeahhidcXFwiPlxcbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XFxcInBsYWNlaG9sZGVyOifor7fovpPlhaXmlofmnKwnLGNsYXNzOid5LWlubGluZS1ibG9jaycsdHlwZToncG9zaXRpdmVpbnRlZ2VyJyx2YWx1ZTprby5vYnNlcnZhYmxlKCcnKVxcXCI+PC95LWlucHV0PlxcbiAgICAgICAgPC95LWZvcm1pdGVtPlxcbiAgICAgICAgPHktZm9ybWl0ZW0gcGFyYW1zPVxcXCJsYWJlbDon5q2j5pWw6L6T5YWl5qGGJ1xcXCI+XFxuICAgICAgICAgIDx5LWlucHV0IHBhcmFtcz1cXFwicGxhY2Vob2xkZXI6J+ivt+i+k+WFpeaWh+acrCcsY2xhc3M6J3ktaW5saW5lLWJsb2NrJyx0eXBlOidwb3NpdGl2ZW51bWJlcicsdmFsdWU6a28ub2JzZXJ2YWJsZSgnJylcXFwiPjwveS1pbnB1dD5cXG4gICAgICAgIDwveS1mb3JtaXRlbT5cXG4gICAgICA8L3ktZm9ybT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtc3BsaXRcXFwiPlxcbiAgICAgIDxzcGFuPui+k+WFpeahhuexu+Weizwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXG4gICAgICDpmaTmlK/mjIFpbnB1dOi+k+WFpeahhueahOWfuuacrOexu+Wei++8jOi/mOaUr+aMgeiuvue9rjxicj48Y29kZT50eXBlPC9jb2RlPuS4ujxjb2RlPmludGVnZXI8L2NvZGU+KOaVtOaVsCnjgIE8Y29kZT5wb3NpdGl2ZWludGVnZXI8L2NvZGU+KOato+aVtOaVsCnjgIE8Y29kZT5wb3NpdGl2ZW51bWJlcjwvY29kZT4o5q2j5pWwKeOAglxcbiAgICA8L2Rpdj5cXG4gIDwvZGVtbz5cXG5cXG4gIDxkZW1vIHBhcmFtcz1cXFwiY29kZTpjb2RlWzJdXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS10b3Agcm93XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtNFxcXCI+XFxuICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XFxcInBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5paH5pysLi4nLCB2YWx1ZTogJHJvb3QudmFsdWUuaWNvbiwgaWNvbkNsYXNzOidmYSBmYS1zZWFyY2gnLCBvbkljb25DbGljazogJHJvb3Qub25JY29uQ2xpY2tcXFwiPjwveS1pbnB1dD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtc3BsaXRcXFwiPlxcbiAgICAgIDxzcGFuPuW4pkljb27nmoTovpPlhaXmoYY8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAg6YCa6L+HaWNvbkNsYXNz5bGe5oCn5re75Yqg57G7KOS+i+WmgmZh5Zu+5qCH6ZuGKeWPr+S7peWcqOi+k+WFpeahhuWPs+i+ueWKoOS4gOS4quWbvuagh+OAglxcbiAgICAgIOeCueWHu+Wbvuagh++8jOS8muinpuWPkW9uSWNvbkNsaWNr5LqL5Lu244CCXFxuICAgIDwvZGl2PlxcbiAgPC9kZW1vPlxcblxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbM11cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC00XFxcIj5cXG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cXFwicGxhY2Vob2xkZXI6ICfor7fovpPlhaXmlofmnKwuLicsIHZhbHVlOiAkcm9vdC52YWx1ZS5kaXNhYmxlZCwgZGlzYWJsZWQ6ICRyb290LmRpc2FibGVkXFxcIj48L3ktaW5wdXQ+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj7npoHnlKjnirbmgIE8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAg6YCa6L+H5re75YqgZGlzYWJsZWTlsZ7mgKflj6/orr7nva7kuLrkuI3lj6/nlKjnirbmgIHjgIJcXG4gICAgPC9kaXY+XFxuICA8L2RlbW8+XFxuXFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVs0XVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wIHJvd1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTRcXFwiPlxcbiAgICAgICAgPHktaW5wdXQgcGFyYW1zPVxcXCJwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeaWh+acrC4uJywgdmFsdWU6ICRyb290LnZhbHVlLmlucHV0LCBpY29uQ2xhc3M6J2ZhIGZhLXNlYXJjaCcsIG9uSWNvbkNsaWNrOiAkcm9vdC5vbkljb25DbGljaywgb25JbnB1dDogJHJvb3Qub25JbnB1dCwgb25CbHVyOiAkcm9vdC5vbkJsdXIsIG9uRm9jdXM6ICRyb290Lm9uRm9jdXMsIG9uU3VibWl0OiAkcm9vdC5vblN1Ym1pdFxcXCI+PC95LWlucHV0PlxcbiAgICAgICAgPGhyIGNsYXNzPVxcXCJoci1maXhcXFwiPlxcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVxcXCJodG1sOiAkcm9vdC5ldmVudFRleHRcXFwiPjwvc3Bhbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtc3BsaXRcXFwiPlxcbiAgICAgIDxzcGFuPuaJgOacieS6i+S7tjwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtYm90dG9tXFxcIj5cXG4gICAgICDngrnlh7vlm77moIfml7bop6blj5Fvbkljb25DbGlja+S6i+S7tu+8jOi+k+WFpeaXtuinpuWPkW9uSW5wdXTkuovku7bvvIzojrflvpfnhKbngrnml7bop6blj5FvbkZvY3Vz5LqL5Lu277yMPGJyPuWkseWOu+eEpueCueaXtuinpuWPkW9uQmx1cuS6i+S7tu+8jOWbnui9puinpuWPkW9uU3VibWl05LqL5Lu244CCXFxuICAgIDwvZGl2PlxcbiAgPC9kZW1vPlxcbjwvZGl2PlxcbjxzdHlsZT5cXG4gIC5zZXRXaWR0aCB7XFxuICAgIHdpZHRoOiAxODBweDtcXG4gIH1cXG48L3N0eWxlPlxcblwiO1xuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGlicy4xMi5lNmJhZGU3OWNkZjJiZTgzZTk2Yy5qcyIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2luZGV4Lmh0bWwnXG5pbXBvcnQga28gZnJvbSAna25vY2tvdXQnXG5pbXBvcnQgJ0AvY29tcG9uZW50cydcbmZ1bmN0aW9uIGluaXQgKCkge1xuICB2YXIgdmlld21vZGVsID0ge1xuICAgIGNvZGU6IFtcbiAgICAgIGBcbiAgICAgIDx0ZW1wbGF0ZT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC00XCI+XG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVwicGxhY2Vob2xkZXI6ICfor7fovpPlhaXmlofmnKwuLicsIHZhbHVlOiAkcm9vdC52YWx1ZS5iYXNlMVwiPjwveS1pbnB1dD5cbiAgICAgICAgICA8aHIgY2xhc3M9XCJoci1maXhcIj5cbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XCJwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeaWh+acrC4uJywgdmFsdWU6ICRyb290LnZhbHVlLmJhc2UyLCBjbGFzczogJ3NldFdpZHRoJ1wiPjwveS1pbnB1dD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3RlbXBsYXRlPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgYmFzZTE6IGtvLm9ic2VydmFibGUoKSxcbiAgICAgICAgICAgIGJhc2UyOiBrby5vYnNlcnZhYmxlKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDwvc2NyaXB0PlxuICAgICAgYCxcbiAgICAgIGBcbiAgICAgIDx0ZW1wbGF0ZT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC00XCI+XG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVwicGxhY2Vob2xkZXI6J+ivt+i+k+WFpeaWh+acrCcsY2xhc3M6J3ktaW5saW5lLWJsb2NrJyx0eXBlOidpbnRlZ2VyJyx2YWx1ZTprby5vYnNlcnZhYmxlKCcnKVwiPjwveS1pbnB1dD5cbiAgICAgICAgICA8aHIgY2xhc3M9XCJoci1maXhcIj5cbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XCJwbGFjZWhvbGRlcjon6K+36L6T5YWl5paH5pysJyxjbGFzczoneS1pbmxpbmUtYmxvY2snLHR5cGU6J3Bvc2l0aXZlaW50ZWdlcicsdmFsdWU6a28ub2JzZXJ2YWJsZSgnJylcIj48L3ktaW5wdXQ+XG4gICAgICAgICAgPGhyIGNsYXNzPVwiaHItZml4XCI+XG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVwicGxhY2Vob2xkZXI6J+ivt+i+k+WFpeaWh+acrCcsY2xhc3M6J3ktaW5saW5lLWJsb2NrJyx0eXBlOidwb3NpdGl2ZW51bWJlcicsdmFsdWU6a28ub2JzZXJ2YWJsZSgnJylcIj48L3ktaW5wdXQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIGAsXG4gICAgICBgXG4gICAgICA8dGVtcGxhdGU+XG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cInBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5paH5pysLi4nLCB2YWx1ZTogJHJvb3QudmFsdWUuaWNvbiwgaWNvbkNsYXNzOidmYSBmYS1zZWFyY2gnLCBvbkljb25DbGljazogJHJvb3Qub25JY29uQ2xpY2tcIj48L3ktaW5wdXQ+XG4gICAgICA8L3RlbXBsYXRlPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgdmFyIHZpZXdtb2RlbCA9IHtcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgaWNvbjoga28ub2JzZXJ2YWJsZSgpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkljb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgYWxlcnQoJ0Rvbid0IHRvdWNoIG1lIScpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIGAsXG4gICAgICBgXG4gICAgICA8dGVtcGxhdGU+XG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cInBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5paH5pysLi4nLCB2YWx1ZTogJHJvb3QudmFsdWUuZGlzYWJsZWQsIGRpc2FibGVkOiAkcm9vdC5kaXNhYmxlZFwiPjwveS1pbnB1dD5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICB2YXIgdmlld21vZGVsID0ge1xuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBkaXNhYmxlZDoga28ub2JzZXJ2YWJsZSgpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXNhYmxlZDoga28ub2JzZXJ2YWJsZSh0cnVlKVxuICAgICAgICB9XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIGAsXG4gICAgICBgXG4gICAgICA8dGVtcGxhdGU+XG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cInBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5paH5pysLi4nLCB2YWx1ZTogJHJvb3QudmFsdWUuaW5wdXQsIGljb25DbGFzczonZmEgZmEtc2VhcmNoJywgb25JY29uQ2xpY2s6ICRyb290Lm9uSWNvbkNsaWNrLCBvbklucHV0OiAkcm9vdC5vbklucHV0LCBvbkJsdXI6ICRyb290Lm9uQmx1ciwgb25Gb2N1czogJHJvb3Qub25Gb2N1cywgb25TdWJtaXQ6ICRyb290Lm9uU3VibWl0XCI+PC95LWlucHV0PlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgIHZhciB2aWV3bW9kZWwgPSB7XG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIGlucHV0OiBrby5vYnNlcnZhYmxlKClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGV2ZW50VGV4dDoga28ub2JzZXJ2YWJsZSgpLFxuICAgICAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICBhbGVydCgnIERvbid0IHRvdWNoIG1lIScpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbklucHV0OiAoKSA9PiB7XG4gICAgICAgICAgICB2aWV3bW9kZWwuZXZlbnRUZXh0KCdvbklucHV0OiA8YnI+5q2j5Zyo6L6T5YWlLi4nKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Gb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgdmlld21vZGVsLmV2ZW50VGV4dCgnb25Gb2N1czogPGJyPkkgYW0gc2h5LCBkb24ndCBsb29rIGF0IG1lIScpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkJsdXI6ICgpID0+IHtcbiAgICAgICAgICAgIHZpZXdtb2RlbC5ldmVudFRleHQoJ29uQmx1cjogPGJyPkRvbid0IGxlYXZlIG1lIGFsb25lIScpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblN1Ym1pdDogKCkgPT4ge1xuICAgICAgICAgICAgdmlld21vZGVsLmV2ZW50VGV4dCgnb25TdWJtaXQ6IDxicj5lbnRlcuinpuWPkSEnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgPC9zY3JpcHQ+XG4gICAgICBgXG4gICAgXSxcbiAgICB2YWx1ZToge1xuICAgICAgYmFzZTE6IGtvLm9ic2VydmFibGUoKSxcbiAgICAgIGJhc2UyOiBrby5vYnNlcnZhYmxlKCksXG4gICAgICBpY29uOiBrby5vYnNlcnZhYmxlKCksXG4gICAgICBkaXNhYmxlZDoga28ub2JzZXJ2YWJsZSgpLFxuICAgICAgaW5wdXQ6IGtvLm9ic2VydmFibGUoKVxuICAgIH0sXG4gICAgZXZlbnRUZXh0OiBrby5vYnNlcnZhYmxlKCksXG4gICAgZGlzYWJsZWQ6IGtvLm9ic2VydmFibGUodHJ1ZSksXG4gICAgb25JY29uQ2xpY2s6ICgpID0+IHtcbiAgICAgIGFsZXJ0KGBEb24ndCB0b3VjaCBtZSFgKVxuICAgIH0sXG4gICAgb25JbnB1dDogKCkgPT4ge1xuICAgICAgdmlld21vZGVsLmV2ZW50VGV4dCgnb25JbnB1dDogPGJyPuato+WcqOi+k+WFpS4uJylcbiAgICB9LFxuICAgIG9uRm9jdXM6ICgpID0+IHtcbiAgICAgIHZpZXdtb2RlbC5ldmVudFRleHQoYG9uRm9jdXM6IDxicj5JIGFtIHNoeSwgZG9uJ3QgbG9vayBhdCBtZSFgKVxuICAgIH0sXG4gICAgb25CbHVyOiAoKSA9PiB7XG4gICAgICB2aWV3bW9kZWwuZXZlbnRUZXh0KGBvbkJsdXI6IDxicj5Eb24ndCBsZWF2ZSBtZSBhbG9uZSFgKVxuICAgIH0sXG4gICAgb25TdWJtaXQ6ICgpID0+IHtcbiAgICAgIHZpZXdtb2RlbC5ldmVudFRleHQoYG9uU3VibWl0OiA8YnI+ZW50ZXLop6blj5EhYClcbiAgICB9XG4gIH1cblxuICBrby5hcHBseUJpbmRpbmdzKHZpZXdtb2RlbCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKVxufVxuZXhwb3J0IGRlZmF1bHQge1xuICB0ZW1wbGF0ZSxcbiAgaW5pdFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL2lucHV0L2luZGV4LmpzIiwiaW1wb3J0ICcuL2RlbW8nXG5pbXBvcnQgJy4vdGl0bGUnXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9pbmRleC5qcyIsImltcG9ydCB0cGwgZnJvbSAnLi9pbmRleC5odG1sJ1xuaW1wb3J0ICcuL2luZGV4Lmxlc3MnXG5pbXBvcnQgJy4uL2NvZGUnXG5pbXBvcnQga28gZnJvbSAna25vY2tvdXQnXG5mdW5jdGlvbiBpbml0IChwYXJhbXMpIHtcbiAgdGhpcy5jb2RlID0gcGFyYW1zLmNvZGVcbiAgdGhpcy5pc1Nob3dBbGwgPSBrby5vYnNlcnZhYmxlKGZhbHNlKVxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzU2hvd0FsbCghdGhpcy5pc1Nob3dBbGwoKSlcbiAgfS5iaW5kKHRoaXMpXG59XG5rby5jb21wb25lbnRzLnJlZ2lzdGVyKCdkZW1vJywge1xuICB2aWV3TW9kZWw6IGluaXQsXG4gIHRlbXBsYXRlOiB0cGxcbn0pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9kZW1vL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImRlbW9cXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby1zaG93XFxcIj5cXG4gIDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcImRlbW8tc3BsaXRcXFwiPjwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby1jb2RlXFxcIiBkYXRhLWJpbmQ9XFxcImNzczp7J2RlbW8taGlkZUNvZGUnOiFpc1Nob3dBbGwoKX1cXFwiPlxcbiAgICA8eS1jb2RlIHBhcmFtcz1cXFwiY29kZTpjb2RlXFxcIj48L3ktY29kZT5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwiZGVtby10b2dnbGVcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6dG9nZ2xlXFxcIj48c3BhbiBjbGFzcz1cXFwiZmFcXFwiIGRhdGEtYmluZD1cXFwiY3NzOnsnZmEtYW5nbGUtZG91YmxlLWRvd24nOiFpc1Nob3dBbGwoKSwnZmEtYW5nbGUtZG91YmxlLXVwJzppc1Nob3dBbGwoKX1cXFwiPjwvc3Bhbj48L2Rpdj5cXG48L2Rpdj5cXG5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2RlbW8vaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwiaW1wb3J0IHRwbCBmcm9tICcuL2luZGV4Lmh0bWwnXG5pbXBvcnQgJy4vaW5kZXgubGVzcydcbmltcG9ydCBrbyBmcm9tICdrbm9ja291dCdcbmltcG9ydCBobGpzIGZyb20gJ2hpZ2hsaWdodGpzJ1xuaW1wb3J0IENsaXBib2FyZCBmcm9tICdjbGlwYm9hcmQnXG5pbXBvcnQgJ2hpZ2hsaWdodGpzL3N0eWxlcy9naXRodWIuY3NzJ1xuLy8gaW1wb3J0IHsgZGVidWcgfSBmcm9tICd1dGlsJ1xuZnVuY3Rpb24gSW5pdCAocGFyYW1zLCBlbCkge1xuICAvLyDlj6rojrflj5bpq5jkuq7nmoRET03vvIzlkKbliJnkvJrlvbHlk41rb+aMh+S7pFxuICB0aGlzLiRlbCA9IGVsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1szXVxuICB0aGlzLmNvZGUgPSBwYXJhbXMuY29kZVxuICB0aGlzLmNvcHkgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnLmNvcHknLCB7XG4gICAgICB0ZXh0ICgpIHtcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5jb2RlXG4gICAgICB9XG4gICAgfSlcbiAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCAoZSkgPT4ge1xuICAgICAgZS5jbGVhclNlbGVjdGlvbigpXG4gICAgICBjbGlwYm9hcmQuZGVzdHJveSgpXG4gICAgICB3aW5kb3cuYWxlcnQoJ+S7o+eggeW3suWkjeWItuWIsOWJqui0tOadvycpXG4gICAgfSlcbiAgfVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBobGpzLmhpZ2hsaWdodEJsb2NrKHRoaXMuJGVsKVxuICB9KVxufVxua28uY29tcG9uZW50cy5yZWdpc3RlcigneS1jb2RlJywge1xuICB2aWV3TW9kZWw6IHtcbiAgICBjcmVhdGVWaWV3TW9kZWw6IGZ1bmN0aW9uIChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgICAgIHJldHVybiBuZXcgSW5pdChwYXJhbXMsIGNvbXBvbmVudEluZm8uZWxlbWVudClcbiAgICB9XG4gIH0sXG4gIHRlbXBsYXRlOiB0cGxcbn0pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9jb2RlL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImNvZGVcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwidG9vbHNcXFwiPlxcbiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xpcGJvYXJkIGNvcHlcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IGNvcHlcXFwiPjwvaT5cXG4gIDwvZGl2PlxcbiAgPHByZT48Y29kZSBjbGFzcz1cXFwiaHRtbFxcXCIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb2RlXFxcIj48L2NvZGU+PC9wcmU+XFxuPC9kaXY+XFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9jb2RlL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICcuL2NsaXBib2FyZC1hY3Rpb24nLCAndGlueS1lbWl0dGVyJywgJ2dvb2QtbGlzdGVuZXInXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnLi9jbGlwYm9hcmQtYWN0aW9uJyksIHJlcXVpcmUoJ3RpbnktZW1pdHRlcicpLCByZXF1aXJlKCdnb29kLWxpc3RlbmVyJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiwgZ2xvYmFsLnRpbnlFbWl0dGVyLCBnbG9iYWwuZ29vZExpc3RlbmVyKTtcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZCA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9jbGlwYm9hcmRBY3Rpb24sIF90aW55RW1pdHRlciwgX2dvb2RMaXN0ZW5lcikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfY2xpcGJvYXJkQWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsaXBib2FyZEFjdGlvbik7XG5cbiAgICB2YXIgX3RpbnlFbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbnlFbWl0dGVyKTtcblxuICAgIHZhciBfZ29vZExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dvb2RMaXN0ZW5lcik7XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICAgIH1cblxuICAgIHZhciBDbGlwYm9hcmQgPSBmdW5jdGlvbiAoX0VtaXR0ZXIpIHtcbiAgICAgICAgX2luaGVyaXRzKENsaXBib2FyZCwgX0VtaXR0ZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdHJpZ2dlclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkKHRyaWdnZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2xpcGJvYXJkLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2xpcGJvYXJkKSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgX3RoaXMubGlzdGVuQ2xpY2sodHJpZ2dlcik7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyBpZiBhdHRyaWJ1dGVzIHdvdWxkIGJlIHJlc29sdmVkIHVzaW5nIGludGVybmFsIHNldHRlciBmdW5jdGlvbnNcbiAgICAgICAgICogb3IgY3VzdG9tIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkLCBbe1xuICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0eXBlb2Ygb3B0aW9ucy50YXJnZXQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRhcmdldCA6IHRoaXMuZGVmYXVsdFRhcmdldDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSB0eXBlb2Ygb3B0aW9ucy50ZXh0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50ZXh0IDogdGhpcy5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IF90eXBlb2Yob3B0aW9ucy5jb250YWluZXIpID09PSAnb2JqZWN0JyA/IG9wdGlvbnMuY29udGFpbmVyIDogZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnbGlzdGVuQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIgPSAoMCwgX2dvb2RMaXN0ZW5lcjIuZGVmYXVsdCkodHJpZ2dlciwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyBfY2xpcGJvYXJkQWN0aW9uMi5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbih0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0KHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRBY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRBY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRUYXJnZXQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRUYXJnZXQodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGdldEF0dHJpYnV0ZVZhbHVlKCd0YXJnZXQnLCB0cmlnZ2VyKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0VGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgndGV4dCcsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0sIFt7XG4gICAgICAgICAgICBrZXk6ICdpc1N1cHBvcnRlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogWydjb3B5JywgJ2N1dCddO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyA/IFthY3Rpb25dIDogYWN0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBzdXBwb3J0ID0gISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7XG5cbiAgICAgICAgICAgICAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ID0gc3VwcG9ydCAmJiAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChhY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkO1xuICAgIH0oX3RpbnlFbWl0dGVyMi5kZWZhdWx0KTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXRyaWV2ZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1ZmZpeFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKHN1ZmZpeCwgZWxlbWVudCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gJ2RhdGEtY2xpcGJvYXJkLScgKyBzdWZmaXg7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZDtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NsaXBib2FyZC9saWIvY2xpcGJvYXJkLmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnc2VsZWN0J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5zZWxlY3QpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX3NlbGVjdCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBDbGlwYm9hcmRBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkQWN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyBiYXNlIHByb3BlcnRpZXMgcGFzc2VkIGZyb20gY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyID0gb3B0aW9ucy5lbWl0dGVyO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlcjtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRTZWxlY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEZha2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RGYWtlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgaXNSVEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKSA9PSAncnRsJztcblxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSB8fCB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB6b29taW5nIG9uIGlPU1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuZm9udFNpemUgPSAnMTJwdCc7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAnMCc7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wYWRkaW5nID0gJzAnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCBvdXQgb2Ygc2NyZWVuIGhvcml6b250YWxseVxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgdG8gdGhlIHNhbWUgcG9zaXRpb24gdmVydGljYWxseVxuICAgICAgICAgICAgICAgIHZhciB5UG9zaXRpb24gPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9IHlQb3NpdGlvbiArICdweCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdyZW1vdmVGYWtlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGYWtlKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZha2VIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0VGFyZ2V0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RUYXJnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY29weVRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHlUZXh0KCkge1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZWVkZWQgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hhbmRsZVJlc3VsdCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KHN1Y2NlZWRlZCA/ICdzdWNjZXNzJyA6ICdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zZWxlY3RlZFRleHQsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjbGVhclNlbGVjdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FjdGlvbicsXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnY29weSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uICE9PSAnY29weScgJiYgdGhpcy5fYWN0aW9uICE9PSAnY3V0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RhcmdldCcsXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAmJiAodHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0KSkgPT09ICdvYmplY3QnICYmIHRhcmdldC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY29weScgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSBcInJlYWRvbmx5XCIgaW5zdGVhZCBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2N1dCcgJiYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5JykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIENsaXBib2FyZEFjdGlvbjtcbiAgICB9KCk7XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZEFjdGlvbjtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NsaXBib2FyZC9saWIvY2xpcGJvYXJkLWFjdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwiZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZWN0ZWRUZXh0O1xuXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgdmFyIGlzUmVhZE9ubHkgPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKTtcblxuICAgICAgICBpZiAoIWlzUmVhZE9ubHkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZWxlbWVudC52YWx1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3NlbGVjdC9zcmMvc2VsZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJmdW5jdGlvbiBFICgpIHtcbiAgLy8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RpbnktZW1pdHRlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwidmFyIGlzID0gcmVxdWlyZSgnLi9pcycpO1xudmFyIGRlbGVnYXRlID0gcmVxdWlyZSgnZGVsZWdhdGUnKTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZycpO1xuICAgIH1cblxuICAgIGlmICghaXMuZm4oY2FsbGJhY2spKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5TZWxlY3RvcihzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9nb29kLWxpc3RlbmVyL3NyYy9saXN0ZW4uanNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsIi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2dvb2QtbGlzdGVuZXIvc3JjL2lzLmpzXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJ2YXIgY2xvc2VzdCA9IHJlcXVpcmUoJy4vY2xvc2VzdCcpO1xuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ3xBcnJheX0gW2VsZW1lbnRzXVxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50cywgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgLy8gSGFuZGxlIHRoZSByZWd1bGFyIEVsZW1lbnQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBFbGVtZW50LWxlc3MgdXNhZ2UsIGl0IGRlZmF1bHRzIHRvIGdsb2JhbCBkZWxlZ2F0aW9uXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFVzZSBgZG9jdW1lbnRgIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIHRoZW4gYXBwbHkgYXJndW1lbnRzXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzaG9ydCB3YXkgdG8gLnVuc2hpZnQgYGFyZ3VtZW50c2Agd2l0aG91dCBydW5uaW5nIGludG8gZGVvcHRpbWl6YXRpb25zXG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYmluZChudWxsLCBkb2N1bWVudCkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgU2VsZWN0b3ItYmFzZWQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBBcnJheS1saWtlIGJhc2VkIHVzYWdlXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9kZWxlZ2F0ZS9zcmMvZGVsZWdhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSAxNiAxNyAxOCAxOSAyMCAyMSAyMiAyMyAyNCAyNSAyNiIsInZhciBET0NVTUVOVF9OT0RFX1RZUEUgPSA5O1xuXG4vKipcbiAqIEEgcG9seWZpbGwgZm9yIEVsZW1lbnQubWF0Y2hlcygpXG4gKi9cbmlmICh0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgICB2YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcblxuICAgIHByb3RvLm1hdGNoZXMgPSBwcm90by5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBhcmVudCB0aGF0IG1hdGNoZXMgYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNsb3Nlc3QgKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSAhPT0gRE9DVU1FTlRfTk9ERV9UWVBFKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5tYXRjaGVzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvc2VzdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9jbG9zZXN0LmpzXG4vLyBtb2R1bGUgaWQgPSA1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEgMTIgMTMgMTQgMTUgMTYgMTcgMTggMTkgMjAgMjEgMjIgMjMgMjQgMjUgMjYiLCJpbXBvcnQgdHBsIGZyb20gJy4vaW5kZXguaHRtbCdcbmltcG9ydCBrbyBmcm9tICdrbm9ja291dCdcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICB0aGlzLm5hbWUgPSBwYXJhbXMubmFtZSB8fCAnJ1xuICB0aGlzLmxpbmsgPSBwYXJhbXMubGluayB8fCAnJ1xufVxua28uY29tcG9uZW50cy5yZWdpc3RlcigneS10aXRsZScsIHtcbiAgdmlld01vZGVsOiBpbml0LFxuICB0ZW1wbGF0ZTogdHBsXG59KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGgxPlxcbiAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBuYW1lXFxcIj48L3NwYW4+57uE5Lu2XFxuPC9oMT5cXG48IS0tIGtvIGlmOiBsaW5rLS0+XFxuPGgyPlxcbiAgPGEgZGF0YS1iaW5kPVxcXCJhdHRyOiB7aHJlZjogbGlua31cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBzdHlsZT1cXFwiY29sb3I6ICMyYmFlZTlcXFwiPlxcbiAgICA8c3BhbiBkYXRhLWJpbmQ9XFxcInRleHQ6IG5hbWVcXFwiPjwvc3Bhbj7nu4Tku7ZBUEnmlofmoaNcXG4gIDwvYT5cXG48L2gyPlxcbjwhLS0gL2tvIC0tPlxcbjxoMj7ku6PnoIHnpLrkvos8L2gyPlxcblwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdGl0bGUvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDcgOCA5IDEwIDExIDEyIDEzIDE0IDE1IDE2IDE3IDE4IDE5IDIwIDIxIDIyIDIzIDI0IDI1IDI2IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInktYm94XFxcIj5cXG4gIDx5LXRpdGxlIHBhcmFtcz1cXFwibmFtZTogJ0lucHV05qCH562+J1xcXCI+PC95LXRpdGxlPlxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbMF1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC00XFxcIj5cXG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cXFwicGxhY2Vob2xkZXI6ICfor7fovpPlhaXmlofmnKwuLicsIHZhbHVlOiAkcm9vdC52YWx1ZS5iYXNlMVxcXCI+PC95LWlucHV0PlxcbiAgICAgICAgPGhyIGNsYXNzPVxcXCJoci1maXhcXFwiPlxcbiAgICAgICAgPHktaW5wdXQgcGFyYW1zPVxcXCJwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeaWh+acrC4uJywgdmFsdWU6ICRyb290LnZhbHVlLmJhc2UyLCBjbGFzczogJ3NldFdpZHRoJ1xcXCI+PC95LWlucHV0PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1zcGxpdFxcXCI+XFxuICAgICAgPHNwYW4+5Z+656GA55So5rOVPC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1ib3R0b21cXFwiPlxcbiAgICAgIOWfuuacrOeUqOazle+8jOWPr+S7peS9v+eUqHZhbHVl5a6e546w5pWw5o2u55qE5Y+M5ZCR57uR5a6a44CCXFxuICAgICAg5Y+v5Lul6K6+572uY2xhc3PmnaXmlLnlj5jovpPlhaXmoYbnmoTlrr3luqblj4rlhbbku5bmoLflvI/vvIzpu5jorqQgMTAwJeOAglxcbiAgICA8L2Rpdj5cXG4gIDwvZGVtbz5cXG4gIFxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbMV1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcFxcXCI+XFxuICAgICAgPHktZm9ybSBwYXJhbXM9XFxcImxhYmVsV2lkdGg6JzEwMHB4J1xcXCI+XFxuICAgICAgICA8eS1mb3JtaXRlbSBwYXJhbXM9XFxcImxhYmVsOifmlbTmlbDovpPlhaXmoYYnXFxcIj5cXG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVxcXCJwbGFjZWhvbGRlcjon6K+36L6T5YWl5paH5pysJyxjbGFzczoneS1pbmxpbmUtYmxvY2snLHR5cGU6J2ludGVnZXInLHZhbHVlOmtvLm9ic2VydmFibGUoJycpXFxcIj48L3ktaW5wdXQ+XFxuICAgICAgICA8L3ktZm9ybWl0ZW0+XFxuICAgICAgICA8eS1mb3JtaXRlbSBwYXJhbXM9XFxcImxhYmVsOifmraPmlbTmlbDovpPlhaXmoYYnXFxcIj5cXG4gICAgICAgICAgPHktaW5wdXQgcGFyYW1zPVxcXCJwbGFjZWhvbGRlcjon6K+36L6T5YWl5paH5pysJyxjbGFzczoneS1pbmxpbmUtYmxvY2snLHR5cGU6J3Bvc2l0aXZlaW50ZWdlcicsdmFsdWU6a28ub2JzZXJ2YWJsZSgnJylcXFwiPjwveS1pbnB1dD5cXG4gICAgICAgIDwveS1mb3JtaXRlbT5cXG4gICAgICAgIDx5LWZvcm1pdGVtIHBhcmFtcz1cXFwibGFiZWw6J+ato+aVsOi+k+WFpeahhidcXFwiPlxcbiAgICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XFxcInBsYWNlaG9sZGVyOifor7fovpPlhaXmlofmnKwnLGNsYXNzOid5LWlubGluZS1ibG9jaycsdHlwZToncG9zaXRpdmVudW1iZXInLHZhbHVlOmtvLm9ic2VydmFibGUoJycpXFxcIj48L3ktaW5wdXQ+XFxuICAgICAgICA8L3ktZm9ybWl0ZW0+XFxuICAgICAgPC95LWZvcm0+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj7ovpPlhaXmoYbnsbvlnos8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAg6Zmk5pSv5oyBaW5wdXTovpPlhaXmoYbnmoTln7rmnKznsbvlnovvvIzov5jmlK/mjIHorr7nva48YnI+PGNvZGU+dHlwZTwvY29kZT7kuLo8Y29kZT5pbnRlZ2VyPC9jb2RlPijmlbTmlbAp44CBPGNvZGU+cG9zaXRpdmVpbnRlZ2VyPC9jb2RlPijmraPmlbTmlbAp44CBPGNvZGU+cG9zaXRpdmVudW1iZXI8L2NvZGU+KOato+aVsCnjgIJcXG4gICAgPC9kaXY+XFxuICA8L2RlbW8+XFxuXFxuICA8ZGVtbyBwYXJhbXM9XFxcImNvZGU6Y29kZVsyXVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvZGUtdG9wIHJvd1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTRcXFwiPlxcbiAgICAgICAgPHktaW5wdXQgcGFyYW1zPVxcXCJwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeaWh+acrC4uJywgdmFsdWU6ICRyb290LnZhbHVlLmljb24sIGljb25DbGFzczonZmEgZmEtc2VhcmNoJywgb25JY29uQ2xpY2s6ICRyb290Lm9uSWNvbkNsaWNrXFxcIj48L3ktaW5wdXQ+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj7luKZJY29u55qE6L6T5YWl5qGGPC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1ib3R0b21cXFwiPlxcbiAgICAgIOmAmui/h2ljb25DbGFzc+WxnuaAp+a3u+WKoOexuyjkvovlpoJmYeWbvuagh+mbhinlj6/ku6XlnKjovpPlhaXmoYblj7PovrnliqDkuIDkuKrlm77moIfjgIJcXG4gICAgICDngrnlh7vlm77moIfvvIzkvJrop6blj5Fvbkljb25DbGlja+S6i+S7tuOAglxcbiAgICA8L2Rpdj5cXG4gIDwvZGVtbz5cXG5cXG4gIDxkZW1vIHBhcmFtcz1cXFwiY29kZTpjb2RlWzNdXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS10b3Agcm93XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtNFxcXCI+XFxuICAgICAgICA8eS1pbnB1dCBwYXJhbXM9XFxcInBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5paH5pysLi4nLCB2YWx1ZTogJHJvb3QudmFsdWUuZGlzYWJsZWQsIGRpc2FibGVkOiAkcm9vdC5kaXNhYmxlZFxcXCI+PC95LWlucHV0PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1zcGxpdFxcXCI+XFxuICAgICAgPHNwYW4+56aB55So54q25oCBPC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29kZS1ib3R0b21cXFwiPlxcbiAgICAgIOmAmui/h+a3u+WKoGRpc2FibGVk5bGe5oCn5Y+v6K6+572u5Li65LiN5Y+v55So54q25oCB44CCXFxuICAgIDwvZGl2PlxcbiAgPC9kZW1vPlxcblxcbiAgPGRlbW8gcGFyYW1zPVxcXCJjb2RlOmNvZGVbNF1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXRvcCByb3dcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC00XFxcIj5cXG4gICAgICAgIDx5LWlucHV0IHBhcmFtcz1cXFwicGxhY2Vob2xkZXI6ICfor7fovpPlhaXmlofmnKwuLicsIHZhbHVlOiAkcm9vdC52YWx1ZS5pbnB1dCwgaWNvbkNsYXNzOidmYSBmYS1zZWFyY2gnLCBvbkljb25DbGljazogJHJvb3Qub25JY29uQ2xpY2ssIG9uSW5wdXQ6ICRyb290Lm9uSW5wdXQsIG9uQmx1cjogJHJvb3Qub25CbHVyLCBvbkZvY3VzOiAkcm9vdC5vbkZvY3VzLCBvblN1Ym1pdDogJHJvb3Qub25TdWJtaXRcXFwiPjwveS1pbnB1dD5cXG4gICAgICAgIDxociBjbGFzcz1cXFwiaHItZml4XFxcIj5cXG4gICAgICAgIDxzcGFuIGRhdGEtYmluZD1cXFwiaHRtbDogJHJvb3QuZXZlbnRUZXh0XFxcIj48L3NwYW4+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLXNwbGl0XFxcIj5cXG4gICAgICA8c3Bhbj7miYDmnInkuovku7Y8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2RlLWJvdHRvbVxcXCI+XFxuICAgICAg54K55Ye75Zu+5qCH5pe26Kem5Y+Rb25JY29uQ2xpY2vkuovku7bvvIzovpPlhaXml7bop6blj5FvbklucHV05LqL5Lu277yM6I635b6X54Sm54K55pe26Kem5Y+Rb25Gb2N1c+S6i+S7tu+8jDxicj7lpLHljrvnhKbngrnml7bop6blj5FvbkJsdXLkuovku7bvvIzlm57ovabop6blj5FvblN1Ym1pdOS6i+S7tuOAglxcbiAgICA8L2Rpdj5cXG4gIDwvZGVtbz5cXG48L2Rpdj5cXG48c3R5bGU+XFxuICAuc2V0V2lkdGgge1xcbiAgICB3aWR0aDogMTgwcHg7XFxuICB9XFxuPC9zdHlsZT5cXG5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy92aWV3cy9pbnB1dC9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSA3NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEyIl0sInNvdXJjZVJvb3QiOiIifQ==